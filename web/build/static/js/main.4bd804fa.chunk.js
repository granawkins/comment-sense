(this["webpackJsonpreact-material"]=this["webpackJsonpreact-material"]||[]).push([[0],{308:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(20),i=n.n(r),s=n(11),o=n(21),l=n(17),j=n(383),d=n(8),b=n(163),u="#B70000",h="200",O=function(){return Object(b.a)({typography:{fontFamily:["Roboto"],h1:{fontSize:"2.5em",fontWeight:"800",lineHeight:"1"},h3:{fontSize:"2em",fontWeight:"600"},h4:{fontSize:"2em",fontWeight:h,color:u},h5:{fontSize:"1.2em",fontWeight:"600"},h6:{fontSize:"1.2em",fontWeight:h},body1:{fontSize:"1em",fontWeight:h}},overrides:{MuiCssBaseline:{"@global":{"@font-face":"Roboto"}}},palette:{primary:{main:"#F5F5F5",dark:"#1E1E1E"},secondary:{main:"#FFFFFF",dark:"#252526"},error:{main:"#B70000",dark:"#FFFFFF"},csRed:{main:u,dark:"#8B0000"},faded:{main:"#7D7D7D"}},components:{MuiButton:{variants:[]}}})},p=n(4),x=n(385),m=n(128),f=n(357),g=n(358),v=n(1),y=Object(d.a)((function(e){return{root:{position:"absolute",top:"0",left:"0",width:"100%",backgroundColor:"white",zIndex:"100"},container:{margin:e.spacing(2),display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},logoText:{fontSize:"24px",fontWeight:"400"},csRed:{color:e.palette.csRed.main},enterButton:{textTransform:"none",fontSize:"1.1em",fontWeight:"200",padding:"2px"}}}))((function(e){var t=e.classes,n=Object(l.g)(),c=Object(a.useState)(!1),r=Object(p.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){window.addEventListener("keydown",(function(e){e.ctrlKey&&"l"===e.key&&s(!0)}))}),[]),Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)(x.a,{className:t.container,children:[Object(v.jsx)(o.b,{to:"/",children:Object(v.jsx)(f.a,{component:"button",underline:"none",color:"textPrimary",children:Object(v.jsxs)(x.a,{display:"flex",flexDirection:"row",children:[Object(v.jsx)(m.a,{className:t.logoText,children:"Comment"}),Object(v.jsx)(m.a,{className:"".concat(t.logoText," ").concat(t.csRed),children:"Sense"})]})})}),Object(v.jsx)("div",{className:t.enter,children:i?Object(v.jsx)(g.a,{className:t.enterButton,onClick:function(){n.push("/")},children:"Login"}):null})]})})})),w=Object(d.a)((function(e){return{root:{position:"absolute",width:"100%",bottom:"0",left:"0",backgroundColor:e.palette.secondary.main,margin:"0",zIndex:"100"},container:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",flexWrap:"nowrap",margin:e.spacing(2)},linksRow:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-evenly"},linksCol:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"},link:{color:"inherit",textDecoration:"none","&:hover":{color:e.palette.secondary.dark}},copyright:{color:e.palette.faded.main}}}))((function(e){var t=e.align,n=void 0===t?"row":t,a=e.classes;return Object(v.jsx)("div",{className:a.root,children:Object(v.jsxs)(x.a,{className:a.container,children:[Object(v.jsxs)("div",{className:"row"===n?a.linksRow:a.linksCol,children:[Object(v.jsx)(o.b,{to:"/blog",className:a.link,children:Object(v.jsx)(m.a,{variant:"body1",children:"Blog"})}),Object(v.jsx)(o.b,{to:"/contact",className:a.link,children:Object(v.jsx)(m.a,{variant:"body1",children:"Contact"})}),Object(v.jsx)(o.b,{to:"/privacy",className:a.link,children:Object(v.jsx)(m.a,{variant:"body1",children:"Privacy"})}),Object(v.jsx)(o.b,{to:"/terms",className:a.link,children:Object(v.jsx)(m.a,{variant:"body1",children:"Terms"})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(m.a,{variant:"body1",className:a.copyright,children:"\xa92021 Comment Sense"})]})})})),k=n(67),N=n.n(k),S=n(10),C=n.n(S),I=n(14),D=n(6),E=n(384),R=n(360),z=n(361),T=n(362),_=n(364),B=function(){var e=Object(I.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function e(t){if("number"===typeof t){var n=t.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}try{return e(parseInt(t))}catch(a){return t}},A=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function L(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time",n=Date.parse(e),a=new Date(n);switch(t){case"time":return a.toLocaleString();case"date":var c={year:"numeric",month:"long",day:"numeric"};return a.toLocaleDateString(void 0,c);default:return e}},P=n(359),M=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{textAlign:"center",width:"100%"},csRed:{color:e.palette.csRed.main}})}))((function(e){var t=e.classes;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsx)(P.a,{className:t.csRed})})})),U=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.isOpen,n=e.setIsOpen,c=e.classes,r=Object(a.useState)(!1),i=Object(p.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),j=Object(p.a)(l,2),d=j[0],b=j[1],u=Object(a.useState)(!1),h=Object(p.a)(u,2),O=h[0],x=h[1],f=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,B("/api/add_waitlist",{email:P.current});case 3:e.sent.error?x(!0):b(!0),window.setTimeout((function(){n(!1)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=Object(a.useState)(!1),w=Object(p.a)(y,2),k=w[0],N=w[1],S=function(){!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(P.current)?N(!0):f()},D=function(){n(!1)},F=Object(a.useState)(""),A=Object(p.a)(F,2),L=A[0],W=A[1],P=Object(a.useRef)(L),U=function(e){"Enter"===e.key&&S()};Object(a.useEffect)((function(){t?window.addEventListener("keydown",U):window.removeEventListener("keydown",U)}),[t]);var G=Object(a.useState)(null),q=Object(p.a)(G,2),H=q[0],J=q[1];return Object(a.useEffect)((function(){J(!s||d||O?d?Object(v.jsx)(m.a,{className:c.body1,children:"Success! We'll be in touch."}):O?Object(v.jsx)(m.a,{className:c.body1,children:"Error. Please try again later."}):null:Object(v.jsx)(M,{}))}),[s,d,O]),Object(v.jsxs)(R.a,{open:t,onClose:D,children:[Object(v.jsx)(z.a,{id:"form-dialog-title",children:Object(v.jsx)(m.a,{className:c.h5,children:"Join Waitlist"})}),Object(v.jsx)(T.a,{children:H||Object(v.jsx)(E.a,{error:!!k,helperText:k?"Enter a valid email address":"",autoFocus:!0,placeholder:"Enter email address",margin:"none",type:"email",onChange:function(e){W(e.target.value),P.current=e.target.value,k&&N(!1)},value:L})}),Object(v.jsx)(_.a,{children:H?null:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{onClick:D,variant:"contained",color:"primary",children:"CANCEL"}),Object(v.jsx)(g.a,{type:"submit",onClick:S,variant:"contained",className:c.csRed,children:"SUBMIT"})]})})]})})),G=n.p+"static/media/iphone-frame.4b5704a0.png",q=n.p+"static/media/demo-gif.39369f0a.gif",H=Object(d.a)((function(e){var t;return{root:{height:"100vh",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center"},content:Object(s.a)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",flexWrap:"nowrap",marginTop:e.spacing(16),margin:e.spacing(2),maxWidth:"100%"},e.breakpoints.up("sm"),{width:"600px"}),textBlock:{width:"60%"},red:{color:e.palette.csRed.main},benefit:Object(s.a)({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"2px",fontSize:"1em",fontWeight:"200"},e.breakpoints.up("sm"),{fontSize:"1.2em",padding:"4px"}),checkGap:{width:"10px"},imageBlock:{position:"relative",paddingRight:"10px",width:"40%"},iPhoneFrame:(t={position:"relative",zIndex:20},Object(s.a)(t,"position","relative"),Object(s.a)(t,"top",0),Object(s.a)(t,"left",0),Object(s.a)(t,"padding","10px"),Object(s.a)(t,"width","100%"),t),demoGif:Object(s.a)({zIndex:10,position:"absolute",top:0,left:0,padding:"15%",width:"78%"},e.breakpoints.up("sm"),{padding:"10%",width:"84%"}),link:{color:"inherit",textDecoration:"none"},ctaDesktop:Object(s.a)({display:"none"},e.breakpoints.up("sm"),{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-evenly",marginTop:e.spacing(2)}),ctaMobile:Object(s.a)({display:"flex",flexDirection:"column"},e.breakpoints.up("sm"),{display:"none"}),ctaButton:Object(s.a)({fontSize:"1em",width:"200px",height:"50px",margin:e.spacing(2)},e.breakpoints.up("sm"),{width:"160px",height:"40px",margin:"0"}),ctaRed:{backgroundColor:e.palette.csRed.main,color:"white","&:hover":{backgroundColor:e.palette.csRed.dark}},ctaDark:{backgroundColor:e.palette.secondary.dark,color:"white","&:hover":{backgroundColor:e.palette.primary.dark}}}}))((function(e){var t=e.classes,n=Object(a.useState)(!1),c=Object(p.a)(n,2),r=c[0],i=c[1],s=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(o.b,{to:"/dashboard",className:t.link,children:Object(v.jsx)(g.a,{id:"demo",variant:"contained",className:"".concat(t.ctaButton," ").concat(t.ctaRed),children:"DEMO"})}),Object(v.jsx)(g.a,{id:"freeTrial",variant:"contained",className:"".concat(t.ctaButton," ").concat(t.ctaDark),onClick:function(){return i(!0)},children:"JOIN WAIT LIST"})]});return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(U,{isOpen:r,setIsOpen:i}),Object(v.jsxs)("div",{className:t.content,children:[Object(v.jsxs)("div",{className:t.textBlock,children:[Object(v.jsxs)(m.a,{variant:"h1",style:{fontFamily:"Roboto"},children:["Your",Object(v.jsx)("br",{}),"YouTube",Object(v.jsx)("br",{}),"comments,",Object(v.jsx)("br",{}),Object(v.jsx)("span",{className:t.red,children:"sorted."})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(m.a,{className:t.benefit,children:[Object(v.jsx)(N.a,{style:{fontSize:"1.5em"}}),Object(v.jsx)("div",{className:t.checkGap}),"Scan hundreds of comments in seconds"]}),Object(v.jsxs)(m.a,{className:t.benefit,children:[Object(v.jsx)(N.a,{style:{fontSize:"1.5em"}}),Object(v.jsx)("div",{className:t.checkGap}),"Cluster by topic"]}),Object(v.jsxs)(m.a,{className:t.benefit,children:[Object(v.jsx)(N.a,{style:{fontSize:"1.5em"}}),Object(v.jsx)("div",{className:t.checkGap}),"AI-powered sentiment analysis"]}),Object(v.jsxs)(m.a,{className:t.benefit,style:{fontWeight:"600"},children:[Object(v.jsx)(N.a,{style:{fontSize:"1.5em"}}),Object(v.jsx)("div",{className:t.checkGap}),"Get the full story"]}),Object(v.jsx)("div",{className:t.ctaDesktop,children:s})]}),Object(v.jsxs)("div",{className:t.imageBlock,children:[Object(v.jsx)("img",{src:G,className:t.iPhoneFrame}),Object(v.jsx)("img",{src:q,className:t.demoGif})]})]}),Object(v.jsx)("div",{className:t.ctaMobile,children:s})]})})),J=n(167),Y=(Object(d.a)((function(e){var t;return Object(D.a)(Object(D.a)({},e.typography),{},{root:{height:"100vh",width:"100%",backgroundColor:e.palette.primary.main,display:"flex",flexDirection:"column",alignItems:"center"},content:(t={width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},Object(s.a)(t,"alignItems","center"),Object(s.a)(t,"marginTop","-50px"),Object(s.a)(t,e.breakpoints.up("sm"),{width:"600px"}),t),options:Object(s.a)({width:"80%",display:"flex",flexDirection:"column",marginTop:"30px"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),option:Object(s.a)({height:"250px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",margin:e.spacing(1),padding:e.spacing(2)},e.breakpoints.up("sm"),{height:"300px",margin:e.spacing(2),padding:e.spacing(4)}),ctaButton:Object(s.a)({fontSize:"1em",width:"200px",height:"50px",margin:e.spacing(2)},e.breakpoints.up("sm"),{width:"160px",height:"40px",margin:"0"}),ctaRed:{backgroundColor:e.palette.csRed.main,color:"white","&:hover":{backgroundColor:e.palette.csRed.dark}},ctaDark:{backgroundColor:e.palette.secondary.dark,color:"white","&:hover":{backgroundColor:e.palette.primary.dark}}})}))((function(e){var t=e.classes;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)("div",{className:t.content,children:[Object(v.jsx)(m.a,{variant:"h4",children:"Pricing"}),Object(v.jsxs)("div",{className:t.options,children:[Object(v.jsxs)(J.a,{className:t.option,children:[Object(v.jsx)(m.a,{className:t.h5,children:"Pay as you go"}),Object(v.jsxs)(m.a,{className:t.body1,children:[Object(v.jsx)("li",{children:"Livestream & Catalog"}),Object(v.jsx)("li",{children:"Browse by video or topic"}),Object(v.jsx)("li",{children:"User-defined libraries"}),Object(v.jsx)("li",{children:"Comment Quota"})]}),Object(v.jsx)(m.a,{className:t.h6,children:"$5 / 10,000 comments"}),Object(v.jsx)(g.a,{variant:"contained",className:"".concat(t.ctaButton," ").concat(t.ctaDark),children:"BUY NOW"})]}),Object(v.jsxs)(J.a,{className:t.option,children:[Object(v.jsx)(m.a,{className:t.h5,children:"Subscribe"}),Object(v.jsxs)(m.a,{className:t.body1,children:[Object(v.jsx)("li",{children:"Livestream & Catalog"}),Object(v.jsx)("li",{children:"Browse by video or topic"}),Object(v.jsx)("li",{children:"User-defined libraries"}),Object(v.jsx)("li",{style:{fontWeight:"600"},children:"Unlimited comments"})]}),Object(v.jsx)(m.a,{className:t.h6,children:"$20/month"}),Object(v.jsx)(g.a,{variant:"contained",className:"".concat(t.ctaButton," ").concat(t.ctaRed),children:"SUBSCRIBE"})]})]})]})})})),Object(d.a)((function(e){return{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"}}}))((function(e){var t=e.classes;return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(y,{}),Object(v.jsx)(H,{})]})}))),$=n(169),Q=n(108),V=n.n(Q),Z=n(390),K=n(387),X=n(363),ee=n(312),te=n(365),ne=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{drawer:{position:"relative",height:"100%"},drawerPaper:{width:"240px"},logoBox:{display:"flex",flexDirection:"row",padding:e.spacing(2)},logoText:{fontSize:"24px",fontWeight:"400"},channelBox:{padding:e.spacing(2)},avatar:{borderRadius:"50%",width:"100px"},initialCircle:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:"darkGray",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"canter"},initial:{fontSize:"30pt",width:"100%",textAlign:"center"},csRed:{color:e.palette.csRed.main},link:{color:"inherit",textDecoration:"none"},footer:{position:"absolute",left:0,bottom:0}})}))((function(e){var t=e.section,n=e.drawerItems,c=e.activePage,r=e.mobileOpen,i=e.handleDrawerToggle,s=e.channel,j=e.classes,d=Object(l.g)(),b=Object(a.useState)(null),u=Object(p.a)(b,2),h=u[0],O=u[1];if(Object(a.useEffect)((function(){s&&(s.thumbnail?O(Object(v.jsx)(te.a,{className:j.avatar,component:"img",src:s.thumbnail,title:s.channel_title+"Avatar"})):O(Object(v.jsx)("div",{className:j.initialCircle,children:Object(v.jsx)(m.a,{className:j.initial,children:s.channel_title.charAt(0)})})))}),[s]),Object(a.useEffect)((function(){i("closed")}),[c]),!s)return null;var x=Object(v.jsxs)("div",{className:j.drawer,children:[Object(v.jsx)(o.b,{to:"../../dashboard",className:j.link,children:Object(v.jsxs)("div",{className:j.logoBox,children:[Object(v.jsx)(m.a,{className:j.logoText,children:"Comment"}),Object(v.jsx)(m.a,{className:"".concat(j.logoText," ").concat(j.csRed),children:"Sense"})]})}),Object(v.jsxs)("div",{className:j.channelBox,children:[h,Object(v.jsx)(m.a,{classes:{root:j.h6},children:s.channel_title})]}),Object(v.jsxs)(X.a,{children:[n.map((function(e,n){return Object(v.jsx)(o.b,{to:"/".concat(t,"/").concat(e),className:j.link,children:Object(v.jsx)(ee.a,{button:!0,selected:e===c,children:Object(v.jsx)(m.a,{classes:{root:j.h6},children:A(e)})},e)},e)})),Object(v.jsx)(o.b,{onClick:function(){d.push("/")},className:j.link,children:Object(v.jsx)(ee.a,{button:!0,children:Object(v.jsx)(m.a,{classes:{root:j.h6},children:"Logout"})},"logout")},"logout")]}),Object(v.jsx)(w,{align:"col"})]});return Object(v.jsxs)("nav",{className:j.drawer,"aria-label":"mailbox folders",children:[Object(v.jsx)(K.a,{mdUp:!0,implementation:"css",children:Object(v.jsx)(Z.a,{variant:"temporary",anchor:"left",open:r,onClose:i,classes:{paper:j.drawerPaper},ModalProps:{keepMounted:!0},children:x})}),Object(v.jsx)(K.a,{smDown:!0,implementation:"css",children:Object(v.jsx)(Z.a,{classes:{paper:j.drawerPaper},variant:"permanent",open:!0,children:x})})]})})),ae=n(103),ce=n.n(ae),re=n(367),ie=n(165),se=n(368),oe=n(158),le=n.n(oe),je=n(157),de=n.n(je),be=Object(d.a)((function(e){return{default:{display:"flex",flexDirection:"column",alignContents:"flex-start",margin:"5px",padding:"5px",backgroundColor:"#f5f5f5"},attribute:{borderRadius:"12px",height:"24px",margin:"3px 1px"},activeAttribute:{borderRadius:"12px",height:"24px",backgroundColor:e.palette.csRed.main,color:"white",margin:"3px 1px"}}}))((function(e){var t=e.type,n=e.value,c=e.onClick,r=e.active,i=e.classes,s=Object(a.useState)(null),o=Object(p.a)(s,2),l=o[0],j=o[1],d=Object(a.useState)(""),b=Object(p.a)(d,2),u=b[0],h=b[1];return Object(a.useEffect)((function(){switch(t){case"label":h("default");break;case"tok":h("link");break;default:j("Unrecognized Type")}}),[]),Object(v.jsx)(v.Fragment,{children:l?Object(v.jsx)("div",{children:l}):Object(v.jsx)(g.a,{size:"small",variant:"contained",color:u,classes:{root:r?i.activeAttribute:i.attribute},onClick:c,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:n}})})})})),ue=n(366),he=Object(d.a)((function(e){return{switchBase:{"&$checked":{color:e.palette.csRed.main},"&$checked + $track":{backgroundColor:e.palette.csRed.main}},checked:{},track:{}}}))(ue.a),Oe=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",textAlign:"center",width:"100%",margin:"0",padding:"0"},row:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",width:"100%",marginTop:e.spacing(1)},actionButton:{backgroundColor:e.palette.csRed.main,color:"white",top:"0",margin:"0px 5px"},search:{flexGrow:"1"},sortIcon:{height:"100%"}})}))((function(e){e.type;var t=e.control,n=e.setControl,c=e.display,r=void 0===c?null:c,i=e.setDisplay,o=void 0===i?null:i,l=e.sortOptions,j=void 0===l?null:l,d=e.allLabels,b=void 0===d?null:d,u=e.actionMessage,h=void 0===u?null:u,O=e.action,x=void 0===O?null:O,f=e.actionLabel,y=void 0===f?null:f,w=e.refresh,k=void 0===w?null:w,N=e.lastRefresh,S=void 0===N?null:N,C=e.classes,I=Object(a.useState)(""),R=Object(p.a)(I,2),z=R[0],T=R[1],_=Object(a.useState)(null),B=Object(p.a)(_,2),F=B[0],L=B[1],W=Object(a.useState)(null),P=Object(p.a)(W,2),M=P[0],U=P[1];Object(a.useEffect)((function(){z!==t.search&&n(Object(D.a)(Object(D.a)({},t),{},{search:z})),F!==t.sort&&n(Object(D.a)(Object(D.a)({},t),{},{sort:F})),JSON.stringify(M)!==JSON.stringify(t.labels)&&n(Object(D.a)(Object(D.a)({},t),{},{labels:M}))}),[z,F,M]),Object(a.useEffect)((function(){T(t.search),L(t.sort),b&&U(b.reduce((function(e,t){return Object(D.a)(Object(D.a)({},e),{},Object(s.a)({},t,!1))}),{}))}),[j,b]);var G=Object(a.useCallback)(ce()((function(e){return T(e)}),1e3)),q=function(e){L(e.currentTarget.dataset.value),V()},H=Object(a.useState)(null),J=Object(p.a)(H,2),Y=J[0],Q=J[1],V=function(){return Q(null)},Z=Boolean(Y);return Object(a.useEffect)((function(){r&&r.sentimentEnabled&&o(Object(D.a)(Object(D.a)({},r),{},{sentimentOn:!0}))}),[]),Object(v.jsxs)(re.a,{className:C.root,children:[Object(v.jsxs)("div",{className:C.row,children:[Object(v.jsx)(m.a,{className:C.body1,children:h}),y&&x?Object(v.jsx)(g.a,{onClick:x,className:C.actionButton,variant:"contained",children:y}):null,S&&k&&Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsxs)(m.a,{className:C.body1,children:["Last updated ",S]}),Object(v.jsx)($.a,{onClick:k,children:Object(v.jsx)(de.a,{className:C.sortIcon})})]})]}),Object(v.jsxs)("div",{className:C.row,children:[Object(v.jsx)(E.a,{placeholder:"Search",classes:{root:"".concat(C.h6," ").concat(C.search)},inputProps:{"aria-label":"search"},onChange:function(e){G(e.target.value)}}),j&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)($.a,{onClick:function(e){return Q(e.currentTarget)},children:Object(v.jsx)(le.a,{className:C.sortIcon})}),Object(v.jsx)(ie.a,{keepMounted:!0,anchorEl:Y,open:Z,onClose:V,children:j.map((function(e){return Object(v.jsx)(se.a,{"data-value":e,onClick:q,selected:e===F,children:A(e)},e)}))})]})]}),Object(v.jsxs)("div",{className:C.row,children:[t.labels&&Object(v.jsx)(v.Fragment,{children:Object.entries(t.labels).map((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(v.jsx)(be,{type:"label",value:n,active:a,onClick:function(){return function(e,t){var n=JSON.parse(JSON.stringify(M));n[e]=t,U(n)}(n,!a)}})}))}),Object(v.jsx)("div",{style:{flexGrow:1}}),r&&r.sentimentEnabled&&Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsx)(he,{checked:r.sentimentOn,onChange:function(){o(Object(D.a)(Object(D.a)({},r),{},{sentimentOn:!r.sentimentOn}))}}),Object(v.jsx)(m.a,{className:C.body1,children:"Sentiment"})]})]})]})})),pe=n(63),xe=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{textAlign:"center",width:"inherit"},error:{width:"100%",textAlign:"center",color:"gray",fontWeight:"400"}})}))((function(e){var t=e.classes;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsx)(m.a,{className:t.error,children:"ERROR"})})})),me=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{textAlign:"center",width:"inherit"},error:{width:"100%",textAlign:"center",color:"gray",fontWeight:"400"}})}))((function(e){var t=e.classes;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsx)(m.a,{className:t.error,children:"END OF FEED"})})})),fe=Object(d.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",margin:"0",padding:"10px 0",alignItems:"center"},loading:{margin:"20px 0"},error:{width:"100%",textAlign:"center",color:"gray",padding:"20px",fontWeight:"400"}}}))((function(e){var t=e.query,n=e.control,c=e.render,r=e.classes,i=Object(a.useState)([]),s=Object(p.a)(i,2),o=s[0],l=s[1],j=Object(a.useState)(null),d=Object(p.a)(j,2),b=d[0],u=d[1],h=function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===o.length&&"score"in t[0]&&u(t[0].score),l((function(e){return[].concat(Object(pe.a)(e),[t.map((function(e){return c(e,b||t[0].score)}))])}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(a.useState)(0),x=Object(p.a)(O,2),m=x[0],f=x[1],g=Object(a.useState)(!1),y=Object(p.a)(g,2),w=y[0],k=y[1],N=Object(a.useState)(!1),S=Object(p.a)(N,2),E=S[0],R=S[1],z=Object(a.useState)(!1),T=Object(p.a)(z,2),_=T[0],F=T[1],A=function(){var e=Object(I.a)(C.a.mark((function e(){var a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,a=Object(D.a)(Object(D.a)(Object(D.a)({},t.data),n),{},{pageNumber:m}),e.next=5,B(t.api,a);case 5:"error"in(c=e.sent)?(k(!1),F(!0),console.log("Error with post results: ".concat(c.error))):0===c.items.length?(R(!0),k(!1)):h(c.items).then((function(){return k(!1)})),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error loading new items: ".concat(e.t0)),k(!1),F(!0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m>0&&A()}),[m]);var L=Object(a.useState)(!1),W=Object(p.a)(L,2),P=W[0],U=W[1],G=function(e){var t=e[0];U(t.isIntersecting),!t.isIntersecting||w||_||E||f((function(e){return e+1}))},q=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=new IntersectionObserver(G,{root:null,rootMargin:"20px",threshold:0});q.current&&e.observe(q.current)}),[]),Object(a.useEffect)((function(){P?1===m?A():f(1):f(0),l([]),u(0)}),[n]),Object(v.jsxs)("div",{className:r.root,children:[o,Object(v.jsx)("div",{ref:q}),w?Object(v.jsx)(M,{}):null,_?Object(v.jsx)(xe,{}):null,E&&!_?Object(v.jsx)(me,{}):null]})})),ge=n(369),ve=n(370),ye=n(309),we=Object(ye.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{height:"100%",padding:"0",margin:"10px 0 0 0",boxSizing:"border-box",width:"100%"},link:Object(s.a)({width:"100%",height:"100%",color:"inherit",textDecoration:"none",display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridAutoRows:"1fr"},e.breakpoints.up("md"),{gridTemplateColumns:"1fr 1fr 1fr",gridAutoRows:"1fr"}),cover:Object(s.a)({gridColumn:"1 / span 2",height:"auto",marginBottom:"0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},e.breakpoints.up("md"),{gridColumn:"1 / span 1"}),details:Object(s.a)({height:"100%",gridColumn:"3 / span 3",display:"flex",flexDirection:"column",justifyContent:"flex-start",padding:"2px 8px",boxSizing:"border-box",fontSize:"90%"},e.breakpoints.up("md"),{gridColumn:"2 / span 2",padding:"8px 16px",fontSize:"100%"}),actionArea:Object(s.a)({alignItems:"flex-start",fontSize:"1em",margin:"0",padding:"0",height:"100%",flexGrow:1,flexDirection:"column"},"alignItems","stretch"),csRed:{color:e.palette.csRed.main}})}))((function(e){var t=e.video,n=e.classes;return Object(v.jsx)(ge.a,{className:n.root,children:Object(v.jsx)(ve.a,{className:n.actionArea,children:Object(v.jsxs)(o.b,{to:"../dashboard/video/"+t.id,className:n.link,children:[Object(v.jsx)("div",{className:n.cover,children:t.thumbnail?Object(v.jsx)(te.a,{component:"img",src:t.thumbnail,title:t.title}):null}),Object(v.jsxs)("div",{className:n.details,children:[Object(v.jsx)(m.a,{noWrap:!0,className:n.h6,dangerouslySetInnerHTML:{__html:t.title}}),Object(v.jsx)(m.a,{className:n.body1,children:W(t.published,"date")}),t.db_comments>0?Object(v.jsxs)(m.a,{className:"".concat(n.body1," ").concat(n.csRed),children:[F(t.db_comments)," comments analyzed"]}):null]})]})})})})),ke=n(371),Ne=n(105),Se=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1e3,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:Object(Ne.fade)(e.palette.primary.main,.5)},barLoader:{height:"5px",width:"100%"},bar:{backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.loadTime,n=void 0===t?null:t,c=e.classes,r=Object(a.useState)(0),i=Object(p.a)(r,2),s=i[0],o=i[1];Object(a.useEffect)((function(){var e=setInterval((function(){o((function(e){return e+500}))}),500);return function(){clearInterval(e)}}),[]);var l=Object(a.useState)(0),j=Object(p.a)(l,2),d=j[0],b=j[1];return Object(a.useEffect)((function(){var e=s/(1e3*(n||5)),t=Math.round(100*e);b(t>=99?99:t)}),[s]),Object(v.jsx)("div",{className:c.root,children:Object(v.jsx)(ke.a,{className:c.barLoader,classes:{bar:c.bar},variant:"determinate",value:d})})})),Ce=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.close,n=e.refresh,a=e.loadtime,c=e.classes;return Object(v.jsxs)(R.a,{open:!0,onClose:t,children:[Object(v.jsxs)(T.a,{style:{textAlign:"center"},children:[Object(v.jsx)(m.a,{className:c.h5,children:"Welcome to CommentSense!"}),Object(v.jsxs)(m.a,{className:c.body1,children:["Scan your YouTube videos to get started.",Object(v.jsx)("br",{}),"Estimated time: ",a,"s"]})]}),Object(v.jsxs)(_.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(v.jsx)(g.a,{onClick:t,variant:"contained",children:"CANCEL"}),Object(v.jsx)(g.a,{onClick:function(){t(),n()},variant:"contained",className:c.csRed,children:"SCAN VIDEOS"})]})]})})),Ie=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"10px 0"},error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.user,n=e.setUser,c=e.channel,r=e.setChannel,i=e.classes,s=Object(a.useState)(null),o=Object(p.a)(s,2),l=o[0],j=o[1],d=Object(a.useState)(null),b=Object(p.a)(d,2),u=b[0],h=b[1],O=Object(a.useState)(null),x=Object(p.a)(O,2),m=x[0],f=x[1],g=Object(a.useState)(null),y=Object(p.a)(g,2),w=y[0],k=y[1],N=Object(a.useState)(!1),S=Object(p.a)(N,2),E=S[0],R=S[1];Object(a.useEffect)((function(){c&&(j(c.id),f(c.total_videos),h(c.db_videos),k(c.last_scan?W(c.last_scan):"never"),0===c.db_videos&&R(!0))}),[c]);var z=Object(a.useState)(null),T=Object(p.a)(z,2),_=T[0],A=T[1],L=Object(a.useState)(""),P=Object(p.a)(L,2),M=P[0],U=P[1];Object(a.useEffect)((function(){A(5+Math.ceil((m-u)/50)),U("".concat(F(u)," scanned / ").concat(F(m)," videos"))}),[u,m]);var G=Object(a.useState)(null),q=Object(p.a)(G,2),H=q[0],J=q[1],Y=Object(a.useState)(!1),$=Object(p.a)(Y,2),Q=$[0],V=$[1],Z=function(){var e=Object(I.a)(C.a.mark((function e(){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(_),e.prev=1,e.next=4,B("/api/refresh_videos",{user:t,channelId:l,uploads_playlist:c.uploads_playlist});case 4:a=e.sent,f(a.total_videos),h(a.db_videos),k(W(a.last_scan)),n(Object(D.a)(Object(D.a)({},t),{},{quota:a.new_quota})),r(Object(D.a)(Object(D.a)({},c),{},{db_videos:u,total_videos:m})),te(Object(D.a)(Object(D.a)({},ee),{},{dbVideos:u})),J(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),V(!0),J(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),K=Object(a.useState)(null),X=Object(p.a)(K,2),ee=X[0],te=X[1];Object(a.useEffect)((function(){te({search:"",sort:"recent",dbVideos:u})}),[]);var ne={api:"/api/videos",data:{channelId:l,pageSize:10}};return Object(v.jsxs)("div",{className:i.root,children:[ee&&Object(v.jsx)(Oe,{type:"videos",control:ee,setControl:te,actionMessage:M,refresh:Z,lastRefresh:w,sortOptions:["recent","oldest","top"]}),Q?Object(v.jsx)(xe,{}):Object(v.jsx)(fe,{query:ne,control:ee,render:function(e){return Object(v.jsx)(we,{video:e},e.id)}}),H&&Object(v.jsx)(Se,{loadTime:H}),E&&Object(v.jsx)(Ce,{close:function(){return R(!1)},refresh:Z,loadtime:_})]})})),De=n(159),Ee=n.n(De),Re=n(160),ze=n.n(Re),Te=n(106),_e=n.n(Te),Be=n(161),Fe=n.n(Be),Ae=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"0"},video:{width:"100%",border:"none",display:"flex",flexDirection:"column",alignItems:"center"},videoBackground:{width:"100%",backgroundColor:"black"},details:{padding:"10px",boxSizing:"border-box",height:"auto",width:"100%"},line:Object(s.a)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"flex-start"}),pair:{display:"flex",flexDirection:"row",justifyContent:"space-between"}})}))((function(e){var t=e.video,n=e.classes;Object(a.useEffect)((function(){window.addEventListener("resize",i)}),[]);var c=Object(a.useRef)(null),r=Object(a.useRef)(null),i=Object(a.useCallback)(ce()((function(){if(c.current){var e=c.current.offsetWidth;c.current.style.height=Math.ceil(e/16*9)+"px",r&&(r.current.style.height=Math.ceil(e/16*9)+"px")}}),200));return Object(a.useEffect)((function(){i()}),[r,c]),Object(v.jsxs)(J.a,{className:n.root,children:[Object(v.jsx)("div",{ref:c,className:"".concat(n.video," ").concat(n.videoBackground),children:t?Object(v.jsx)(te.a,{ref:r,component:"iframe",className:n.video,image:"http://youtube.com/embed/"+t.id}):Object(v.jsx)(M,{})}),t?Object(v.jsxs)("div",{className:n.details,children:[Object(v.jsx)(m.a,{className:n.h6,style:{lineHeight:"1.1",marginBottom:"10px"},children:t?t.title:""}),Object(v.jsxs)("div",{className:n.line,children:[Object(v.jsxs)("div",{className:n.pair,children:[Object(v.jsx)(Ee.a,{style:{paddingRight:"10px"}}),Object(v.jsx)(m.a,{noWrap:!0,className:n.body1,children:L(t.views)})]}),Object(v.jsxs)("div",{className:n.pair,children:[Object(v.jsx)(ze.a,{style:{paddingRight:"10px"}}),Object(v.jsx)(m.a,{className:n.body1,noWrap:!0,children:W(t.published,"date")})]}),Object(v.jsxs)("div",{className:n.pair,children:[Object(v.jsx)(_e.a,{style:{paddingRight:"10px"}}),Object(v.jsx)(m.a,{className:n.body1,children:L(t.likes)}),Object(v.jsx)(Fe.a,{style:{padding:"0px 10px"}}),Object(v.jsx)(m.a,{className:n.body1,children:L(t.dislikes)})]})]})]}):null]})})),Le=n(389),We=n(372),Pe=n(373),Me=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{bar:{height:"100%",position:"absolute",left:0,top:0,backgroundColor:"#8EC9FF",zIndex:0},label:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"inherit",overflow:"hidden"},token:{zIndex:1,flex:1,minWidth:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},score:{zIndex:1},sentiment:{position:"absolute",bottom:"0",left:"0",height:"5px",width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start"},pos:{height:"100%",backgroundColor:"green"},neg:{height:"100%",backgroundColor:"red"},neu:{height:"100%",backgroundColor:"dodgerblue"}})}))((function(e){var t=e.token,n=e.score,c=e.max,r=e.sentiment,i=e.classes,s=Object(a.useContext)($e),o=Object(a.useState)(!0),l=Object(p.a)(o,2),j=l[0],d=l[1];Object(a.useEffect)((function(){d(s.display.sentimentOn)}),[s]);var b=Object(a.useState)(0),u=Object(p.a)(b,2),h=u[0],O=u[1],f=Object(a.useState)(0),g=Object(p.a)(f,2),y=g[0],w=g[1],k=Object(a.useState)(0),N=Object(p.a)(k,2),S=N[0],C=N[1],I=Object(a.useState)(0),D=Object(p.a)(I,2),E=D[0],R=D[1];Object(a.useState)((function(){if(r){var e=Math.round(n/c*100),t=Math.round(r.pos/c*100),a=Math.round((r.pos+r.neg)/c*100)-t,i=e-a-t;O(e),w(t),C(a),R(i)}}),[n,c,r]);var z=t.length>25?t.slice(0,25)+"...":t;return Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)(x.a,{className:i.bar,width:h+"%"}),j?Object(v.jsxs)("div",{className:i.sentiment,children:[Object(v.jsx)(x.a,{className:i.pos,width:y+"%"}),Object(v.jsx)(x.a,{className:i.neg,width:S+"%"}),Object(v.jsx)(x.a,{className:i.neu,width:E+"%"})]}):null,Object(v.jsxs)("div",{className:i.label,children:[Object(v.jsx)(m.a,{variant:"h6",className:i.token,dangerouslySetInnerHTML:{__html:z}}),Object(v.jsx)(m.a,{variant:"h6",className:i.score,children:n})]})]})})),Ue=function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{width:"100%",position:"relative",display:"flex",flexDirection:"row",alignContents:"flex-start",padding:"0",marginBottom:e.spacing(1),height:"100%"},sentiment:{position:"absolute",top:"0",left:"0",width:"10px",height:"100%",backgroundColor:"blue",zIndex:"10"},details:{flexGrow:1,display:"flex",flexDirection:"column",alignContents:"flex-start",margin:"0",padding:"5px"},relativeText:{textDecoration:"underline",cursor:"pointer"},repliesBlock:{width:"100%",paddingLeft:"50px",boxSizing:"border-box"}})},Ge=function(e){var t=e.comment,n=e.showRelatives,c=void 0===n||n,r=e.classes,i=Object(a.useContext)($e),s=Object(a.useState)(!0),o=Object(p.a)(s,2),l=o[0],j=o[1];Object(a.useEffect)((function(){j(i.display.sentimentOn)}),[i]);var d=Object(a.useState)(""),b=Object(p.a)(d,2),u=b[0],h=b[1],O=Object(a.useState)("5px"),x=Object(p.a)(O,2),f=x[0],g=x[1];Object(a.useEffect)((function(){l?(g("20px"),t.sentiment>0?h("green"):t.sentiment<0?h("red"):h("dodgerBlue")):g("5px")}),[l]);var y=Object(a.useState)(!1),w=Object(p.a)(y,2),k=w[0],N=w[1],S=Object(a.useState)(null),D=Object(p.a)(S,2),E=D[0],R=D[1],z=function(){var e=Object(I.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=11;break}return e.prev=1,e.next=4,B("/api/comments",{parentId:t.id,all:!0});case 4:(n=e.sent).error?console.log("Error getting comment replies: ".concat(n.error)):n.items&&R(n.items.map((function(e){return Object(v.jsx)(He,{comment:e,showRelatives:!1})}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error loading comment replies: ".concat(e.t0));case 11:N(!k);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),T=Object(a.useState)(!1),_=Object(p.a)(T,2),A=_[0],L=_[1],W=Object(a.useState)(null),P=Object(p.a)(W,2),M=P[0],U=P[1],G=function(){var e=Object(I.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=11;break}return e.prev=1,e.next=4,B("/api/comments",{commentIds:[t.parent]});case 4:(n=e.sent).error?console.log("Error getting comment parent: ".concat(n.error)):n.items&&U(n.items.map((function(e){return Object(v.jsx)(He,{comment:e,showRelatives:!1})}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error loading comment parent: ".concat(e.t0));case 11:L(!A);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(ge.a,{className:r.root,children:[l?Object(v.jsx)("div",{className:r.sentiment,style:{backgroundColor:"".concat(u)}}):null,Object(v.jsxs)("div",{className:r.details,style:{paddingLeft:"".concat(f)},children:[A?Object(v.jsxs)(v.Fragment,{children:[M,Object(v.jsx)("div",{style:{height:"20px"}})]}):null,Object(v.jsx)(m.a,{className:r.body1,children:Object(v.jsx)("b",{children:t.author})}),Object(v.jsx)(m.a,{dangerouslySetInnerHTML:{__html:t.text}}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[t.likes?Object(v.jsxs)(m.a,{className:r.body1,children:[Object(v.jsx)(_e.a,{style:{fontSize:"1em",padding:"0px 10px"}}),F(t.likes)]}):null,t.n_children>0&&c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{width:"10px"}}),Object(v.jsxs)(m.a,{className:"".concat(r.body1," ").concat(r.relativeText),onClick:z,children:[t.n_children," ",t.n_children>1?"replies":"reply"]})]}):null,t.parent&&c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{width:"10px"}}),Object(v.jsx)(m.a,{className:"".concat(r.body1," ").concat(r.relativeText),onClick:G,children:"Replying to.."})]}):null]}),k?Object(v.jsxs)(v.Fragment,{children:[E,Object(v.jsx)("div",{style:{height:"5px"}})]}):null]})]})})},qe=Object(d.a)(Ue)(Ge),He=Object(d.a)(Ue)(Ge),Je=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"}})}))((function(e){var t=e.user,n=(e.channel,e.videoId,e.commentIds),c=void 0===n?[]:n,r=e.classes,i=Object(a.useState)({}),s=Object(p.a)(i,2),o=s[0],l=s[1];Object(a.useEffect)((function(){l({pageSize:10,search:"",sort:"top"})}),[]);var j={api:"/api/comments",data:{user:t,commentIds:c}},d=Object(a.useState)(null),b=Object(p.a)(d,2),u=b[0],h=(b[1],Object(a.useState)(null)),O=Object(p.a)(h,2),x=O[0],m=(O[1],Object(a.useState)("")),f=Object(p.a)(m,2),g=f[0],y=f[1];return Object(a.useEffect)((function(){y(u?Object(v.jsx)(M,{}):x?Object(v.jsx)(xe,{}):"")}),[u,x]),Object(v.jsx)("div",{className:r.root,children:u||x?g:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Oe,{type:"comments",control:o,setControl:l,sortOptions:["recent","oldest","top"]}),Object(v.jsx)(fe,{query:j,control:o,render:function(e){return Object(v.jsx)(qe,{comment:e},e.id)}})]})})})),Ye=Object(d.a)((function(e){var t;return Object(D.a)(Object(D.a)({},e.typography),{},{root:{width:"100%",borderRadius:"0",padding:"0",margin:"10px 0 0 0",boxSizing:"border-box"},accordian:(t={padding:0,margin:0,display:"flex",flexDirection:"column",width:"100%"},Object(s.a)(t,"padding","10px"),Object(s.a)(t,"boxSizing","border-box"),t),topicDetail:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},detail:{alignItems:"center",height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start"},comments:{maxHeight:"400px",overflow:"auto"}})}))((function(e){var t=e.videoId,n=void 0===t?null:t,c=e.topic,r=e.max,i=(e.sentimentOn,e.classes),s=Object(a.useState)(null),o=Object(p.a)(s,2),l=o[0],j=o[1],d=Object(a.useState)(null),b=Object(p.a)(d,2),u=(b[0],b[1]),h=Object(a.useState)(null),O=Object(p.a)(h,2),x=O[0],f=O[1],g=Object(a.useState)(null),y=Object(p.a)(g,2),w=y[0],k=y[1];return Object(v.jsxs)(Le.a,{className:i.root,onChange:function(){if(!l){if(n)f(Object(v.jsx)(be,{type:"label",value:c.label})),j(c.comments);else{f(Object(v.jsx)(be,{type:"label",value:c.label})),u(c.videos.map((function(e){return e[0]})));var e=[];c.videos.forEach((function(t){e.push.apply(e,Object(pe.a)(t[1]))})),j(e)}k(c.toks.map((function(e){return Object(v.jsx)(be,{type:"tok",value:e})})))}},children:[Object(v.jsx)(We.a,{className:i.summary,children:Object(v.jsx)(Me,{token:c.token,score:c.score,max:r,sentiment:c.sentiment})}),Object(v.jsxs)(Pe.a,{className:i.accordian,children:[Object(v.jsxs)("div",{className:i.topicDetail,children:[Object(v.jsx)(m.a,{className:i.body1,children:"Label:"}),Object(v.jsx)("div",{className:i.detail,children:x}),Object(v.jsx)("div",{style:{width:"30px"}}),Object(v.jsx)(m.a,{className:i.body1,children:"Substitutes: "}),Object(v.jsx)("div",{className:i.detail,children:w})]}),l?Object(v.jsx)("div",{className:i.comments,children:Object(v.jsx)(Je,{videoId:n,topic:c.token,commentIds:l})}):null]})]})})),$e=Object(a.createContext)(),Qe=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"},grayout:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1e3,backgroundColor:Object(Ne.fade)(e.palette.primary.main,.5)}})}))((function(e){var t=e.user,n=e.page,c=e.channel,r=void 0===c?null:c,i=e.video,s=void 0===i?null:i,o=e.analyze,l=void 0===o?null:o,j=e.grayout,d=void 0===j?null:j,b=e.classes,u=Object(a.useState)(null),h=Object(p.a)(u,2),O=h[0],x=h[1],m=Object(a.useState)(null),f=Object(p.a)(m,2),g=f[0],y=f[1],w=Object(a.useState)(null),k=Object(p.a)(w,2),N=k[0],S=k[1],D=Object(a.useState)(null),E=Object(p.a)(D,2),R=E[0],z=E[1],T=Object(a.useState)(null),_=Object(p.a)(T,2),A=_[0],L=_[1],P=Object(a.useState)(null),U=Object(p.a)(P,2),G=U[0],q=U[1];Object(a.useEffect)((function(){r&&"channel"===n?(x(r.id),y(r.db_comments),S(r.total_videos?r.total_videos:"?"),q(r.labels?r.labels:null),L(r.last_refresh?W(r.last_refresh):"never")):s&&"video"===n&&(x(s.channel_id),y(s.db_comments),z(parseInt(s.total_comments)),q(s.labels?s.labels:null),L(s.last_refresh?W(s.last_refresh):"never"))}),[r,s]);var H=Object(a.useState)(null),J=Object(p.a)(H,2),Y=J[0],$=J[1],Q=Object(a.useState)(null),V=Object(p.a)(Q,2),Z=V[0],K=V[1];Object(a.useEffect)((function(){$({pageSize:25,search:""}),K({sentimentEnabled:t.sentiment_on,sentimentOn:!1})}),[]);var X=Object(a.useState)(""),ee=Object(p.a)(X,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){"channel"===n?ne("\n                ".concat(F(g)," comments,\n                ").concat(F(N)," videos\n            ")):"video"===n&&ne("\n                ".concat(F(g)," comments /\n                ").concat(F(R)," total\n            "))}),[g,N,R]);var ae=Object(a.useState)(!1),ce=Object(p.a)(ae,2),re=ce[0],ie=ce[1],se=Object(a.useState)(!1),oe=Object(p.a)(se,2),le=oe[0],je=oe[1],de=function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,e.next=4,B("/api/refresh_".concat(n),{channelId:O,videoId:s?s.id:null});case 4:t=e.sent,y(t.db_comments),L(W(t.last_refresh)),ie(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),je(!0),ie(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),be={api:"/api/topics",data:{channelId:O,pageSize:25,videoId:s?s.id:null}},ue=Object(a.useState)(""),he=Object(p.a)(ue,2),pe=he[0],me=he[1];return Object(a.useEffect)((function(){me(re?Object(v.jsx)(M,{}):le?Object(v.jsx)(xe,{}):"")}),[re,le]),Object(v.jsxs)("div",{className:b.root,children:[Y&&Z&&Object(v.jsx)(Oe,{type:"topics",control:Y,setControl:$,display:Z,setDisplay:K,actionMessage:te,action:l,actionLabel:"ANALYZE",allLabels:G,refresh:de,lastRefresh:A}),re||le?pe:Object(v.jsx)($e.Provider,{value:{display:Z},children:Object(v.jsx)(fe,{query:be,control:Y,render:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(v.jsx)(Ye,{videoId:s?s.id:null,topic:e,max:t},e.token)}})}),d&&Object(v.jsx)(Se,{loadTime:d})]})})),Ve=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:"5px 0"},head:{margin:"0"},bold:{fontWeight:"600"},error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main},centered:{display:"flex",flexDirection:"row",justifyContent:"center"}})}))((function(e){var t=e.isOpen,n=e.handleClose,c=e.actionTitle,r=e.remaining,i=e.quota,s=e.verb,o=(e.actionLabel,e.action),l=e.classes,j=Object(a.useState)(100),d=Object(p.a)(j,2),b=d[0],u=d[1],h=Object(a.useState)(null),O=Object(p.a)(h,2),x=O[0],f=O[1],y=Object(a.useState)(!1),w=Object(p.a)(y,2),k=w[0],N=w[1],S=Object(a.useState)(0),C=Object(p.a)(S,2),I=C[0],D=C[1],B=Object(a.useState)(0),A=Object(p.a)(B,2),L=A[0],W=A[1];Object(a.useEffect)((function(){var e,t;"Analyze"===s?(e=100,t=1):"Scan"===s&&(e=50,t=100);var n=Math.ceil(b/e);D(n*t),W(Math.round(5+.9*n))}),[b]);var P=function(){n()};return Object(v.jsxs)(R.a,{open:t,onClose:P,children:[Object(v.jsx)(z.a,{className:l.centered,children:c}),Object(v.jsxs)(T.a,{children:[Object(v.jsxs)("div",{className:"".concat(l.row," ").concat(l.head),children:[Object(v.jsx)(m.a,{className:l.body1,children:s}),Object(v.jsx)(E.a,{error:!0,autoFocus:!0,margin:"none",id:"actionText",type:"tel",inputProps:{min:0,style:{width:"50px",textAlign:"right"}},className:l.body1,onChange:function(e){var t=e.target.value;t>r&&!k?(t=r,f("Target must be less than remaining")):t>i?(t=i,f("Target must be less than quota")):f(null),u(t)},value:b}),Object(v.jsxs)(m.a,{className:l.body1,style:{marginLeft:"5px"},children:["/ ",F(r)," remaining"]})]}),x?Object(v.jsx)(m.a,{className:l.error,children:x}):null,Object(v.jsxs)("div",{className:l.row,children:[Object(v.jsxs)(m.a,{className:l.body1,children:["Restart from ","Scan"===s?"Newest":"Oldest",":"]}),Object(v.jsx)(he,{size:"small",checked:k,onChange:function(){return N(!k)}})]}),Object(v.jsxs)("div",{className:l.row,children:[Object(v.jsx)(m.a,{className:l.body1,children:"Est. time:"}),Object(v.jsxs)(m.a,{className:"".concat(l.body1," ").concat(l.bold),children:[F(L)," seconds"]})]}),Object(v.jsxs)("div",{className:l.row,children:[Object(v.jsx)(m.a,{className:l.body1,children:"Quota Cost:"}),Object(v.jsxs)(m.a,{className:"".concat(l.body1," ").concat(l.bold),children:[F(I)," / ",F(i)]})]})]}),Object(v.jsxs)(_.a,{className:l.centered,children:[Object(v.jsx)(g.a,{onClick:P,variant:"contained",color:"secondary",children:"Cancel"}),Object(v.jsx)(g.a,{onClick:function(){o(b,k,L),n()},variant:"contained",className:l.csRed,children:"GO"})]})]})})),Ze=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"nowrap",margin:"0",paddingTop:"10px"}})}))((function(e){var t=e.user,n=e.setUser,c=e.channel,r=e.classes,i=Object(l.h)().videoId,s=Object(a.useState)(null),o=Object(p.a)(s,2),j=o[0],d=o[1],b=Object(a.useState)(null),u=Object(p.a)(b,2),h=u[0],O=u[1],x=Object(a.useState)(!1),m=Object(p.a)(x,2),f=m[0],g=m[1],y=Object(a.useState)(!1),w=Object(p.a)(y,2),k=w[0],N=w[1];Object(a.useEffect)((function(){d(c.id),g(!0);try{fetch("/api/video/".concat(i)).then((function(e){return e.json()})).then((function(e){e.video_data?O(e.video_data):console.log("No video data."),g(!1)}))}catch(e){console.log("Error fetching video: ".concat(e)),N(!0),g(!1)}}),[]);var S=Object(a.useState)(!1),E=Object(p.a)(S,2),R=E[0],z=E[1],T=function(){var e=Object(I.a)(C.a.mark((function e(){var a,c,r,s=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.length>0&&void 0!==s[0]?s[0]:100,c=s.length>1&&void 0!==s[1]&&s[1],r=s.length>2&&void 0!==s[2]?s[2]:5,z(r),B("/api/analyze_comments",{user:t,channelId:j,videoId:i,maxComments:a,resetToken:c}).then((function(e){e.error?(N(!0),z(!1),console.log("Error analyzing videos: ".concat(e.error))):e.video&&(O(Object(D.a)(Object(D.a)({},h),e.video)),n(Object(D.a)(Object(D.a)({},t),{},{quota:e.new_quota})),z(!1))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=Object(a.useState)(!1),F=Object(p.a)(_,2),A=F[0],L=F[1],W=Object(a.useState)(""),P=Object(p.a)(W,2),U=P[0],G=P[1];return Object(a.useEffect)((function(){G(f?Object(v.jsx)(M,{}):k?Object(v.jsx)(xe,{}):"")}),[f,k]),Object(v.jsx)("div",{className:r.root,children:f||k?U:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ae,{video:h}),Object(v.jsx)(Qe,{user:t,page:"video",video:h,analyze:function(){return L(!0)},grayout:R}),Object(v.jsx)(Ve,{isOpen:A,handleClose:function(){return L(!1)},actionTitle:"Analyze Comments",remaining:h?h.total_comments-h.db_comments:0,quota:t.quota,verb:"Analyze",actionLabel:"ANALYZE NOW",action:T})]})})})),Ke=Object(ye.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{display:"flex",flexDirection:"row",justifyContent:"flex-start",height:"80px",padding:"10px",boxSizing:"border-box"},cover:{height:"60px",width:"60px"},avatar:{borderRadius:"50%"},details:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",padding:"0 8px",boxSizing:"border-box"},csRed:{color:e.palette.csRed.main}})}))((function(e){var t=e.channel,n=e.connectChannel,a=e.classes;return Object(v.jsx)(ge.a,{children:Object(v.jsxs)(ve.a,{onClick:function(){n(t)},className:a.root,children:[Object(v.jsx)("div",{className:a.cover,children:t.thumbnail?Object(v.jsx)(te.a,{className:a.avatar,component:"img",src:t.thumbnail,title:"channel thumbnail"}):null}),Object(v.jsxs)("div",{className:a.details,children:[Object(v.jsx)(m.a,{noWrap:!0,className:a.h6,dangerouslySetInnerHTML:{__html:t.title}}),Object(v.jsxs)(m.a,{className:a.body1,children:[F(t.total_videos)," videos"]})]})]})})})),Xe=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"10px 0"},error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.user,n=e.setUser,c=e.classes,r=Object(l.g)(),i=Object(a.useState)(null),s=Object(p.a)(i,2),o=s[0],j=s[1],d=Object(a.useState)(null),b=Object(p.a)(d,2),u=b[0],h=b[1],O=Object(a.useState)(!1),x=Object(p.a)(O,2),f=x[0],y=x[1],w=Object(a.useState)(!1),k=Object(p.a)(w,2),N=k[0],S=k[1],_=function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,B("/api/get_channels",{username:o});case 4:(t=e.sent).error||!t.channels?(S(!0),console.log(t.error),y(!1)):(h(t.channels),y(!1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error loading channels"),y(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(I.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,B("/api/set_channel",{user:t,channel:a});case 4:e.sent,n(Object(D.a)(Object(D.a)({},t),{},{channelId:a.id})),r.go(0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error connecting channel"),y(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(R.a,{open:!0,children:[Object(v.jsx)(z.a,{id:"form-dialog-title",children:Object(v.jsx)(m.a,{className:c.h5,children:"Connect your YouTube Channel"})}),Object(v.jsxs)(T.a,{children:[Object(v.jsx)(E.a,{autoFocus:!0,margin:"none",type:"text",id:"username",placeholder:"Enter YouTube username",className:c.body1,onChange:function(e){j(e.target.value)},value:o}),Object(v.jsx)(g.a,{onClick:_,children:"GET CHANNELS"}),f&&Object(v.jsx)(M,{}),N&&Object(v.jsx)(xe,{}),u&&u.map((function(e){return Object(v.jsx)(Ke,{channel:e,connectChannel:F})}))]})]})})),et={id:"DEMO"},tt=Object(d.a)((function(e){var t;return Object(D.a)(Object(D.a)({},e.typography),{},{root:Object(s.a)({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",width:"100%",height:"100%",margin:0},e.breakpoints.up("md"),{alignItems:"flex-start"}),content:(t={width:"100%",padding:e.spacing(2)},Object(s.a)(t,e.breakpoints.up("sm"),{width:"80%"}),Object(s.a)(t,e.breakpoints.up("md"),{width:"calc(100% - 240px)",maxWidth:"800px",marginLeft:"240px"}),Object(s.a)(t,"boxSizing","border-box"),t),titleLine:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",width:"inherit"},menuButton:Object(s.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{marginRight:0,display:"none"})})}))((function(e){var t=e.auth0User,n=e.classes,c=Object(l.h)().tab,r=Object(a.useState)(!0),i=Object(p.a)(r,2),s=i[0],o=i[1],j=Object(a.useState)(!1),d=Object(p.a)(j,2),b=d[0],u=d[1],h=Object(a.useState)(null),O=Object(p.a)(h,2),x=O[0],f=O[1],g=function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,B("/api/user",{user:t});case 4:(n=e.sent).user?f(n.user):(o(!1),u(!0),n.error&&console.log("Error loading user from database: ".concat(n.error))),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),o(!1),u(!0),console.log("Error loading dashboard: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){g(t?{id:t.sub,email:t.email,email_verified:t.email_verified,nickname:t.nickname,picture:t.picture}:et)}),[t]);var y=Object(a.useState)(null),w=Object(p.a)(y,2),k=w[0],N=w[1],S=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),n={channelId:t.channel_id},console.log(n),e.next=6,B("/api/channel",n);case 6:(a=e.sent).channel?(N(a.channel),o(!1)):(o(!1),u(!0),a.error&&console.log("Error loading channel from Dashboard: ".concat(a.error))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),o(!1),u(!0),console.log("Error loading dashboard: ".concat(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),D=Object(a.useState)(!1),E=Object(p.a)(D,2),R=E[0],z=E[1];Object(a.useEffect)((function(){console.log(x),x&&!b?x.channel_id?k||S(x):(o(!1),z(!0)):o(!1)}),[x]);var T=Object(a.useState)(""),_=Object(p.a)(T,2),F=_[0],L=_[1];Object(a.useEffect)((function(){L(s?Object(v.jsx)(M,{}):b?Object(v.jsx)(xe,{}):R?Object(v.jsx)(Xe,{user:x,setUser:f}):"")}),[s,b,R]);var W=Object(a.useState)(!1),P=Object(p.a)(W,2),U=P[0],G=P[1],q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(e){case"open":G(!0);break;case"closed":G(!1);break;default:G(!U)}};return Object(v.jsxs)("div",{className:n.root,children:[Object(v.jsx)(ne,{section:"dashboard",drawerItems:["videos","topics","settings"],activePage:c,channel:k,mobileOpen:U,handleDrawerToggle:q}),Object(v.jsxs)("div",{className:n.content,children:[Object(v.jsxs)("div",{className:n.titleLine,children:[Object(v.jsx)($.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:q,className:n.menuButton,children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(m.a,{variant:"h3",noWrap:!0,children:A(c)})]}),s||b||R?F:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/dashboard/videos",children:Object(v.jsx)(Ie,{user:x,setUser:f,channel:k,setChannel:N},"videos")}),Object(v.jsx)(l.b,{exact:!0,path:"/dashboard/topics",children:Object(v.jsx)(Qe,{user:x,channel:k,page:"channel"},"topics")}),Object(v.jsx)(l.b,{exact:!0,path:"/dashboard/video/:videoId",children:Object(v.jsx)(Ze,{user:x,setUser:f,channel:k},"video")}),Object(v.jsx)(l.b,{exact:!0,path:"/dashboard/settings",children:"Settings"})]})]})]})})),nt=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"10px 0"},error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){e.userData,e.classes;var t=Object(a.useState)(null),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!0),s=Object(p.a)(i,2),o=(s[0],s[1]),l=Object(a.useState)(!1),j=Object(p.a)(l,2),d=(j[0],j[1]);return Object(a.useEffect)((function(){(function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,e.next=3,B("/api/get_users",{token:null});case 3:(t=e.sent).users||(d(!0),o(!1)),r(t.users),o(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){console.log(c)}),[c]),Object(v.jsx)(v.Fragment,{})})),at=n(166),ct=n(386),rt=n(380),it=n(375),st=n(379),ot=n(378),lt=n(374),jt=n(376),dt=n(377),bt=n(388),ut=n(162),ht=n.n(ut),Ot=Object(d.a)((function(e){return{root:{},activeOption:{backgroundColor:"lightgray"},field:{padding:"0 5px"},table:{minWidth:650},buttonBar:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:"30px"}}}))((function(e){var t=e.posts,n=e.blog,c=e.setBlog,r=e.newPost,i=e.removePost,s=e.classes,o=Object(a.useState)(null),l=Object(p.a)(o,2),j=l[0],d=l[1];return Object(a.useEffect)((function(){n&&d(n.id)}),[]),Object(v.jsxs)("div",{id:"root",children:[Object(v.jsx)(m.a,{variant:"h5",children:"Blog Posts"}),t?Object(v.jsx)(lt.a,{component:J.a,children:Object(v.jsxs)(it.a,{className:s.table,children:[Object(v.jsx)(jt.a,{children:Object(v.jsxs)(dt.a,{children:[Object(v.jsx)(ot.a,{}),Object(v.jsx)(ot.a,{children:"ID"}),Object(v.jsx)(ot.a,{children:"Created"}),Object(v.jsx)(ot.a,{children:"Title"}),Object(v.jsx)(ot.a,{children:"Excerpt"}),Object(v.jsx)(ot.a,{children:"Active"}),Object(v.jsx)(ot.a,{children:"Delete"})]})}),Object(v.jsx)(st.a,{children:t.map((function(e){return Object(v.jsxs)(dt.a,{hover:!0,onClick:function(){return function(e){if(j&&!window.confirm("All unsaved data will be lost. Would you like to continue?"))return null;e.id===j?(d(null),c(null)):(d(e.id),c(e))}(e)},role:"checkbox",selected:j===e.id,children:[Object(v.jsx)(ot.a,{children:Object(v.jsx)(bt.a,{checked:j===e.id})}),Object(v.jsx)(ot.a,{component:"th",scope:"row",children:e.id}),Object(v.jsx)(ot.a,{align:"right",children:e.created?e.created.slice(5,22):null}),Object(v.jsx)(ot.a,{align:"right",children:e.title}),Object(v.jsx)(ot.a,{align:"right",children:e.excerpt}),Object(v.jsx)(ot.a,{align:"right",children:e.active}),Object(v.jsx)(ot.a,{align:"right",children:Object(v.jsx)(ht.a,{onClick:function(t){return function(e,t){i(t),e.stopPropagation()}(t,e)}})})]},e.id)}))})]})}):Object(v.jsx)(M,{}),Object(v.jsx)("div",{className:s.buttonBar,children:Object(v.jsx)(g.a,{onClick:r,variant:"contained",color:"secondary",children:"New Post"})})]})})),pt=(n(203),n(126)),xt=n.n(pt),mt=n(164);pt.Quill.register("modules/imageUploader",mt.a);var ft=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"left",margin:"0",paddingTop:"10px",maxWidth:"768px"},blogEditor:{marginTop:"20px",backgroundColor:"white"},inputField:{marginTop:"10px"},buttonContainer:{marginTop:"30px",width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},publish:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},thumbnailSection:{padding:"10px",marginTop:"15px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"left","& img":{width:"300px",height:"auto"}}}}))((function(e){var t=e.blog,n=e.setBlog,c=e.updateBlog,r=e.classes,i=Object(a.useState)(""),s=Object(p.a)(i,2),o=s[0],l=s[1],j=Object(a.useState)(""),d=Object(p.a)(j,2),b=d[0],u=d[1],h=Object(a.useState)(""),O=Object(p.a)(h,2),x=O[0],f=O[1],y=Object(a.useState)(null),w=Object(p.a)(y,2),k=w[0],N=w[1],S=Object(a.useState)(""),R=Object(p.a)(S,2),z=R[0],T=R[1],_=Object(a.useState)(""),B=Object(p.a)(_,2),F=B[0],A=B[1],L=Object(a.useState)(""),W=Object(p.a)(L,2),P=W[0],U=W[1];Object(a.useEffect)((function(){l(t.id),u(t.title),f(t.permalink),N(t.thumbnail),T(t.excerpt),A(t.content),U(t.active)}),[]),Object(a.useEffect)((function(){n((function(e){return Object(D.a)(Object(D.a)({},e),{},{title:b,permalink:x,thumbnail:k,excerpt:z,content:F,postActive:P})}))}),[b,x,k,z,F,P]);var G=Object(a.useState)(null),q=Object(p.a)(G,2),H=q[0],J=q[1],Y=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(!0),N(null),n=t.target.files[0],(a=new FormData).append("image",n),fetch("https://api.imgbb.com/1/upload?key=d36eb6591370ae7f9089d85875e56b22",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){J(null),N(e.data.url)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var $=Object(a.useState)(null),Q=Object(p.a)($,2),V=Q[0],Z=Q[1],K=Object(a.useState)(null),X=Object(p.a)(K,2),ee=X[0],te=X[1];return Object(a.useEffect)((function(){!function(e){var t=document.head,n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)}("//cdn.quilljs.com/1.3.6/quill.snow.css"),Z({toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1},imageUploader:{upload:function(e){return new Promise((function(t,n){var a=new FormData;a.append("image",e),fetch("https://api.imgbb.com/1/upload?key=d36eb6591370ae7f9089d85875e56b22",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){console.log(a),t(e.data.url)})).catch((function(e){n("Upload failed"),console.error("Error:",e)}))}))}}}),te(["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"])}),[]),Object(v.jsxs)("div",{className:r.root,children:[Object(v.jsxs)(m.a,{children:["Post ID: ",t.id]}),Object(v.jsx)(E.a,{id:"title",className:r.inputField,label:"Title",value:b,onChange:function(e){return u(e.target.value)},helperText:"The title of the blog post."}),Object(v.jsx)(E.a,{id:"permalink",className:r.inputField,label:"Permalink",value:x,onChange:function(e){return f(e.target.value)},helperText:"The url suffix"}),Object(v.jsxs)("div",{className:r.thumbnailSection,children:[Object(v.jsxs)(g.a,{variant:"contained",component:"label",children:["Upload Thumbnail",Object(v.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return Y(e)}})]}),H?Object(v.jsx)(M,{}):null,k?Object(v.jsx)("img",{src:k}):null]}),Object(v.jsx)("div",{id:"blog-editor",className:r.blogEditor,children:V&&ee?Object(v.jsx)(xt.a,{theme:"snow",onChange:A,value:F,modules:V,formats:ee,placeholder:"Write a blog"}):null}),Object(v.jsx)(E.a,{id:"excerpt",className:r.inputField,label:"Excerpt",value:z,onChange:function(e){return T(e.target.value)},helperText:"Information that will be displayed in search results"}),Object(v.jsxs)("div",{className:r.publish,children:[Object(v.jsx)(m.a,{children:"Published: "}),Object(v.jsx)(ue.a,{checked:P,onChange:function(e){return U(e.target.checked)},name:"Published"})]}),Object(v.jsx)("div",{className:r.buttonContainer,children:Object(v.jsx)(g.a,{variant:"contained",color:"secondary",onClick:function(){c({id:o,title:b,permalink:x,thumbnail:k,excerpt:z,content:F,active:P})},children:"Save Changes"})})]})})),gt=Object(ye.a)((function(e){var t;return{root:(t={height:"100%",padding:"0",margin:"10px 0 0 0",boxSizing:"border-box",width:"100%"},Object(s.a)(t,e.breakpoints.up("sm"),{width:"480px"}),Object(s.a)(t,e.breakpoints.up("md"),{width:"768px"}),t),link:{width:"100%",height:"100%",color:"inherit",textDecoration:"none",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridAutoRows:"1fr"},cover:{gridColumn:"1",height:"auto",marginBottom:"0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},details:{height:"100%",gridColumn:"2 / span 2",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"8px 16px",boxSizing:"border-box"},actionArea:Object(s.a)({alignItems:"flex-start",fontSize:"1em",margin:"0",padding:"0",height:"100%",flexGrow:1,flexDirection:"column"},"alignItems","stretch"),channelImage:{borderRadius:"50%",maxHeight:"90px",margin:"5%",width:"auto"}}}))((function(e){var t=e.type,n=e.data,c=e.inactive,r=e.classes,i=Object(a.useState)("#"),s=Object(p.a)(i,2),l=s[0],j=s[1],d=Object(a.useState)(""),b=Object(p.a)(d,2),u=b[0],h=b[1],O=Object(a.useState)([]),x=Object(p.a)(O,2),f=x[0],g=x[1],y=Object(a.useState)(""),w=Object(p.a)(y,2),k=w[0],N=w[1];return Object(a.useEffect)((function(){switch(t){case"channel":h(n.channelTitle),g(["".concat(n.description)]);break;case"video":h(n.title),g(["".concat(n.channelTitle," | ").concat(n.published),n.description]),j("../dashboard/video/"+n.id);break;case"blog":h(n.title),g(["".concat(n.created),"".concat(n.excerpt)]),j("../blog/"+n.permalink)}Object.keys(n).includes("n_analyzed")&&N(Object(v.jsxs)(m.a,{variant:"body1",color:"secondary",children:[n.n_analyzed," comments analyzed"]}))}),[]),Object(v.jsx)(ge.a,{className:r.root,children:Object(v.jsx)(ve.a,{className:r.actionArea,children:Object(v.jsxs)(o.b,{to:c?"#":l,className:r.link,children:[Object(v.jsx)("div",{className:r.cover,children:n.thumbnail?Object(v.jsx)(te.a,{className:"channel"===t?r.channelImage:"",component:"img",src:n.thumbnail,title:u}):null}),Object(v.jsxs)("div",{className:r.details,children:[Object(v.jsx)(m.a,{variant:"body1",style:{fontWeight:"400",fontSize:"1.2em"},children:u}),f.map((function(e){return Object(v.jsx)(m.a,{variant:"caption",children:e},e)})),k]})]})})})})),vt=Object(d.a)((function(e){var t;return{root:{width:"100%",minHeight:"100%",display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"0",margin:"30px 0",boxSizing:"border-box"},paper:(t={width:"100%",padding:"5%",boxSizing:"border-box"},Object(s.a)(t,e.breakpoints.up("sm"),{width:"480px"}),Object(s.a)(t,e.breakpoints.up("md"),{width:"768px"}),t),title:{fontSize:"1.5em",fontWeight:"400"},content:{"& img":{width:"100%"}}}}))((function(e){var t=e.blog,n=e.classes,c=Object(a.useState)("Content"),r=Object(p.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){""!==t.content?s(t.content):s("<p>Content</p>")}),[t]),Object(v.jsx)("div",{className:n.root,children:Object(v.jsx)(J.a,{className:n.paper,children:Object(v.jsxs)(m.a,{children:[Object(v.jsx)("div",{className:n.title,children:t.title?t.title:"Title"}),Object(v.jsx)("div",{className:n.content,dangerouslySetInnerHTML:{__html:i}})]})})})})),yt=["children","value","index"];function wt(e){var t=e.children,n=e.value,a=e.index,c=Object(at.a)(e,yt);return Object(v.jsx)("div",Object(D.a)(Object(D.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},c),{},{children:n===a&&Object(v.jsx)(x.a,{p:3,children:t})}))}var kt=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},Nt=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"left",margin:"0",paddingTop:"10px",maxWidth:"768px"},tabBar:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"}}}))((function(e){var t=e.classes,n=Object(a.useState)(null),c=Object(p.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(0),o=Object(p.a)(s,2),l=o[0],j=o[1],d=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(null),fetch("/api/blogs").then((function(e){return e.json()})).then((function(e){e.posts.forEach((function(e){e.id>l&&j(e.id)})),i(e.posts)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,B("/api/add_blog",t);case 3:return n=e.sent,console.log(n),e.abrupt("return",n.successful);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("/api/remove_blog",t);case 2:return(n=e.sent).successful&&d(),e.abrupt("return",n.successful);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){d()}),[]);var h=Object(a.useState)(0),O=Object(p.a)(h,2),x=O[0],m=O[1],f=Object(a.useState)(null),g=Object(p.a)(f,2),y=g[0],w=g[1],k=function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t),e.next=3,b(t);case 3:e.sent?d():console.log("upload unsuccessful");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)("div",{className:t.tabBar,children:Object(v.jsxs)(ct.a,{value:x,onChange:function(e,t){m(t)},children:[Object(v.jsx)(rt.a,Object(D.a)({label:"Manager"},kt(0))),Object(v.jsx)(rt.a,Object(D.a)(Object(D.a)({label:"Editor"},kt(1)),{},{disabled:!y})),Object(v.jsx)(rt.a,Object(D.a)(Object(D.a)({label:"Preview"},kt(2)),{},{disabled:!y}))]})}),Object(v.jsx)(wt,{value:x,index:0,children:Object(v.jsx)(Ot,{posts:r,blog:y,setBlog:w,newPost:function(){var e={id:l+1,title:"",permalink:"",thumbnail:null,excerpt:"",content:"",active:!1,created:null};j((function(e){return e+1})),i((function(t){return[].concat(Object(pe.a)(t),[e])})),w(e),m(1)},removePost:u})}),Object(v.jsx)(wt,{value:x,index:1,children:Object(v.jsx)(ft,{blog:y,setBlog:w,updateBlog:k})}),Object(v.jsxs)(wt,{value:x,index:2,children:[Object(v.jsx)(gt,{type:"blog",data:y,inactive:!0}),Object(v.jsx)(vt,{blog:y})]})]})})),St=Object(d.a)((function(e){var t;return{root:{height:"100%",width:"100%",margin:0,padding:0,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},paper:(t={marginTop:"20px",width:"100%",padding:"2%",boxSizing:"border-box"},Object(s.a)(t,e.breakpoints.up("sm"),{width:"480px"}),Object(s.a)(t,e.breakpoints.up("md"),{width:"768px"}),t)}}))((function(e){var t=e.classes,n=Object(a.useState)([]),c=Object(p.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/get_feedback").then((function(e){return e.json()})).then((function(e){console.log(e.feedback),i(e.feedback)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(v.jsx)("div",{className:t.root,children:r.map((function(e){return Object(v.jsxs)(J.a,{className:t.paper,children:[Object(v.jsx)(m.a,{children:e.created}),Object(v.jsx)(m.a,{children:e.email}),Object(v.jsx)("hr",{style:{margin:"10px 0"}}),Object(v.jsx)(m.a,{children:e.message})]})}))})})),Ct=n(381),It=n(382),Dt=Object(d.a)((function(e){var t;return{root:{position:"relative",height:"100%",width:"100%",margin:0,padding:0,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},paper:(t={marginTop:"20px",width:"100%",padding:"2%",boxSizing:"border-box"},Object(s.a)(t,e.breakpoints.up("sm"),{width:"480px"}),Object(s.a)(t,e.breakpoints.up("md"),{width:"768px"}),t),checkboxes:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexWrap:"wrap"},checkbox:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}}}))((function(e){var t=e.classes,n=["recent","top","search","video","topics","comments","youtube_comments","analyze","cluster","blog"],c=Object(a.useState)([]),r=Object(p.a)(c,2),i=r[0],o=r[1],l=Object(a.useState)(null),j=Object(p.a)(l,2),d=j[0],b=j[1];Object(a.useEffect)((function(){var e={};n.forEach((function(t){return e[t]=!0})),b(e),function(){var e=Object(I.a)(C.a.mark((function e(){var t,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/get_logs",t=n,e.next=4,B("/api/get_logs",t);case 4:a=e.sent,c=[],a.logs.forEach((function(e){var t=e.split(" - ");5===t.length&&c.unshift({time:t[0].slice(5,19),api:t[3],details:t[4]})})),o(c),N(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var u=Object(a.useState)([]),h=Object(p.a)(u,2),O=h[0],x=h[1];Object(a.useEffect)((function(){!function(){if(i){var e=[];i.forEach((function(t){d[t.api]&&e.push(t)})),console.log(i[0]),x(e)}}()}),[i,d]);var f=function(e){b(Object(D.a)(Object(D.a)({},d),{},Object(s.a)({},e.target.name,e.target.checked)))},g=Object(a.useState)(0),y=Object(p.a)(g,2),w=y[0],k=y[1],N=function(e){var t={search:100,video:10,youtube_comments:100},n=0;e.forEach((function(e){t[e.api]&&(n+=t[e.api])})),k(n)};return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsxs)(J.a,{className:t.paper,children:[Object(v.jsx)(m.a,{variant:"h6",children:"Overview"}),Object(v.jsxs)(m.a,{children:["Total logs: ",i.length]}),Object(v.jsxs)(m.a,{children:["Google Quota: ",w]})]}),Object(v.jsx)("hr",{style:{margin:"10px 0"}}),Object(v.jsx)(J.a,{className:t.paper,children:Object(v.jsx)(Ct.a,{row:!0,className:t.checkboxes,children:d?n.map((function(e){return Object(v.jsx)(It.a,{className:t.checkbox,control:Object(v.jsx)(bt.a,{checked:d[e],onChange:f,name:e},e),label:e})})):null})}),Object(v.jsx)("hr",{style:{margin:"10px 0"}}),Object(v.jsx)(lt.a,{children:Object(v.jsxs)(it.a,{size:"small",className:t.table,children:[Object(v.jsx)(jt.a,{children:Object(v.jsxs)(dt.a,{children:[Object(v.jsx)(ot.a,{children:"Time"}),Object(v.jsx)(ot.a,{children:"Api"}),Object(v.jsx)(ot.a,{children:"Detail"})]})}),Object(v.jsx)(st.a,{children:O.map((function(e){return Object(v.jsxs)(dt.a,{children:[Object(v.jsx)(ot.a,{align:"left",children:e.time}),Object(v.jsx)(ot.a,{align:"left",children:e.api}),Object(v.jsx)(ot.a,{align:"left",children:e.details})]},Math.random())}))})]})})]})})),Et={thumbnail:null,channel_title:"Admin"},Rt=Object(d.a)((function(e){var t;return Object(D.a)(Object(D.a)({},e.typography),{},{root:Object(s.a)({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",width:"100%",height:"100%",margin:0},e.breakpoints.up("md"),{alignItems:"flex-start"}),content:(t={width:"100%",padding:e.spacing(2)},Object(s.a)(t,e.breakpoints.up("sm"),{width:"80%"}),Object(s.a)(t,e.breakpoints.up("md"),{width:"calc(100% - 240px)",maxWidth:"800px",marginLeft:"240px"}),Object(s.a)(t,"boxSizing","border-box"),t),titleLine:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",width:"inherit"},menuButton:Object(s.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{marginRight:0,display:"none"})})}))((function(e){e.auth0User;var t=e.classes,n=Object(l.h)().tab,c=Object(a.useState)(!1),r=Object(p.a)(c,2),i=r[0],s=r[1],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s("open"===e||"closed"!==e&&!i)},j=Object(a.useState)(!0),d=Object(p.a)(j,2),b=d[0],u=(d[1],Object(a.useState)(!1)),h=Object(p.a)(u,2),O=h[0],x=(h[1],Object(a.useState)(!1)),f=Object(p.a)(x,2),g=f[0],y=(f[1],Object(a.useState)(null)),w=Object(p.a)(y,2),k=w[0],N=(w[1],Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/admin",children:Object(v.jsx)(m.a,{children:"Please select a section."})}),Object(v.jsx)(l.b,{exact:!0,path:"/admin/users",children:Object(v.jsx)(nt,{userData:k})}),Object(v.jsx)(l.b,{exact:!0,path:"/admin/logs",children:Object(v.jsx)(Dt,{})}),Object(v.jsx)(l.b,{exact:!0,path:"/admin/blog",children:Object(v.jsx)(Nt,{})}),Object(v.jsx)(l.b,{exact:!0,path:"/admin/contact",children:Object(v.jsx)(St,{})}),Object(v.jsx)(l.b,{exact:!0,path:"/admin/waitlist"})]})),S=Object(a.useState)([]),C=Object(p.a)(S,2),I=C[0],D=C[1];return Object(a.useEffect)((function(){b?D(Object(v.jsx)(M,{})):O?D(Object(v.jsx)(xe,{})):g&&D(Object(v.jsx)(m.a,{children:"Active user is not Admin"}))}),[b,O,g]),Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(ne,{section:"admin",drawerItems:["users","logs","blog","contact","waitlist"],activePage:n,channel:Et,mobileOpen:i,handleDrawerToggle:o}),Object(v.jsx)("main",{className:t.content,children:Object(v.jsxs)("div",{className:t.titleLine,children:[Object(v.jsx)($.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:o,className:t.menuButton,children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(m.a,{variant:"h3",noWrap:!0,children:A(n)})]})}),b||O||g?{placeholder:I}:{routes:N}]})})),zt=Object(d.a)((function(e){return{root:{padding:"30px",minHeight:"400px",backgroundColor:e.palette.primary.main}}}))((function(e){var t=e.classes,n=Object(l.h)().page;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)(m.a,{variant:"h3",children:[n," placeholder"]})})})),Tt=Object(d.a)((function(e){return Object(D.a)(Object(D.a)({},e.typography),{},{row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",margin:"5px 0"},head:{margin:"0"},bold:{fontWeight:"600"},error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main},centered:{display:"flex",flexDirection:"row",justifyContent:"center"}})}))((function(e){var t=e.page,n=void 0===t?null:t,c=e.classes,r=Object(l.h)(),i=Object(a.useState)(""),s=Object(p.a)(i,2),o=s[0],j=s[1],d=Object(a.useState)(!0),b=Object(p.a)(d,2),u=b[0],h=b[1],O=Object(a.useState)(""),x=Object(p.a)(O,2),f=x[0],y=x[1];Object(a.useEffect)((function(){n?(j(n),h(!1),y("Login to "+n)):r.username?(j(r.username),h(!1),y("Login to "+r.username)):y("Login")}),[]);var w=Object(a.useState)(""),k=Object(p.a)(w,2),N=k[0],S=k[1],D=Object(a.useState)(!1),F=Object(p.a)(D,2),A=F[0],L=F[1],W=Object(a.useState)(!1),P=Object(p.a)(W,2),U=P[0],G=P[1],q=Object(l.g)(),H=function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,B("/api/login",{username:o,password:N});case 3:(t=e.sent).user?(localStorage.setItem("userData",JSON.stringify(t.user)),n?q.go(0):q.push("../dashboard")):(G(!0),L(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=Object(v.jsxs)(v.Fragment,{children:[u?Object(v.jsxs)("div",{className:"".concat(c.row," ").concat(c.head),children:[Object(v.jsx)(m.a,{className:c.body1,children:"Username:"}),Object(v.jsx)(E.a,{autoFocus:!0,margin:"none",type:"text",inputProps:{min:0,style:{width:"100px",textAlign:"right"}},className:c.body1,onChange:function(e){j(e.target.value)},value:o})]}):null,Object(v.jsxs)("div",{className:"".concat(c.row," ").concat(c.head),children:[Object(v.jsx)(m.a,{className:c.body1,children:"Password:"}),Object(v.jsx)(E.a,{autoFocus:!0,margin:"none",type:"password",inputProps:{min:0,style:{width:"100px",textAlign:"right"}},className:c.body1,onChange:function(e){S(e.target.value),U&&G(!1)},value:N})]}),Object(v.jsx)("div",{className:c.row,children:U?Object(v.jsx)(m.a,{className:c.error,children:"Incorrect password. Please try again."}):null})]});return Object(v.jsxs)(R.a,{open:!0,children:[Object(v.jsx)(z.a,{className:c.centered,children:f}),Object(v.jsx)(T.a,{children:A?Object(v.jsx)(M,{}):J}),Object(v.jsx)(_.a,{className:c.centered,children:Object(v.jsx)(g.a,{onClick:H,variant:"contained",className:c.csRed,children:"LOGIN"})})]})})),_t=O();_t.typography.h1=Object(s.a)({},_t.breakpoints.up("sm"),{fontSize:"3.5em"});var Bt=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh",margin:0,padding:0},body:{flexGrow:1},navBar:{zIndex:100},footer:{zIndex:100}}}))((function(e){var t=e.classes;return Object(v.jsx)(j.a,{theme:_t,children:Object(v.jsx)("div",{className:t.root,style:{backgroundColor:_t.palette.primary.main},children:Object(v.jsx)(o.a,{children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{path:"/dashboard/:tab",children:Object(v.jsx)(tt,{auth0User:null})}),Object(v.jsx)(l.b,{path:"/dashboard",children:Object(v.jsx)(l.a,{to:"/dashboard/videos"})}),Object(v.jsx)(l.b,{path:"/admin/:tab",children:Object(v.jsx)(Rt,{auth0User:null})}),Object(v.jsx)(l.b,{path:"/admin",children:Object(v.jsx)(l.a,{to:"/admin/users"})}),Object(v.jsx)(l.b,{path:"/u/:username",children:Object(v.jsx)(Tt,{})}),Object(v.jsx)(l.b,{path:"/:page",children:Object(v.jsx)(zt,{})}),Object(v.jsx)(l.b,{path:"/",children:Object(v.jsx)(Y,{})})]})})})})}));i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(Bt,{})}),document.getElementById("root"))}},[[308,1,2]]]);
//# sourceMappingURL=main.4bd804fa.chunk.js.map