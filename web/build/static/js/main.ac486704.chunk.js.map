{"version":3,"sources":["components/Navbar.jsx","components/FeedCard.jsx","components/Feed.jsx","helpers.js","components/Details.jsx","components/VideoPlayer.jsx","components/Loader.jsx","components/Controller.jsx","components/TopicBar.jsx","components/Comment.jsx","components/CommentsBlock.jsx","components/TopicCard.jsx","components/Topics.jsx","components/Video.jsx","App.js","index.js"],"names":["useStyles","makeStyles","theme","grow","flexGrow","title","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginRight","spacing","marginLeft","width","breakpoints","up","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","mobileSearchIcon","mobileSearchMenuList","paddingTop","paddingBottom","mobileSearchMenuPaper","inputRoot","color","toolbarClass","minHeight","inputInput","paddingLeft","transition","transitions","create","menuBar","logo","fontWeight","Navbar","classes","React","useState","anchorEl","setAnchorEl","mobileSearch","setMobileSearch","searchValue","setSearchValue","isMenuOpen","Boolean","isSearchOpen","handleMenuClose","window","location","href","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","renderSearch","document","getElementById","list","paper","value","onChange","placeholder","onRequestSearch","AppBar","className","Toolbar","variant","Grid","container","item","xs","to","Link","component","underline","Typography","s","InputBase","root","input","inputProps","e","target","onKeyDown","key","direction","alignContent","justify","IconButton","aria-label","event","currentTarget","edge","aria-controls","aria-haspopup","margin","boxSizing","link","flexDirection","textDecoration","cover","details","top","lineHeight","fontSize","faint","actionArea","withRouter","props","video","Card","CardMedia","src","thumbnail","CardActionArea","dangerouslySetInnerHTML","__html","channelTitle","flexWrap","Feed","page","host","feed","setFeed","useParams","useEffect","buildPage","type","getRecent","getSearch","num","socket","emit","n","result","buildFeed","videos","video_data","reverse","map","thousands_separators","num_parts","toString","split","replace","join","parseInt","withStyles","line","style","noWrap","views","published","likes","dislikes","border","videoBackground","infoLine","videoData","setVideo","image","marginBottom","CircularProgress","BarLoader","colorPrimary","grey","bar1Buffer","bar2Buffer","LinearProgress","textAlign","progress","mainBar","setMainBar","secondaryBar","setSecondaryBar","setDisplay","analyzed","Math","min","loaded","status","valueBuffer","counter","analyze","commentsTotal","setCommentsTotal","commentsAnalyzed","setCommentsAnalyzed","comments","n_analyzed","loading","setLoading","console","log","error","commentsTarget","setCommentsTarget","Container","notLoading","TextField","Button","bar","left","zIndex","label","text","setBarWidth","Box","round","barRatio","token","score","default","alignContents","comment","author","CommentsBlock","topicComments","setComments","on","data","c","detail","topic","max","Accordion","AccordionSummary","summary","AccordionDetails","Topics","topics","topicsFeed","setTopicsFeed","JSON","parse","length","newTopics","t","videoId","setVideoData","setTopics","setProgress","new_topics","nComments","HOST_NAME","io","transports","timeout","App","createMuiTheme","primary","main","secondary","dark","info","light","contrastText","ThemeProvider","path","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ac486704.chunk.js","sourcesContent":["import React from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport * as Router from 'react-router-dom';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport InputBase from '@material-ui/core/InputBase';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport SearchBar from \"material-ui-search-bar\";\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  title: {\n    display: 'flex',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: theme.spacing(3),\n    width: 'auto',\n    \n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'flex',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  mobileSearchIcon: {\n      display: 'flex',\n      [theme.breakpoints.up('sm')]: {\n        display: 'none',\n      },\n  },\n  mobileSearchMenuList: {\n      paddingTop: 0,\n      paddingBottom: 0,\n  },\n  mobileSearchMenuPaper: {\n      width: '100%',\n  },\n  inputRoot: {\n    color: 'inherit',\n    width: '300px',\n  },\n  toolbarClass: {\n    minHeight: '48px',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n  menuBar: {\n    backgroundColor: '#FFFFFF',\n    width: '100%',\n  },\n  logo: {\n    fontWeight: '400'\n  }\n}));\n\nexport default function Navbar() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileSearch, setMobileSearch] = React.useState(null);\n  const [searchValue, setSearchValue] = React.useState(\"\");\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isSearchOpen = Boolean(mobileSearch);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSearchOpen = (event) => {\n    setMobileSearch(event.currentTarget)\n  }\n\n  const handleSearchClose = () => {\n    setMobileSearch(null);\n  }\n\n  const search = () => {\n    window.location.href = '/search/' + searchValue\n  }\n\n  const menuId = 'primary-search-account-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    //   zIndex=\"snackbar\"\n    >\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\n    </Menu>\n  );\n\n  const searchId = 'mobile-search-bar'\n  const renderSearch = (\n    <Menu\n        anchorEl={document.getElementById('navbar')}\n        anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\n        id={searchId}\n        keepMounted\n        transformOrigin={{ vertical: 'top', horizontal: 'left' }}\n        open={isSearchOpen}\n        onClose={handleSearchClose}\n        // zIndex=\"snackbar\"\n        classes={{\n            list: classes.mobileSearchMenuList,\n            paper: classes.mobileSearchMenuPaper,\n        }}\n    >\n        <div>\n            <SearchBar\n                value={searchValue}\n                onChange={setSearchValue}\n                placeholder='Search YouTube'\n                onRequestSearch={() => search()}\n            /> \n        </div>\n    </Menu>\n  )\n\n  const handleEnter = (e) => {\n    if (e.key === 'Enter') {\n      search()\n    }\n  }\n\n  return (\n    <div>\n      <AppBar id=\"navbar\" position=\"absolute\" className={classes.menuBar}>\n        <Toolbar variant=\"dense\" className={classes.toolbarClass}>\n        <Grid container spacing={3} alignItems=\"center\">\n\n          {/* Logo */}\n          <Grid item xs display=\"inline\">\n            <Router.Link  to={\"/\"}>\n              <Link \n                  component=\"button\"\n                  underline=\"none\"\n                  color=\"accent\"\n              >\n                  <Typography display=\"inline\" variant=\"h6\" className={classes.logo}>Comment</Typography>\n                  <Typography display=\"inline\" variant=\"h6\" color=\"secondary\" className={classes.logo}>Sense</Typography>\n              </Link>\n            </Router.Link>\n          </Grid>\n\n          {/* Desktop Search Bar */}\n          <Grid item s>\n            <div className={classes.search}>\n                <div className={classes.searchIcon}>\n                <SearchIcon />\n                </div>\n                <InputBase\n                  placeholder=\"Search YouTube\"\n                  classes={{\n                      root: classes.inputRoot,\n                      input: classes.inputInput,\n                  }}\n                  inputProps={{ 'aria-label': 'search' }}\n                  onChange={(e) => setSearchValue(e.target.value)}\n                  onKeyDown={handleEnter}\n                />\n            </div>\n          </Grid>\n          <Grid container xs direction=\"row\" alignContent=\"flex-end\" justify=\"flex-end\">\n            \n            {/* Mobile Search Button */}\n            <IconButton \n                aria-label=\"search\" \n                color=\"inherit\"\n                onClick={handleSearchOpen}\n                className={classes.mobileSearchIcon}\n            >\n                <SearchIcon />\n            </IconButton>\n\n            {/* Menu Button */}\n            <IconButton\n                edge=\"end\"\n                aria-label=\"account of current user\"\n                aria-controls={menuId}\n                aria-haspopup=\"true\"\n                onClick={handleProfileMenuOpen}\n                color=\"inherit\"\n                >\n                <AccountCircle />\n            </IconButton>\n          </Grid>\n        </Grid>\n        {renderSearch}\n        {renderMenu}\n        </Toolbar>\n      </AppBar>\n      <Toolbar className={classes.toolbarClass}/>\n    </div>\n  );\n}","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        width: '100%',\n        borderRadius: '0',\n        padding: '0',\n        margin: '10px 0 0 0',\n        boxSizing: 'border-box',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    link: {\n        display: 'flex',\n        width: '100%',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    cover: {\n        height: '80px',\n        width: 'auto',\n        [theme.breakpoints.up('sm')]: {\n            height: '120px',\n        },\n        marginBottom: '0',\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n        top: '0',\n        margin: '8px',\n        padding: '1px 5px',\n    },\n    title: {\n        top: '0',\n        margin: '0',\n        lineHeight: '1',\n        fontSize: '1.0em',\n        [theme.breakpoints.up('sm')]: {\n            fontSize: '1.1em',\n        },\n    },\n    faint: {\n        color: '#757575',\n        fontSize: '0.8em',\n        [theme.breakpoints.up('sm')]: {\n            fontSize: '0.9em',\n        },\n    },\n    actionArea: {\n        alignItems: 'flex-start',\n        fontSize: '1em',\n        margin: '0',\n        padding: '0',\n    }\n}));\n\nfunction FeedCard(props) {\n\n    let video = props.video\n    let classes = useStyles()\n\n    return (\n        <Link to={\"../video/\" + video.id} className={classes.link}>\n            <Card className={classes.root}>\n                <CardMedia\n                    className={classes.cover}\n                    component='img'\n                    src={video.thumbnail}\n                    title={video.title}\n                    />\n                <CardActionArea className={classes.actionArea}>\n                <div className={classes.details}>\n                    <Typography \n                        className={classes.title} \n                        dangerouslySetInnerHTML={{__html: video.title}}\n                    >\n                    </Typography>\n                    <Typography className={classes.faint}>{video.channelTitle}</Typography>\n                </div>\n                </CardActionArea>\n            </Card>\n        </Link>\n    )\n}\n\nexport default withRouter(FeedCard)","import { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport FeedCard from \"./FeedCard.jsx\"\n// import { initiateSocket, disconnectSocket, recent } from './sock'\n// import io from 'socket.io-client'\nimport { socket } from '../App'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        flexWrap: 'nowrap',\n        backgroundColor: '#f5f5f5',\n        margin: '0',\n        paddingTop: '10px',\n    },\n}));\n\n\nconst Feed = ({page, host}) => {\n    const classes = useStyles();\n    const [feed, setFeed] = useState([])\n    const key = useParams().key\n    \n    // var socket    \n\n    useEffect(() => {\n        buildPage(page)\n        // socket = io(host, {transports: ['websocket']});\n        // socket.on('connect', () => {\n        //     console.log(\"Connected\")\n        //     buildPage(page)\n        // })\n        // socket.on('disconnect', () => {\n        //     console.log(\"Disconnected\")\n        // })\n    }, [])\n\n    const buildPage = (type) => {\n        switch(type) {\n            case 'recent' : getRecent(10); break;\n            case 'search' : getSearch(key); break;\n        }\n    }\n    \n    const getRecent = (num) => {\n        socket.emit('recent', {n: num}, (result) => {\n            buildFeed(result.videos)\n        })\n    }\n\n    const getSearch = (key) => {\n        socket.emit('search', {key: key}, (result) => {\n            buildFeed(result.videos)\n        })\n    }\n\n    // fetch(`/api/recent/${n}`)\n        // .then(res => res.json())\n        // .then(data => {buildFeed(data.database_videos)})\n\n    // const getSearch = () => {\n    //     fetch(`../api/search/${key}`)\n    //     .then(res => res.json())\n    //     .then(data => {buildFeed(data.youtube_videos)})\n    // }\n\n    const buildFeed = (video_data) => {\n        setFeed(video_data.reverse().map(video => <FeedCard video={video} />))\n    }\n\n    return(\n        <Grid container className={classes.root} direction=\"column\">\n            {feed}\n        </Grid>\n    )\n}\n\nexport default Feed","function thousands_separators(num) {\n    if (typeof(num) !== 'number') {\n        try {\n            return (thousands_separators(parseInt(num)))\n        } catch (e) {\n            return num\n        }\n    } else {\n        var num_parts = num.toString().split(\".\");\n        num_parts[0] = num_parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        return num_parts.join(\".\");\n    }\n}\n\nexport { thousands_separators }","\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport ThumbDownAltIcon from '@material-ui/icons/ThumbDownAlt';\nimport Typography from '@material-ui/core/Typography';\nimport { thousands_separators } from '../helpers.js'\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = (theme) => ({\n    root: {\n        padding: '5px 0',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',        \n        [theme.breakpoints.up('sm')]: {\n            flexDirection: 'row',\n        },\n    },\n    line: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n})\n\nconst Details = ({ video, classes }) => {\n\n    return(\n        <div className={classes.root}>\n            <div className={classes.line}>\n                <VisibilityIcon style={{padding: '0px 10px'}}/>\n                <Typography noWrap={true}>\n                    {thousands_separators(video.views)}\n                </Typography>\n            </div>\n            <div className={classes.line}>\n                <ScheduleIcon style={{padding: '0px 10px'}}/>\n                <Typography variant=\"body1\" noWrap={true}>\n                    {video.published}\n                </Typography>\n            </div>\n            <div className={classes.line}>\n                <ThumbUpAltIcon style={{padding: '0px 10px'}}/>\n                <Typography variant=\"body1\" >\n                    {thousands_separators(video.likes)}\n                </Typography>\n                <ThumbDownAltIcon style={{padding: '0px 10px'}}/>\n                <Typography variant=\"body1\" >\n                    {thousands_separators(video.dislikes)}\n                </Typography>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Details)\n","import { useEffect, useState } from 'react'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Typography from '@material-ui/core/Typography';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Card from '@material-ui/core/Card';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport Details from './Details'\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport { thousands_separators } from '../helpers.js'\n\nconst styles = (theme) => ({\n    root: {\n        width: '100%',\n        borderRadius: '0',\n        [theme.breakpoints.up('sm')]: {\n            width: '600px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    video: {\n        width: '320px',\n        height: '180px',\n        border: 'none',\n        [theme.breakpoints.up('sm')]: {\n            width: '600px',\n            height: '333px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n            height: '432px',\n        },\n    },\n    details: {\n        padding: '10px',\n        height: 'auto',\n    },\n    videoBackground: {\n        width: '100%',\n        backgroundColor: 'black',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    infoLine: {\n        padding: '10px',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',        \n        [theme.breakpoints.up('sm')]: {\n            flexDirection: 'row',\n        },\n    },\n})\n\nconst VideoPlayer = ({videoData, classes}) => {\n\n    const [video, setVideo] = useState(null)\n    \n    useEffect(() => {\n        setVideo(videoData)\n    }, [videoData])\n\n    if (!video) {\n        return(\n            <CircularProgress color='secondary'/>\n        )\n    } else {\n        return(\n            <div className={classes.root}>\n                <div className={classes.videoBackground}>\n                    <CardMedia \n                        component=\"iframe\"\n                        className={classes.video}\n                        image={\"http://youtube.com/embed/\" + video.id} \n                    />\n                </div>\n                <div className={classes.details} >\n                    <Typography variant=\"h6\" style={{lineHeight: '1.1', marginBottom: '10px'}}>{video.title}</Typography>\n                    <Typography variant=\"body1\" ><u>{video.channelTitle}</u></Typography>\n                    <Details video={video}></Details>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(VideoPlayer)","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\n\nconst BarLoader = withStyles((theme) => ({\n    root: {\n      height: 10,\n      borderRadius: 5,\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700],\n    },\n    bar1Buffer: {\n        height: 10,\n        borderRadius: 5,\n        backgroundColor: 'black',\n    },\n    bar2Buffer: {\n        height: 10,\n        borderRadius: 5,\n        backgroundColor: 'red',\n    },\n}))(LinearProgress);\n\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n        textAlign: 'center',\n        padding: '20px',\n    },\n})\n\nconst Loader = ({ target, progress, classes }) => {\n    \n    const [mainBar, setMainBar] = useState(0)\n    const [secondaryBar, setSecondaryBar] = useState(0)\n    const [display, setDisplay] = useState(\"Loading...\")\n    useEffect(() => {\n        if (progress.analyzed) {\n            setMainBar(Math.min(100, (progress.analyzed/target)*100))\n        }\n        if (progress.loaded) {\n            setSecondaryBar(Math.min(100, (progress.loaded/target)*100))\n        }\n        switch(progress.status) {\n            case 'api': setDisplay(\"Getting comment data from YouTube api...\"); break;\n            case 'init': setDisplay(\"Initializing Web Scraper...\"); break;\n            case 'load': setDisplay(\"Loading video on YouTube...\"); break;\n            case 'scrape': setDisplay(\"Scraping comments...\"); break;\n            case 'analyze': setDisplay(\"Analyzing comments...\"); break;\n            case 'done': setDisplay(\"Preparing results...\"); break;\n            default: setDisplay(\"\"); break;\n        }\n    }, [progress])\n\n    return (\n        <div className={classes.root}>\n            <BarLoader \n                variant=\"buffer\" \n                value={mainBar} // {progress * 100}\n                valueBuffer={secondaryBar}\n            />\n            <Typography>\n                {display}\n            </Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Loader)","import { useState, useEffect } from 'react'\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Loader from './Loader'\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignContent: 'center',\n        textAlign: 'center',\n        width: '100%',\n    },\n    counter: {\n        width: '100%',\n        textAlign: 'center',\n        margin: '5px',\n        fontWeight: '800',\n    },\n    input: {\n        textAlign: 'right',\n        margin: '-4px, 10px, 0px, 10px',\n        width: '60px',\n    }\n})\n\nconst Controller = ({videoData, progress, analyze, classes}) => {\n\n    const [commentsTotal, setCommentsTotal] = useState(0)\n    const [commentsAnalyzed, setCommentsAnalyzed] = useState(0)\n\n    useEffect(() => {\n        if (videoData) {\n            setCommentsTotal(videoData.comments ? videoData.comments : 0)\n            setCommentsAnalyzed(videoData.n_analyzed)\n        }\n    }, [videoData])\n\n    const [loading, setLoading] = useState(false)\n    useEffect(() => {\n        if (progress) {\n            console.log(progress)\n            setCommentsAnalyzed(progress.analyzed)\n            if (progress.status === 'done') {\n                setLoading(false)\n            } else {\n                setLoading(true)\n            }\n            if (progress.error) {\n                console.log(`Analyzer aborted: ` + progress.error)\n            }\n        }\n    }, [progress])\n    \n    const [commentsTarget, setCommentsTarget] = useState(100)\n    const updateTarget = (e) => {\n        setCommentsTarget(e.target.value)\n    }\n\n    return(\n        <Container className={classes.root}>\n            <Typography className={classes.counter}>\n                {commentsAnalyzed} Analyzed / {commentsTotal} Comments\n            </Typography>\n            {loading\n                ? <Loader \n                    target={commentsTarget}\n                    progress={progress}\n                />\n                : <div className={classes.notLoading}>\n                    <TextField \n                        className={classes.input}\n                        onChange={updateTarget}\n                        value={commentsTarget}\n                        inputProps={{min: 0 }} \n                        color=\"secondary\"\n                    />\n                    <Button id=\"apiAnalyzeButton\" color='secondary' onClick={() => analyze(commentsTarget)}>Analyze</Button>\n                </div>\n            }\n        </Container>\n    )\n}\n\nexport default withStyles(styles)(Controller)","import { Box, withStyles, Typography } from '@material-ui/core'\nimport { useState, useEffect } from 'react'\n\nconst styles = () => ({\n    bar: {\n        height: '100%',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        backgroundColor: 'dodgerBlue',\n        zIndex: 0,\n    },\n    label: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n    },\n    text: {\n        zIndex: 1,\n    }\n})\n\nconst TopicBar = (props) => {\n\n    const [barWidth, setBarWidth] = useState(0)\n\n    useEffect(() => {\n        setBarWidth(100)\n    }, [])\n\n    return(\n        <div style={{width: \"100%\"}}>\n            <Box className={props.classes.bar} width={Math.round(props.barRatio*100) + \"%\"}/>\n            <div className={props.classes.label}>\n                <Typography variant='h6' className={props.classes.text}>{props.token}</Typography>\n                <Typography variant='h6' className={props.classes.text}>{props.score}</Typography>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(TopicBar)","import { Card, withStyles, Typography } from '@material-ui/core'\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\n\nlet styles = () => ({\n    default: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignContents: 'flex-start',\n        margin: '5px',\n        padding: '5px',\n        backgroundColor: '#f5f5f5', \n    }\n})\n\n\nconst Comment = (props) => {\n    return(\n        <Card className={props.classes.default} >\n            <Typography color=\"secondary\">{props.comment.author}</Typography>\n            <Typography dangerouslySetInnerHTML={{__html: props.comment.text}}></Typography>\n            {props.comment.likes\n                ? <Typography><ThumbUpAltIcon style={{padding: '0px 10px'}}/>{props.comment.likes}</Typography>\n                : \"\"\n            }\n        </Card>\n    )\n}\n\nexport default withStyles(styles)(Comment)","import { useState, useEffect } from 'react'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Comment from './Comment'\nimport { socket } from '../App'\n// import io from 'socket.io-client'\n\nconst CommentsBlock = ({topicComments}) => {\n    // let commentsList = topicComments.map(c => c[0])\n    // let parsedComments = [...new Set(commentsList)]\n\n    const [comments, setComments] = useState(null)\n    useEffect(() => {\n        socket.emit('comments', {comments: topicComments})\n        socket.on('comments', (data) => {setComments(data.comments)})\n    }, [])\n    \n    if (!comments) {\n        return( <CircularProgress color='secondary'/> )\n    } else {\n        return( comments.map(c => <Comment comment={c} />) )\n    }\n}\n\nexport default CommentsBlock","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport Typography from '@material-ui/core/Typography';\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\n\nimport TopicBar from './TopicBar'\nimport CommentsBlock from './CommentsBlock'\n\nconst styles = (theme) => ({\n    root: {\n        width: '100%',\n        borderRadius: '0',\n        padding: '0',\n        margin: '10px 0 0 0',\n        boxSizing: 'border-box',\n        [theme.breakpoints.up('sm')]: {\n            width: '600px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    detail: {\n        padding: 0,\n        margin: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n})\n\nconst TopicCard = ({topic, max, host, classes}) => {\n\n    const [comments, setComments] = useState(null)\n    const getComments = () => {\n        if (!comments) {\n            console.log(topic)\n            setComments(<CommentsBlock topicComments={topic.comments} host={host}/>)\n        }\n    }\n\n    return (\n        <Accordion className={classes.root} onChange={getComments}>\n            <AccordionSummary className={classes.summary}>\n                <TopicBar \n                    token={topic.token} \n                    score={topic.score}\n                    barRatio={topic.score/max} \n                />\n            </AccordionSummary>\n            <AccordionDetails className={classes.detail}>\n                {comments}\n            </AccordionDetails>\n        </Accordion>\n    )\n}\n\nexport default withStyles(styles)(TopicCard)","import { useState, useEffect } from 'react'\nimport TopicCard from './TopicCard.jsx'\n\nconst Topics = ({topics}) => {\n\n    const [topicsFeed, setTopicsFeed] = useState([])\n\n    useEffect(() => {\n        if (typeof(topics) === 'string') {\n            topics = JSON.parse(topics)\n        }\n        if (topics.length) {\n            let max = topics[0].score\n            let newTopics = topics.map(t => <TopicCard topic={t} max={max} key={t.token} />)\n            setTopicsFeed(newTopics)\n        } else {\n            setTopicsFeed(\"\")\n        }\n    }, [topics])\n\n    return (\n        <div>{topicsFeed}</div>\n    )\n}\n\nexport default Topics","import { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport VideoPlayer from \"./VideoPlayer.jsx\"\nimport Controller from \"./Controller.jsx\"\nimport Topics from \"./Topics.jsx\"\n\n// import io from 'socket.io-client'\nimport { socket } from '../App'\n// import { thousands_separators } from '../helpers.js'\n\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        flexWrap: 'nowrap',\n        backgroundColor: '#f5f5f5',\n        margin: '0',\n        paddingTop: '10px',\n    },\n})\n\nconst Video = ({classes}) => {\n    \n    const { videoId } = useParams()\n    const [videoData, setVideoData] = useState(null)\n    const [topics, setTopics] = useState([])\n    const [progress, setProgress] = useState(null)\n    useEffect(() => {\n        socket.emit('video', {videoId: videoId})\n        socket.on('video', (data) => {\n            setVideoData(data.video)\n            setTopics(data.video['topics'])\n        })\n        socket.on('loading', (data) => {\n            let new_topics = data.topics\n            setTopics(new_topics)\n            delete data.topics\n            setProgress(data)\n        })\n    }, [])\n    \n    const analyze = (n) => {\n        socket.emit('analyze', {videoData: videoData, nComments: n})\n        setProgress({status: 'init'})\n    }\n\n    return(\n        <Grid container className={classes.root} direction=\"column\">\n            <Card>\n                <VideoPlayer videoData={videoData} />\n                <Controller \n                    videoData={videoData} \n                    progress={progress} \n                    analyze={analyze}\n                />\n            </Card>\n            <Topics topics={topics}/>\n        </Grid>\n    )\n}\n\nexport default withStyles(styles)(Video)","import { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Navbar from './components/Navbar.jsx'\nimport Feed from \"./components/Feed.jsx\"\nimport Video from \"./components/Video.jsx\"\nimport './App.css';\n\n// SocketIO Host\nimport io from 'socket.io-client'\nconst HOST_NAME = \"http://0.0.0.0:5050/\"\nexport const socket = io(HOST_NAME, {transports: ['websocket'], timeout: 60000})\n\nfunction App() {\n\n  let theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#fafafa',\n      },\n      secondary: {\n        main: '#b71c1c',\n      },\n      dark: {\n        main: '#424242',\n      },\n      info: {\n        light: '#bdbdbd',\n        main: '#bdbdbd',\n        dark: '#bdbdbd',\n        contrastText: '#bdbdbd',\n      }\n    }\n  })\n\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <Router>\n          <Navbar />\n          <Switch>\n            <Route path='/' exact component={() => <Feed page=\"recent\"  host={HOST_NAME}/>} />\n            <Route path='/search/:key' exact component={() => <Feed page=\"search\" host={HOST_NAME}/>} />\n            <Route path='/video/:videoId' exact component={() => <Video  host={HOST_NAME}/>} />\n          </Switch>\n        </Router>\n      </ThemeProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}