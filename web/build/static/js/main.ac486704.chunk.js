(this["webpackJsonpreact-material"]=this["webpackJsonpreact-material"]||[]).push([[0],{209:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(12),o=n.n(i),r=n(158),s=n(276),l=n(40),d=n(15),b=n(11),j=n(14),u=n(277),p=n(17),x=n(278),h=n(279),m=n(115),O=n(244),f=n(245),g=n(293),v=n(159),y=n(98),k=n.n(y),w=n(155),S=n.n(w),N=n(153),C=n.n(N),z=n(280),I=n(281),D=n(2),B=Object(u.a)((function(e){return{grow:{flexGrow:1},title:{display:"flex"},search:Object(j.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(p.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(p.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:e.spacing(3),width:"auto",display:"none"},e.breakpoints.up("sm"),{display:"flex"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},mobileSearchIcon:Object(j.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"}),mobileSearchMenuList:{paddingTop:0,paddingBottom:0},mobileSearchMenuPaper:{width:"100%"},inputRoot:{color:"inherit",width:"300px"},toolbarClass:{minHeight:"48px"},inputInput:Object(j.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),menuBar:{backgroundColor:"#FFFFFF",width:"100%"},logo:{fontWeight:"400"}}}));function E(){var e=B(),t=c.a.useState(null),n=Object(b.a)(t,2),a=n[0],i=n[1],o=c.a.useState(null),r=Object(b.a)(o,2),s=r[0],d=r[1],j=c.a.useState(""),u=Object(b.a)(j,2),p=u[0],y=u[1],w=Boolean(a),N=Boolean(s),E=function(){i(null)},R=function(){window.location.href="/search/"+p},T="primary-search-account-menu",M=Object(D.jsxs)(v.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:T,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:w,onClose:E,children:[Object(D.jsx)(g.a,{onClick:E,children:"Profile"}),Object(D.jsx)(g.a,{onClick:E,children:"My account"})]}),A=Object(D.jsx)(v.a,{anchorEl:document.getElementById("navbar"),anchorOrigin:{vertical:"top",horizontal:"left"},id:"mobile-search-bar",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:N,onClose:function(){d(null)},classes:{list:e.mobileSearchMenuList,paper:e.mobileSearchMenuPaper},children:Object(D.jsx)("div",{children:Object(D.jsx)(C.a,{value:p,onChange:y,placeholder:"Search YouTube",onRequestSearch:function(){return R()}})})});return Object(D.jsxs)("div",{children:[Object(D.jsx)(x.a,{id:"navbar",position:"absolute",className:e.menuBar,children:Object(D.jsxs)(h.a,{variant:"dense",className:e.toolbarClass,children:[Object(D.jsxs)(z.a,{container:!0,spacing:3,alignItems:"center",children:[Object(D.jsx)(z.a,{item:!0,xs:!0,display:"inline",children:Object(D.jsx)(l.b,{to:"/",children:Object(D.jsxs)(I.a,{component:"button",underline:"none",color:"accent",children:[Object(D.jsx)(O.a,{display:"inline",variant:"h6",className:e.logo,children:"Comment"}),Object(D.jsx)(O.a,{display:"inline",variant:"h6",color:"secondary",className:e.logo,children:"Sense"})]})})}),Object(D.jsx)(z.a,{item:!0,s:!0,children:Object(D.jsxs)("div",{className:e.search,children:[Object(D.jsx)("div",{className:e.searchIcon,children:Object(D.jsx)(k.a,{})}),Object(D.jsx)(f.a,{placeholder:"Search YouTube",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return y(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&R()}})]})}),Object(D.jsxs)(z.a,{container:!0,xs:!0,direction:"row",alignContent:"flex-end",justify:"flex-end",children:[Object(D.jsx)(m.a,{"aria-label":"search",color:"inherit",onClick:function(e){d(e.currentTarget)},className:e.mobileSearchIcon,children:Object(D.jsx)(k.a,{})}),Object(D.jsx)(m.a,{edge:"end","aria-label":"account of current user","aria-controls":T,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(D.jsx)(S.a,{})})]})]}),A,M]})}),Object(D.jsx)(h.a,{className:e.toolbarClass})]})}var R=n(282),T=n(283),M=n(284),A=Object(u.a)((function(e){var t,n;return{root:(t={display:"flex",width:"100%",borderRadius:"0",padding:"0",margin:"10px 0 0 0",boxSizing:"border-box"},Object(j.a)(t,e.breakpoints.up("sm"),{width:"480px"}),Object(j.a)(t,e.breakpoints.up("md"),{width:"768px"}),t),link:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"center",textDecoration:"none",color:"inherit"},cover:(n={height:"80px",width:"auto"},Object(j.a)(n,e.breakpoints.up("sm"),{height:"120px"}),Object(j.a)(n,"marginBottom","0"),n),details:{display:"flex",flexDirection:"column",top:"0",margin:"8px",padding:"1px 5px"},title:Object(j.a)({top:"0",margin:"0",lineHeight:"1",fontSize:"1.0em"},e.breakpoints.up("sm"),{fontSize:"1.1em"}),faint:Object(j.a)({color:"#757575",fontSize:"0.8em"},e.breakpoints.up("sm"),{fontSize:"0.9em"}),actionArea:{alignItems:"flex-start",fontSize:"1em",margin:"0",padding:"0"}}}));var L=Object(d.g)((function(e){var t=e.video,n=A();return Object(D.jsx)(l.b,{to:"../video/"+t.id,className:n.link,children:Object(D.jsxs)(R.a,{className:n.root,children:[Object(D.jsx)(T.a,{className:n.cover,component:"img",src:t.thumbnail,title:t.title}),Object(D.jsx)(M.a,{className:n.actionArea,children:Object(D.jsxs)("div",{className:n.details,children:[Object(D.jsx)(O.a,{className:n.title,dangerouslySetInnerHTML:{__html:t.title}}),Object(D.jsx)(O.a,{className:n.faint,children:t.channelTitle})]})})]})})})),P=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"nowrap",backgroundColor:"#f5f5f5",margin:"0",paddingTop:"10px"}}})),W=function(e){var t=e.page,n=(e.host,P()),c=Object(a.useState)([]),i=Object(b.a)(c,2),o=i[0],r=i[1],s=Object(d.f)().key;Object(a.useEffect)((function(){l(t)}),[]);var l=function(e){switch(e){case"recent":j(10);break;case"search":u(s)}},j=function(e){Oe.emit("recent",{n:e},(function(e){p(e.videos)}))},u=function(e){Oe.emit("search",{key:e},(function(e){p(e.videos)}))},p=function(e){r(e.reverse().map((function(e){return Object(D.jsx)(L,{video:e})})))};return Object(D.jsx)(z.a,{container:!0,className:n.root,direction:"column",children:o})},F=n(5),H=n(285),_=n(117),G=n.n(_),Y=n(118),J=n.n(Y),q=n(100),K=n.n(q),Q=n(156),U=n.n(Q);function V(e){if("number"===typeof e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}try{return V(parseInt(e))}catch(n){return e}}var X=Object(F.a)((function(e){return{root:Object(j.a)({padding:"5px 0",display:"flex",flexDirection:"column",justifyContent:"space-between"},e.breakpoints.up("sm"),{flexDirection:"row"}),line:{display:"flex",flexDirection:"row"}}}))((function(e){var t=e.video,n=e.classes;return Object(D.jsxs)("div",{className:n.root,children:[Object(D.jsxs)("div",{className:n.line,children:[Object(D.jsx)(G.a,{style:{padding:"0px 10px"}}),Object(D.jsx)(O.a,{noWrap:!0,children:V(t.views)})]}),Object(D.jsxs)("div",{className:n.line,children:[Object(D.jsx)(J.a,{style:{padding:"0px 10px"}}),Object(D.jsx)(O.a,{variant:"body1",noWrap:!0,children:t.published})]}),Object(D.jsxs)("div",{className:n.line,children:[Object(D.jsx)(K.a,{style:{padding:"0px 10px"}}),Object(D.jsx)(O.a,{variant:"body1",children:V(t.likes)}),Object(D.jsx)(U.a,{style:{padding:"0px 10px"}}),Object(D.jsx)(O.a,{variant:"body1",children:V(t.dislikes)})]})]})})),Z=Object(F.a)((function(e){var t,n;return{root:(t={width:"100%",borderRadius:"0"},Object(j.a)(t,e.breakpoints.up("sm"),{width:"600px"}),Object(j.a)(t,e.breakpoints.up("md"),{width:"768px"}),t),video:(n={width:"320px",height:"180px",border:"none"},Object(j.a)(n,e.breakpoints.up("sm"),{width:"600px",height:"333px"}),Object(j.a)(n,e.breakpoints.up("md"),{width:"768px",height:"432px"}),n),details:{padding:"10px",height:"auto"},videoBackground:{width:"100%",backgroundColor:"black",display:"flex",flexDirection:"column",alignItems:"center"},infoLine:Object(j.a)({padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-between"},e.breakpoints.up("sm"),{flexDirection:"row"})}}))((function(e){var t=e.videoData,n=e.classes,c=Object(a.useState)(null),i=Object(b.a)(c,2),o=i[0],r=i[1];return Object(a.useEffect)((function(){r(t)}),[t]),o?Object(D.jsxs)("div",{className:n.root,children:[Object(D.jsx)("div",{className:n.videoBackground,children:Object(D.jsx)(T.a,{component:"iframe",className:n.video,image:"http://youtube.com/embed/"+o.id})}),Object(D.jsxs)("div",{className:n.details,children:[Object(D.jsx)(O.a,{variant:"h6",style:{lineHeight:"1.1",marginBottom:"10px"},children:o.title}),Object(D.jsx)(O.a,{variant:"body1",children:Object(D.jsx)("u",{children:o.channelTitle})}),Object(D.jsx)(X,{video:o})]})]}):Object(D.jsx)(H.a,{color:"secondary"})})),$=n(287),ee=n(291),te=n(288),ne=n(286),ae=Object(F.a)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:e.palette.grey["light"===e.palette.type?200:700]},bar1Buffer:{height:10,borderRadius:5,backgroundColor:"black"},bar2Buffer:{height:10,borderRadius:5,backgroundColor:"red"}}}))(ne.a),ce=Object(F.a)((function(e){return{root:{flexGrow:1,textAlign:"center",padding:"20px"}}}))((function(e){var t=e.target,n=e.progress,c=e.classes,i=Object(a.useState)(0),o=Object(b.a)(i,2),r=o[0],s=o[1],l=Object(a.useState)(0),d=Object(b.a)(l,2),j=d[0],u=d[1],p=Object(a.useState)("Loading..."),x=Object(b.a)(p,2),h=x[0],m=x[1];return Object(a.useEffect)((function(){switch(n.analyzed&&s(Math.min(100,n.analyzed/t*100)),n.loaded&&u(Math.min(100,n.loaded/t*100)),n.status){case"api":m("Getting comment data from YouTube api...");break;case"init":m("Initializing Web Scraper...");break;case"load":m("Loading video on YouTube...");break;case"scrape":m("Scraping comments...");break;case"analyze":m("Analyzing comments...");break;case"done":m("Preparing results...");break;default:m("")}}),[n]),Object(D.jsxs)("div",{className:c.root,children:[Object(D.jsx)(ae,{variant:"buffer",value:r,valueBuffer:j}),Object(D.jsx)(O.a,{children:h})]})})),ie=Object(F.a)((function(e){return{root:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",textAlign:"center",width:"100%"},counter:{width:"100%",textAlign:"center",margin:"5px",fontWeight:"800"},input:{textAlign:"right",margin:"-4px, 10px, 0px, 10px",width:"60px"}}}))((function(e){var t=e.videoData,n=e.progress,c=e.analyze,i=e.classes,o=Object(a.useState)(0),r=Object(b.a)(o,2),s=r[0],l=r[1],d=Object(a.useState)(0),j=Object(b.a)(d,2),u=j[0],p=j[1];Object(a.useEffect)((function(){t&&(l(t.comments?t.comments:0),p(t.n_analyzed))}),[t]);var x=Object(a.useState)(!1),h=Object(b.a)(x,2),m=h[0],f=h[1];Object(a.useEffect)((function(){n&&(console.log(n),p(n.analyzed),"done"===n.status?f(!1):f(!0),n.error&&console.log("Analyzer aborted: "+n.error))}),[n]);var g=Object(a.useState)(100),v=Object(b.a)(g,2),y=v[0],k=v[1];return Object(D.jsxs)($.a,{className:i.root,children:[Object(D.jsxs)(O.a,{className:i.counter,children:[u," Analyzed / ",s," Comments"]}),m?Object(D.jsx)(ce,{target:y,progress:n}):Object(D.jsxs)("div",{className:i.notLoading,children:[Object(D.jsx)(ee.a,{className:i.input,onChange:function(e){k(e.target.value)},value:y,inputProps:{min:0},color:"secondary"}),Object(D.jsx)(te.a,{id:"apiAnalyzeButton",color:"secondary",onClick:function(){return c(y)},children:"Analyze"})]})]})})),oe=n(292),re=n(289),se=n(290),le=n(294),de=Object(F.a)((function(){return{bar:{height:"100%",position:"absolute",left:0,top:0,backgroundColor:"dodgerBlue",zIndex:0},label:{display:"flex",flexDirection:"row",justifyContent:"space-between"},text:{zIndex:1}}}))((function(e){var t=Object(a.useState)(0),n=Object(b.a)(t,2),c=(n[0],n[1]);return Object(a.useEffect)((function(){c(100)}),[]),Object(D.jsxs)("div",{style:{width:"100%"},children:[Object(D.jsx)(le.a,{className:e.classes.bar,width:Math.round(100*e.barRatio)+"%"}),Object(D.jsxs)("div",{className:e.classes.label,children:[Object(D.jsx)(O.a,{variant:"h6",className:e.classes.text,children:e.token}),Object(D.jsx)(O.a,{variant:"h6",className:e.classes.text,children:e.score})]})]})})),be=Object(F.a)((function(){return{default:{display:"flex",flexDirection:"column",alignContents:"flex-start",margin:"5px",padding:"5px",backgroundColor:"#f5f5f5"}}}))((function(e){return Object(D.jsxs)(R.a,{className:e.classes.default,children:[Object(D.jsx)(O.a,{color:"secondary",children:e.comment.author}),Object(D.jsx)(O.a,{dangerouslySetInnerHTML:{__html:e.comment.text}}),e.comment.likes?Object(D.jsxs)(O.a,{children:[Object(D.jsx)(K.a,{style:{padding:"0px 10px"}}),e.comment.likes]}):""]})})),je=function(e){var t=e.topicComments,n=Object(a.useState)(null),c=Object(b.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){Oe.emit("comments",{comments:t}),Oe.on("comments",(function(e){o(e.comments)}))}),[]),i?i.map((function(e){return Object(D.jsx)(be,{comment:e})})):Object(D.jsx)(H.a,{color:"secondary"})},ue=Object(F.a)((function(e){var t;return{root:(t={width:"100%",borderRadius:"0",padding:"0",margin:"10px 0 0 0",boxSizing:"border-box"},Object(j.a)(t,e.breakpoints.up("sm"),{width:"600px"}),Object(j.a)(t,e.breakpoints.up("md"),{width:"768px"}),t),detail:{padding:0,margin:0,display:"flex",flexDirection:"column",width:"100%"}}}))((function(e){var t=e.topic,n=e.max,c=e.host,i=e.classes,o=Object(a.useState)(null),r=Object(b.a)(o,2),s=r[0],l=r[1];return Object(D.jsxs)(oe.a,{className:i.root,onChange:function(){s||(console.log(t),l(Object(D.jsx)(je,{topicComments:t.comments,host:c})))},children:[Object(D.jsx)(re.a,{className:i.summary,children:Object(D.jsx)(de,{token:t.token,score:t.score,barRatio:t.score/n})}),Object(D.jsx)(se.a,{className:i.detail,children:s})]})})),pe=function(e){var t=e.topics,n=Object(a.useState)([]),c=Object(b.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){if("string"===typeof t&&(t=JSON.parse(t)),t.length){var e=t[0].score,n=t.map((function(t){return Object(D.jsx)(ue,{topic:t,max:e},t.token)}));o(n)}else o("")}),[t]),Object(D.jsx)("div",{children:i})},xe=Object(F.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"nowrap",backgroundColor:"#f5f5f5",margin:"0",paddingTop:"10px"}}}))((function(e){var t=e.classes,n=Object(d.f)().videoId,c=Object(a.useState)(null),i=Object(b.a)(c,2),o=i[0],r=i[1],s=Object(a.useState)([]),l=Object(b.a)(s,2),j=l[0],u=l[1],p=Object(a.useState)(null),x=Object(b.a)(p,2),h=x[0],m=x[1];Object(a.useEffect)((function(){Oe.emit("video",{videoId:n}),Oe.on("video",(function(e){r(e.video),u(e.video.topics)})),Oe.on("loading",(function(e){var t=e.topics;u(t),delete e.topics,m(e)}))}),[]);return Object(D.jsxs)(z.a,{container:!0,className:t.root,direction:"column",children:[Object(D.jsxs)(R.a,{children:[Object(D.jsx)(Z,{videoData:o}),Object(D.jsx)(ie,{videoData:o,progress:h,analyze:function(e){Oe.emit("analyze",{videoData:o,nComments:e}),m({status:"init"})}})]}),Object(D.jsx)(pe,{topics:j})]})})),he=(n(209),n(157)),me="http://0.0.0.0:5050/",Oe=n.n(he)()(me,{transports:["websocket"],timeout:6e4});var fe=function(){var e=Object(r.a)({palette:{primary:{main:"#fafafa"},secondary:{main:"#b71c1c"},dark:{main:"#424242"},info:{light:"#bdbdbd",main:"#bdbdbd",dark:"#bdbdbd",contrastText:"#bdbdbd"}}});return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(s.a,{theme:e,children:Object(D.jsxs)(l.a,{children:[Object(D.jsx)(E,{}),Object(D.jsxs)(d.c,{children:[Object(D.jsx)(d.a,{path:"/",exact:!0,component:function(){return Object(D.jsx)(W,{page:"recent",host:me})}}),Object(D.jsx)(d.a,{path:"/search/:key",exact:!0,component:function(){return Object(D.jsx)(W,{page:"search",host:me})}}),Object(D.jsx)(d.a,{path:"/video/:videoId",exact:!0,component:function(){return Object(D.jsx)(xe,{host:me})}})]})]})})})};o.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(fe,{})}),document.getElementById("root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.ac486704.chunk.js.map