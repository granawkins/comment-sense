(this["webpackJsonpreact-material"]=this["webpackJsonpreact-material"]||[]).push([[0],{148:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(16),i=n.n(c),s=n(6),r=n(10),o=n(19),l=n(17),d=n(210),j=n(7),b=n(35),u=n(111),O="#B70000",h="200",p=function(){return Object(u.a)({typography:{fontFamily:["Roboto"],h1:{fontSize:"2.5em",fontWeight:"800",lineHeight:"1"},h3:{fontSize:"2em",fontWeight:"600"},h4:{fontSize:"2em",fontWeight:h,color:O},h5:{fontSize:"1.2em",fontWeight:"600"},h6:{fontSize:"1.2em",fontWeight:h},body1:{fontSize:"1em",fontWeight:h}},overrides:{MuiCssBaseline:{"@global":{"@font-face":"Roboto"}}},palette:{primary:{main:"#F5F5F5",dark:"#1E1E1E"},secondary:{main:"#FFFFFF",dark:"#252526"},error:{main:"#B70000",dark:"#FFFFFF"},csRed:{main:O,dark:"#8B0000"},faded:{main:"#7D7D7D"}},components:{MuiButton:{variants:[]}}})},x=n(212),m=n(113),f=n(195),g=n(196),v=n(1),y=Object(j.a)((function(e){return{root:{position:"absolute",top:"0",left:"0",width:"100%",backgroundColor:"white",zIndex:"100"},container:{margin:e.spacing(2),display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},logoText:{fontSize:"24px",fontWeight:"400"},csRed:{color:e.palette.csRed.main},enterButton:{textTransform:"none",fontSize:"1.1em",fontWeight:"200",padding:"2px"}}}))((function(e){var t=e.classes,n=Object(b.b)().loginWithRedirect,c=Object(a.useState)(!1),i=Object(s.a)(c,2),r=i[0],l=i[1];return Object(a.useEffect)((function(){window.addEventListener("keydown",(function(e){e.ctrlKey&&"l"===e.key&&l(!0)}))}),[]),Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)(x.a,{className:t.container,children:[Object(v.jsx)(o.b,{to:"/",children:Object(v.jsx)(f.a,{component:"button",underline:"none",color:"textPrimary",children:Object(v.jsxs)(x.a,{display:"flex",flexDirection:"row",children:[Object(v.jsx)(m.a,{className:t.logoText,children:"Comment"}),Object(v.jsx)(m.a,{className:"".concat(t.logoText," ").concat(t.csRed),children:"Sense"})]})})}),Object(v.jsx)("div",{className:t.enter,children:r?Object(v.jsx)(g.a,{className:t.enterButton,onClick:n,children:"Login"}):null})]})})})),w=Object(j.a)((function(e){return{root:{position:"absolute",width:"100%",bottom:"0",left:"0",backgroundColor:e.palette.secondary.main,margin:"0",zIndex:"100"},container:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",flexWrap:"nowrap",margin:e.spacing(2)},linksRow:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-evenly"},linksCol:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"},link:{color:"inherit",textDecoration:"none","&:hover":{color:e.palette.secondary.dark}},copyright:{color:e.palette.faded.main}}}))((function(e){var t=e.align,n=void 0===t?"row":t,a=e.classes;return Object(v.jsx)("div",{className:a.root,children:Object(v.jsxs)(x.a,{className:a.container,children:[Object(v.jsxs)("div",{className:"row"===n?a.linksRow:a.linksCol,children:[Object(v.jsx)(o.b,{to:"/blog",className:a.link,children:Object(v.jsx)(m.a,{variant:"body1",children:"Blog"})}),Object(v.jsx)(o.b,{to:"/contact",className:a.link,children:Object(v.jsx)(m.a,{variant:"body1",children:"Contact"})}),Object(v.jsx)(o.b,{to:"/privacy",className:a.link,children:Object(v.jsx)(m.a,{variant:"body1",children:"Privacy"})}),Object(v.jsx)(o.b,{to:"/terms",className:a.link,children:Object(v.jsx)(m.a,{variant:"body1",children:"Terms"})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(m.a,{variant:"body1",className:a.copyright,children:"\xa92021 Comment Sense"})]})})})),k=n(62),N=n.n(k),S=n(8),C=n(211),I=n(197),D=n(198),R=n(199),E=n(201),z=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.isOpen,n=e.setIsOpen,c=e.classes,i=Object(a.useState)(!1),r=Object(s.a)(i,2),o=r[0],l=r[1],d=function(){!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(O)?l(!0):(console.log(O),n(!1))},j=function(){n(!1)},b=Object(a.useState)(""),u=Object(s.a)(b,2),O=u[0],h=u[1],p=function(e){"Enter"===e.key&&d()};return Object(a.useEffect)((function(){t?window.addEventListener("keydown",p):window.removeEventListener("keydown",p)}),[t]),Object(v.jsxs)(I.a,{open:t,onClose:j,children:[Object(v.jsx)(D.a,{id:"form-dialog-title",children:Object(v.jsx)(m.a,{className:c.h5,children:"Join Waitlist"})}),Object(v.jsx)(R.a,{children:Object(v.jsx)(C.a,{error:!!o,helperText:o?"Enter a valid email address":"",autoFocus:!0,placeholder:"Enter email address",margin:"none",type:"email",onChange:function(e){h(e.target.value),o&&l(!1)},value:O})}),Object(v.jsxs)(E.a,{children:[Object(v.jsx)(g.a,{onClick:j,variant:"contained",color:"primary",children:"CANCEL"}),Object(v.jsx)(g.a,{type:"submit",onClick:d,variant:"contained",className:c.csRed,children:"SUBMIT"})]})]})})),_=n.p+"static/media/iphone-frame.4b5704a0.png",T=n.p+"static/media/demo-gif.39369f0a.gif",B=Object(j.a)((function(e){var t;return{root:{height:"100vh",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center"},content:Object(r.a)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",flexWrap:"nowrap",marginTop:e.spacing(16),margin:e.spacing(2),maxWidth:"100%"},e.breakpoints.up("sm"),{width:"600px"}),textBlock:{width:"60%"},red:{color:e.palette.csRed.main},benefit:Object(r.a)({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"2px",fontSize:"1em",fontWeight:"200"},e.breakpoints.up("sm"),{fontSize:"1.2em",padding:"4px"}),checkGap:{width:"10px"},imageBlock:{position:"relative",paddingRight:"10px",width:"40%"},iPhoneFrame:(t={position:"relative",zIndex:20},Object(r.a)(t,"position","relative"),Object(r.a)(t,"top",0),Object(r.a)(t,"left",0),Object(r.a)(t,"padding","10px"),Object(r.a)(t,"width","100%"),t),demoGif:Object(r.a)({zIndex:10,position:"absolute",top:0,left:0,padding:"15%",width:"78%"},e.breakpoints.up("sm"),{padding:"10%",width:"84%"}),link:{color:"inherit",textDecoration:"none"},ctaDesktop:Object(r.a)({display:"none"},e.breakpoints.up("sm"),{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-evenly",marginTop:e.spacing(2)}),ctaMobile:Object(r.a)({display:"flex",flexDirection:"column"},e.breakpoints.up("sm"),{display:"none"}),ctaButton:Object(r.a)({fontSize:"1em",width:"200px",height:"50px",margin:e.spacing(2)},e.breakpoints.up("sm"),{width:"160px",height:"40px",margin:"0"}),ctaRed:{backgroundColor:e.palette.csRed.main,color:"white","&:hover":{backgroundColor:e.palette.csRed.dark}},ctaDark:{backgroundColor:e.palette.secondary.dark,color:"white","&:hover":{backgroundColor:e.palette.primary.dark}}}}))((function(e){var t=e.classes,n=Object(a.useState)(!1),c=Object(s.a)(n,2),i=c[0],r=c[1],l=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(o.b,{to:"/dashboard",className:t.link,children:Object(v.jsx)(g.a,{id:"demo",variant:"contained",className:"".concat(t.ctaButton," ").concat(t.ctaRed),children:"DEMO"})}),Object(v.jsx)(g.a,{id:"freeTrial",variant:"contained",className:"".concat(t.ctaButton," ").concat(t.ctaDark),onClick:function(){return r(!0)},children:"JOIN WAIT LIST"})]});return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(z,{isOpen:i,setIsOpen:r}),Object(v.jsxs)("div",{className:t.content,children:[Object(v.jsxs)("div",{className:t.textBlock,children:[Object(v.jsxs)(m.a,{variant:"h1",style:{fontFamily:"Roboto"},children:["Your",Object(v.jsx)("br",{}),"YouTube",Object(v.jsx)("br",{}),"comments,",Object(v.jsx)("br",{}),Object(v.jsx)("span",{className:t.red,children:"sorted."})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(m.a,{className:t.benefit,children:[Object(v.jsx)(N.a,{style:{fontSize:"1.5em"}}),Object(v.jsx)("div",{className:t.checkGap}),"Scan hundreds of comments in seconds"]}),Object(v.jsxs)(m.a,{className:t.benefit,children:[Object(v.jsx)(N.a,{style:{fontSize:"1.5em"}}),Object(v.jsx)("div",{className:t.checkGap}),"Cluster by topic"]}),Object(v.jsxs)(m.a,{className:t.benefit,children:[Object(v.jsx)(N.a,{style:{fontSize:"1.5em"}}),Object(v.jsx)("div",{className:t.checkGap}),"AI-powered sentiment analysis"]}),Object(v.jsxs)(m.a,{className:t.benefit,style:{fontWeight:"600"},children:[Object(v.jsx)(N.a,{style:{fontSize:"1.5em"}}),Object(v.jsx)("div",{className:t.checkGap}),"Get the full story"]}),Object(v.jsx)("div",{className:t.ctaDesktop,children:l})]}),Object(v.jsxs)("div",{className:t.imageBlock,children:[Object(v.jsx)("img",{src:_,className:t.iPhoneFrame}),Object(v.jsx)("img",{src:T,className:t.demoGif})]})]}),Object(v.jsx)("div",{className:t.ctaMobile,children:l})]})})),L=n(114),F=(Object(j.a)((function(e){var t;return Object(S.a)(Object(S.a)({},e.typography),{},{root:{height:"100vh",width:"100%",backgroundColor:e.palette.primary.main,display:"flex",flexDirection:"column",alignItems:"center"},content:(t={width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},Object(r.a)(t,"alignItems","center"),Object(r.a)(t,"marginTop","-50px"),Object(r.a)(t,e.breakpoints.up("sm"),{width:"600px"}),t),options:Object(r.a)({width:"80%",display:"flex",flexDirection:"column",marginTop:"30px"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),option:Object(r.a)({height:"250px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",margin:e.spacing(1),padding:e.spacing(2)},e.breakpoints.up("sm"),{height:"300px",margin:e.spacing(2),padding:e.spacing(4)}),ctaButton:Object(r.a)({fontSize:"1em",width:"200px",height:"50px",margin:e.spacing(2)},e.breakpoints.up("sm"),{width:"160px",height:"40px",margin:"0"}),ctaRed:{backgroundColor:e.palette.csRed.main,color:"white","&:hover":{backgroundColor:e.palette.csRed.dark}},ctaDark:{backgroundColor:e.palette.secondary.dark,color:"white","&:hover":{backgroundColor:e.palette.primary.dark}}})}))((function(e){var t=e.classes;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)("div",{className:t.content,children:[Object(v.jsx)(m.a,{variant:"h4",children:"Pricing"}),Object(v.jsxs)("div",{className:t.options,children:[Object(v.jsxs)(L.a,{className:t.option,children:[Object(v.jsx)(m.a,{className:t.h5,children:"Pay as you go"}),Object(v.jsxs)(m.a,{className:t.body1,children:[Object(v.jsx)("li",{children:"Livestream & Catalog"}),Object(v.jsx)("li",{children:"Browse by video or topic"}),Object(v.jsx)("li",{children:"User-defined libraries"}),Object(v.jsx)("li",{children:"Comment Quota"})]}),Object(v.jsx)(m.a,{className:t.h6,children:"$5 / 10,000 comments"}),Object(v.jsx)(g.a,{variant:"contained",className:"".concat(t.ctaButton," ").concat(t.ctaDark),children:"BUY NOW"})]}),Object(v.jsxs)(L.a,{className:t.option,children:[Object(v.jsx)(m.a,{className:t.h5,children:"Subscribe"}),Object(v.jsxs)(m.a,{className:t.body1,children:[Object(v.jsx)("li",{children:"Livestream & Catalog"}),Object(v.jsx)("li",{children:"Browse by video or topic"}),Object(v.jsx)("li",{children:"User-defined libraries"}),Object(v.jsx)("li",{style:{fontWeight:"600"},children:"Unlimited comments"})]}),Object(v.jsx)(m.a,{className:t.h6,children:"$20/month"}),Object(v.jsx)(g.a,{variant:"contained",className:"".concat(t.ctaButton," ").concat(t.ctaRed),children:"SUBSCRIBE"})]})]})]})})})),Object(j.a)((function(e){return{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"}}}))((function(e){var t=e.classes;return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(y,{}),Object(v.jsx)(B,{})]})}))),A=n(14),W=n.n(A),M=n(22),G=n(153),P=n(110),H=n.n(P),U=n(215),q=n(213),J=n(200),Y=n(152),Q=n(202),Z=function(){var e=Object(M.a)(W.a.mark((function e(t,n){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function e(t){if("number"===typeof t){var n=t.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}try{return e(parseInt(t))}catch(a){return t}},V=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function K(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time",n=Date.parse(e),a=new Date(n);switch(t){case"time":return a.toLocaleString();case"date":var c={year:"numeric",month:"long",day:"numeric"};return a.toLocaleDateString(void 0,c);default:return e}},ee=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{drawer:{position:"relative",height:"100%"},drawerPaper:{width:"240px"},logoBox:{display:"flex",flexDirection:"row",padding:e.spacing(2)},logoText:{fontSize:"24px",fontWeight:"400"},channelBox:{padding:e.spacing(2)},avatar:{borderRadius:"50%",width:"100px"},csRed:{color:e.palette.csRed.main},link:{color:"inherit",textDecoration:"none"},footer:{position:"absolute",left:0,bottom:0}})}))((function(e){var t=e.drawerItems,n=e.activePage,c=e.mobileOpen,i=e.handleDrawerToggle,s=e.channel,r=e.classes;Object(a.useEffect)((function(){i("closed")}),[n]);var l=Object(b.b)().logout,d=Object(v.jsxs)("div",{className:r.drawer,children:[Object(v.jsx)(o.b,{to:"../../dashboard",className:r.link,children:Object(v.jsxs)("div",{className:r.logoBox,children:[Object(v.jsx)(m.a,{className:r.logoText,children:"Comment"}),Object(v.jsx)(m.a,{className:"".concat(r.logoText," ").concat(r.csRed),children:"Sense"})]})}),s?Object(v.jsxs)("div",{className:r.channelBox,children:[Object(v.jsx)(Q.a,{className:r.avatar,component:"img",src:s.thumbnail,title:s.channel_title+"Avatar"}),Object(v.jsx)(m.a,{classes:{root:r.h6},children:s.channel_title})]}):null,Object(v.jsxs)(J.a,{children:[t.map((function(e,t){return Object(v.jsx)(o.b,{to:"/dashboard/".concat(e),className:r.link,children:Object(v.jsx)(Y.a,{button:!0,selected:e===n,children:Object(v.jsx)(m.a,{classes:{root:r.h6},children:V(e)})},e)},e)})),Object(v.jsx)(Y.a,{button:!0,onClick:l,children:Object(v.jsx)(m.a,{classes:{root:r.h6},children:"Logout"})},"logout")]}),Object(v.jsx)(w,{align:"col"})]});return Object(v.jsxs)("nav",{className:r.drawer,"aria-label":"mailbox folders",children:[Object(v.jsx)(q.a,{mdUp:!0,implementation:"css",children:Object(v.jsx)(U.a,{variant:"temporary",anchor:"left",open:c,onClose:i,classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:d})}),Object(v.jsx)(q.a,{smDown:!0,implementation:"css",children:Object(v.jsx)(U.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:d})})]})})),te=n(81),ne=n.n(te),ae=n(203),ce=n(112),ie=n(204),se=n(105),re=n.n(se),oe=n(104),le=n.n(oe),de=Object(j.a)((function(e){return{default:{display:"flex",flexDirection:"column",alignContents:"flex-start",margin:"5px",padding:"5px",backgroundColor:"#f5f5f5"},attribute:{borderRadius:"12px",height:"24px",margin:"3px 1px"},activeAttribute:{borderRadius:"12px",height:"24px",backgroundColor:e.palette.csRed.main,color:"white",margin:"3px 1px"}}}))((function(e){var t=e.type,n=e.value,c=e.onClick,i=e.active,r=e.classes,o=Object(a.useState)(null),l=Object(s.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)(""),u=Object(s.a)(b,2),O=u[0],h=u[1];return Object(a.useEffect)((function(){switch(t){case"label":h("default");break;case"tok":h("link");break;default:j("Unrecognized Type")}}),[]),Object(v.jsx)(v.Fragment,{children:d?Object(v.jsx)("div",{children:d}):Object(v.jsx)(g.a,{size:"small",variant:"contained",color:O,classes:{root:i?r.activeAttribute:r.attribute},onClick:c,children:Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:n}})})})})),je=n(217),be=Object(j.a)((function(e){return{switchBase:{"&$checked":{color:e.palette.csRed.main},"&$checked + $track":{backgroundColor:e.palette.csRed.main}},checked:{},track:{}}}))(je.a),ue=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",textAlign:"center",width:"100%",margin:"0",padding:"0"},row:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",width:"100%",marginTop:e.spacing(1)},actionButton:{backgroundColor:e.palette.csRed.main,color:"white",top:"0",margin:"0px 5px"},search:{flexGrow:"1"},sortIcon:{height:"100%"}})}))((function(e){e.type;var t=e.control,n=e.setControl,c=e.display,i=void 0===c?null:c,o=e.setDisplay,l=void 0===o?null:o,d=e.sortOptions,j=void 0===d?null:d,b=e.allLabels,u=void 0===b?null:b,O=e.actionMessage,h=void 0===O?null:O,p=e.action,x=void 0===p?null:p,f=e.actionLabel,y=void 0===f?null:f,w=e.refresh,k=void 0===w?null:w,N=e.lastRefresh,I=void 0===N?null:N,D=e.classes,R=Object(a.useState)(""),E=Object(s.a)(R,2),z=E[0],_=E[1],T=Object(a.useState)(null),B=Object(s.a)(T,2),L=B[0],F=B[1],A=Object(a.useState)(null),W=Object(s.a)(A,2),M=W[0],P=W[1];Object(a.useEffect)((function(){z!==t.search&&n(Object(S.a)(Object(S.a)({},t),{},{search:z})),L!==t.sort&&n(Object(S.a)(Object(S.a)({},t),{},{sort:L})),JSON.stringify(M)!==JSON.stringify(t.labels)&&n(Object(S.a)(Object(S.a)({},t),{},{labels:M}))}),[z,L,M]),Object(a.useEffect)((function(){_(t.search),F(t.sort),u&&P(u.reduce((function(e,t){return Object(S.a)(Object(S.a)({},e),{},Object(r.a)({},t,!1))}),{}))}),[j,u]);var H=Object(a.useCallback)(ne()((function(e){return _(e)}),1e3)),U=function(e){F(e.currentTarget.dataset.value),Z()},q=Object(a.useState)(null),J=Object(s.a)(q,2),Y=J[0],Q=J[1],Z=function(){return Q(null)},$=Boolean(Y);return Object(a.useEffect)((function(){i&&i.sentimentEnabled&&l(Object(S.a)(Object(S.a)({},i),{},{sentimentOn:!0}))}),[]),Object(v.jsxs)(ae.a,{className:D.root,children:[Object(v.jsxs)("div",{className:D.row,children:[Object(v.jsx)(m.a,{className:D.body1,children:h}),y&&x?Object(v.jsx)(g.a,{onClick:x,className:D.actionButton,variant:"contained",children:y}):null,I&&k?Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsxs)(m.a,{className:D.body1,children:["Last updated ",I]}),Object(v.jsx)(G.a,{onClick:k,children:Object(v.jsx)(le.a,{className:D.sortIcon})})]}):null]}),Object(v.jsxs)("div",{className:D.row,children:[Object(v.jsx)(C.a,{placeholder:"Search",classes:{root:"".concat(D.h6," ").concat(D.search)},inputProps:{"aria-label":"search"},onChange:function(e){H(e.target.value)}}),j?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(G.a,{onClick:function(e){return Q(e.currentTarget)},children:Object(v.jsx)(re.a,{className:D.sortIcon})}),Object(v.jsx)(ce.a,{keepMounted:!0,anchorEl:Y,open:$,onClose:Z,children:j.map((function(e){return Object(v.jsx)(ie.a,{"data-value":e,onClick:U,selected:e===L,children:V(e)},e)}))})]}):null]}),Object(v.jsxs)("div",{className:D.row,children:[t.labels?Object(v.jsx)(v.Fragment,{children:Object.entries(t.labels).map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(v.jsx)(de,{type:"label",value:n,active:a,onClick:function(){return function(e,t){var n=JSON.parse(JSON.stringify(M));n[e]=t,P(n)}(n,!a)}})}))}):null,Object(v.jsx)("div",{style:{flexGrow:1}}),i&&i.sentimentEnabled?Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsx)(be,{checked:i.sentimentOn,onChange:function(){l(Object(S.a)(Object(S.a)({},i),{},{sentimentOn:!i.sentimentOn}))}}),Object(v.jsx)(m.a,{className:D.body1,children:"Sentiment"})]}):null]})]})})),Oe=n(84),he=n(205),pe=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{textAlign:"center",width:"100%"},csRed:{color:e.palette.csRed.main}})}))((function(e){var t=e.classes;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsx)(he.a,{className:t.csRed})})})),xe=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{textAlign:"center",width:"inherit"},error:{width:"100%",textAlign:"center",color:"gray",fontWeight:"400"}})}))((function(e){var t=e.classes;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsx)(m.a,{className:t.error,children:"ERROR"})})})),me=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{textAlign:"center",width:"inherit"},error:{width:"100%",textAlign:"center",color:"gray",fontWeight:"400"}})}))((function(e){var t=e.classes;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsx)(m.a,{className:t.error,children:"END OF FEED"})})})),fe=Object(j.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",margin:"0",padding:"10px 0",alignItems:"center"},loading:{margin:"20px 0"},error:{width:"100%",textAlign:"center",color:"gray",padding:"20px",fontWeight:"400"}}}))((function(e){var t=e.query,n=e.control,c=e.render,i=e.classes,r=Object(a.useState)([]),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(a.useState)(null),b=Object(s.a)(j,2),u=b[0],O=b[1],h=function(){var e=Object(M.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===l.length&&"score"in t[0]&&O(t[0].score),d((function(e){return[].concat(Object(Oe.a)(e),[t.map((function(e){return c(e,u||t[0].score)}))])}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(a.useState)(0),x=Object(s.a)(p,2),m=x[0],f=x[1],g=Object(a.useState)(!1),y=Object(s.a)(g,2),w=y[0],k=y[1],N=Object(a.useState)(!1),C=Object(s.a)(N,2),I=C[0],D=C[1],R=Object(a.useState)(!1),E=Object(s.a)(R,2),z=E[0],_=E[1],T=function(){var e=Object(M.a)(W.a.mark((function e(){var a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,a=Object(S.a)(Object(S.a)(Object(S.a)({},t.data),n),{},{pageNumber:m}),e.next=5,Z(t.api,a);case 5:"error"in(c=e.sent)?(k(!1),_(!0),console.log("Error with post results: ".concat(c.error))):0===c.items.length?(D(!0),k(!1)):h(c.items).then((function(){return k(!1)})),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error loading new items: ".concat(e.t0)),k(!1),_(!0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m>0&&T()}),[m]);var B=Object(a.useState)(!1),L=Object(s.a)(B,2),F=L[0],A=L[1],G=function(e){var t=e[0];A(t.isIntersecting),!t.isIntersecting||w||z||I||f((function(e){return e+1}))},P=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=new IntersectionObserver(G,{root:null,rootMargin:"20px",threshold:0});P.current&&e.observe(P.current)}),[]),Object(a.useEffect)((function(){F?1===m?T():f(1):f(0),d([]),O(0)}),[n]),Object(v.jsxs)("div",{className:i.root,children:[l,Object(v.jsx)("div",{ref:P}),w?Object(v.jsx)(pe,{}):null,z?Object(v.jsx)(xe,{}):null,I&&!z?Object(v.jsx)(me,{}):null]})})),ge=n(206),ve=n(207),ye=n(149),we=Object(ye.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{height:"100%",padding:"0",margin:"10px 0 0 0",boxSizing:"border-box",width:"100%"},link:Object(r.a)({width:"100%",height:"100%",color:"inherit",textDecoration:"none",display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridAutoRows:"1fr"},e.breakpoints.up("md"),{gridTemplateColumns:"1fr 1fr 1fr",gridAutoRows:"1fr"}),cover:Object(r.a)({gridColumn:"1 / span 2",height:"auto",marginBottom:"0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},e.breakpoints.up("md"),{gridColumn:"1 / span 1"}),details:Object(r.a)({height:"100%",gridColumn:"3 / span 3",display:"flex",flexDirection:"column",justifyContent:"flex-start",padding:"2px 8px",boxSizing:"border-box",fontSize:"90%"},e.breakpoints.up("md"),{gridColumn:"2 / span 2",padding:"8px 16px",fontSize:"100%"}),actionArea:Object(r.a)({alignItems:"flex-start",fontSize:"1em",margin:"0",padding:"0",height:"100%",flexGrow:1,flexDirection:"column"},"alignItems","stretch"),csRed:{color:e.palette.csRed.main}})}))((function(e){var t=e.video,n=e.classes;return Object(v.jsx)(ge.a,{className:n.root,children:Object(v.jsx)(ve.a,{className:n.actionArea,children:Object(v.jsxs)(o.b,{to:"../dashboard/video/"+t.id,className:n.link,children:[Object(v.jsx)("div",{className:n.cover,children:t.thumbnail?Object(v.jsx)(Q.a,{component:"img",src:t.thumbnail,title:t.title}):null}),Object(v.jsxs)("div",{className:n.details,children:[Object(v.jsx)(m.a,{noWrap:!0,className:n.h6,dangerouslySetInnerHTML:{__html:t.title}}),Object(v.jsx)(m.a,{className:n.body1,children:X(t.published,"date")}),t.db_comments>0?Object(v.jsxs)(m.a,{className:"".concat(n.body1," ").concat(n.csRed),children:[$(t.db_comments)," comments analyzed"]}):null]})]})})})})),ke=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"10px 0"},error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.isOpen,n=e.handleClose,c=e.actionTitle,i=e.remaining,r=e.quota,o=e.verb,l=e.actionLabel,d=e.action,j=e.classes,b=Object(a.useState)(100),u=Object(s.a)(b,2),O=u[0],h=u[1],p=Object(a.useState)(null),x=Object(s.a)(p,2),f=x[0],y=x[1],w=Object(a.useState)(!1),k=Object(s.a)(w,2),N=k[0],S=k[1],z=function(){n()};return Object(v.jsxs)(I.a,{open:t,onClose:z,children:[Object(v.jsx)(D.a,{id:"form-dialog-title",children:Object(v.jsx)(m.a,{className:j.h5,children:c})}),Object(v.jsxs)(R.a,{children:[Object(v.jsxs)("div",{className:j.row,children:[Object(v.jsx)(m.a,{className:j.body1,children:"Remaining:"}),Object(v.jsx)(m.a,{className:j.body1,children:$(i)})]}),Object(v.jsxs)("div",{className:j.row,children:[Object(v.jsx)(m.a,{className:j.body1,children:"Quota:"}),Object(v.jsx)(m.a,{className:j.body1,children:$(r)})]}),Object(v.jsxs)("div",{className:j.row,children:[Object(v.jsxs)(m.a,{className:j.body1,children:["Number to ",o,":"]}),Object(v.jsx)(C.a,{autoFocus:!0,margin:"none",id:"actionText",type:"tel",inputProps:{min:0,style:{width:"100px",textAlign:"right"}},onChange:function(e){var t=e.target.value;t>i&&!N?(t=i,y("Target must be less than remaining")):t>r?(t=r,y("Target must be less than quota")):y(null),h(t)},value:O})]}),f?Object(v.jsx)(m.a,{className:j.error,children:f}):null,Object(v.jsxs)("div",{className:j.row,children:[Object(v.jsx)(m.a,{className:j.body1,children:"Restart from Oldest:"}),Object(v.jsx)(be,{checked:N,onChange:function(){return S(!N)}})]})]}),Object(v.jsxs)(E.a,{children:[Object(v.jsx)(g.a,{onClick:z,variant:"contained",color:"primary",children:"CANCEL"}),Object(v.jsx)(g.a,{onClick:function(){d(O,N),n()},variant:"contained",className:j.csRed,children:l})]})]})})),Ne=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"10px 0"},error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.user,n=e.channel,c=e.classes,i=Object(a.useState)(null),r=Object(s.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),b=j[0],u=j[1],O=Object(a.useState)(null),h=Object(s.a)(O,2),p=h[0],x=h[1];Object(a.useEffect)((function(){n&&(l(n.id),u(n.db_videos),x(n.total_videos?n.total_videos:"?"))}),[n]);var m=Object(a.useState)(""),f=Object(s.a)(m,2),g=f[0],y=f[1];Object(a.useEffect)((function(){y("\n            ".concat($(b)," scanned /\n            ").concat($(p)," videos"))}),[b,p]);var w=Object(a.useState)(!1),k=Object(s.a)(w,2),N=k[0],S=k[1],C=Object(a.useState)(!1),I=Object(s.a)(C,2),D=I[0],R=I[1],E=function(){var e=Object(M.a)(W.a.mark((function e(){var n,a,c,i=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:100,a=i.length>1&&void 0!==i[1]&&i[1],S(!0),e.prev=3,e.next=6,Z("/api/scan_videos",{user:t,channelId:o,maxVideos:n,resetToken:a,publishedAfter:null});case 6:c=e.sent,u(c.db_videos),x(c.total_videos),S(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),R(!0),S(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),z=Object(a.useState)(!1),_=Object(s.a)(z,2),T=_[0],B=_[1],L=Object(a.useState)(null),F=Object(s.a)(L,2),A=F[0],G=F[1];Object(a.useEffect)((function(){G({search:"",sort:"recent"})}),[]);var P={api:"/api/videos",data:{channelId:o,pageSize:10}},H=Object(a.useState)(""),U=Object(s.a)(H,2),q=U[0],J=U[1];return Object(a.useEffect)((function(){J(N?Object(v.jsx)(pe,{}):D?Object(v.jsx)(xe,{}):"")}),[N,D]),Object(v.jsxs)("div",{className:c.root,children:[A?Object(v.jsx)(ue,{type:"videos",control:A,setControl:G,actionMessage:g,action:function(){return B(!0)},actionLabel:"SCAN NOW",sortOptions:["recent","oldest","top"]}):null,N||D?q:Object(v.jsx)(fe,{query:P,control:A,render:function(e){return Object(v.jsx)(we,{video:e},e.id)}}),Object(v.jsx)(ke,{isOpen:T,handleClose:function(){return B(!1)},actionTitle:"Scan Videos",remaining:p-b,quota:t.quota,verb:"Scan",actionLabel:"SCAN NOW",action:E})]})})),Se=n(106),Ce=n.n(Se),Ie=n(107),De=n.n(Ie),Re=n(82),Ee=n.n(Re),ze=n(108),_e=n.n(ze),Te=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"0"},video:{width:"100%",border:"none",display:"flex",flexDirection:"column",alignItems:"center"},videoBackground:{width:"100%",backgroundColor:"black"},details:{padding:"10px",boxSizing:"border-box",height:"auto",width:"100%"},line:Object(r.a)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"flex-start"}),pair:{display:"flex",flexDirection:"row",justifyContent:"space-between"}})}))((function(e){var t=e.video,n=e.classes;Object(a.useEffect)((function(){window.addEventListener("resize",s)}),[]);var c=Object(a.useRef)(null),i=Object(a.useRef)(null),s=Object(a.useCallback)(ne()((function(){if(c.current){var e=c.current.offsetWidth;c.current.style.height=Math.ceil(e/16*9)+"px",i&&(i.current.style.height=Math.ceil(e/16*9)+"px")}}),200));return Object(a.useEffect)((function(){s()}),[i,c]),Object(v.jsxs)(L.a,{className:n.root,children:[Object(v.jsx)("div",{ref:c,className:"".concat(n.video," ").concat(n.videoBackground),children:t?Object(v.jsx)(Q.a,{ref:i,component:"iframe",className:n.video,image:"http://youtube.com/embed/"+t.id}):Object(v.jsx)(pe,{})}),t?Object(v.jsxs)("div",{className:n.details,children:[Object(v.jsx)(m.a,{className:n.h6,style:{lineHeight:"1.1",marginBottom:"10px"},children:t?t.title:""}),Object(v.jsxs)("div",{className:n.line,children:[Object(v.jsxs)("div",{className:n.pair,children:[Object(v.jsx)(Ce.a,{style:{paddingRight:"10px"}}),Object(v.jsx)(m.a,{noWrap:!0,className:n.body1,children:K(t.views)})]}),Object(v.jsxs)("div",{className:n.pair,children:[Object(v.jsx)(De.a,{style:{paddingRight:"10px"}}),Object(v.jsx)(m.a,{className:n.body1,noWrap:!0,children:X(t.published,"date")})]}),Object(v.jsxs)("div",{className:n.pair,children:[Object(v.jsx)(Ee.a,{style:{paddingRight:"10px"}}),Object(v.jsx)(m.a,{className:n.body1,children:K(t.likes)}),Object(v.jsx)(_e.a,{style:{padding:"0px 10px"}}),Object(v.jsx)(m.a,{className:n.body1,children:K(t.dislikes)})]})]})]}):null]})})),Be=n(109),Le=n(214),Fe=n(208),Ae=n(209),We=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{bar:{height:"100%",position:"absolute",left:0,top:0,backgroundColor:"#8EC9FF",zIndex:0},label:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"inherit",overflow:"hidden"},token:{zIndex:1,flex:1,minWidth:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},score:{zIndex:1},sentiment:{position:"absolute",bottom:"0",left:"0",height:"5px",width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start"},pos:{height:"100%",backgroundColor:"green"},neg:{height:"100%",backgroundColor:"red"},neu:{height:"100%",backgroundColor:"dodgerblue"}})}))((function(e){var t=e.token,n=e.score,c=e.max,i=e.sentiment,r=e.classes,o=Object(a.useContext)(Je),l=Object(a.useState)(!0),d=Object(s.a)(l,2),j=d[0],b=d[1];Object(a.useEffect)((function(){b(o.display.sentimentOn)}),[o]);var u=Object(a.useState)(0),O=Object(s.a)(u,2),h=O[0],p=O[1],f=Object(a.useState)(0),g=Object(s.a)(f,2),y=g[0],w=g[1],k=Object(a.useState)(0),N=Object(s.a)(k,2),S=N[0],C=N[1],I=Object(a.useState)(0),D=Object(s.a)(I,2),R=D[0],E=D[1];Object(a.useState)((function(){if(i){var e=Math.round(n/c*100),t=Math.round(i.pos/c*100),a=Math.round((i.pos+i.neg)/c*100)-t,s=e-a-t;p(e),w(t),C(a),E(s)}}),[n,c,i]);var z=t.length>25?t.slice(0,25)+"...":t;return Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)(x.a,{className:r.bar,width:h+"%"}),j?Object(v.jsxs)("div",{className:r.sentiment,children:[Object(v.jsx)(x.a,{className:r.pos,width:y+"%"}),Object(v.jsx)(x.a,{className:r.neg,width:S+"%"}),Object(v.jsx)(x.a,{className:r.neu,width:R+"%"})]}):null,Object(v.jsxs)("div",{className:r.label,children:[Object(v.jsx)(m.a,{variant:"h6",className:r.token,dangerouslySetInnerHTML:{__html:z}}),Object(v.jsx)(m.a,{variant:"h6",className:r.score,children:n})]})]})})),Me=function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{width:"100%",position:"relative",display:"flex",flexDirection:"row",alignContents:"flex-start",padding:"0",marginBottom:e.spacing(1),height:"100%"},sentiment:{position:"absolute",top:"0",left:"0",width:"10px",height:"100%",backgroundColor:"blue",zIndex:"10"},details:{flexGrow:1,display:"flex",flexDirection:"column",alignContents:"flex-start",margin:"0",padding:"5px"},relativeText:{textDecoration:"underline",cursor:"pointer"},repliesBlock:{width:"100%",paddingLeft:"50px",boxSizing:"border-box"}})},Ge=function(e){var t=e.comment,n=e.showRelatives,c=void 0===n||n,i=e.classes,r=Object(a.useContext)(Je),o=Object(a.useState)(!0),l=Object(s.a)(o,2),d=l[0],j=l[1];Object(a.useEffect)((function(){j(r.display.sentimentOn)}),[r]);var b=Object(a.useState)(""),u=Object(s.a)(b,2),O=u[0],h=u[1],p=Object(a.useState)("5px"),x=Object(s.a)(p,2),f=x[0],g=x[1];Object(a.useEffect)((function(){d?(g("20px"),t.sentiment>0?h("green"):t.sentiment<0?h("red"):h("dodgerBlue")):g("5px")}),[d]);var y=Object(a.useState)(!1),w=Object(s.a)(y,2),k=w[0],N=w[1],S=Object(a.useState)(null),C=Object(s.a)(S,2),I=C[0],D=C[1],R=function(){var e=Object(M.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=11;break}return e.prev=1,e.next=4,Z("/api/comments",{parentId:t.id,all:!0});case 4:(n=e.sent).error?console.log("Error getting comment replies: ".concat(n.error)):n.items&&D(n.items.map((function(e){return Object(v.jsx)(He,{comment:e,showRelatives:!1})}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error loading comment replies: ".concat(e.t0));case 11:N(!k);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),E=Object(a.useState)(!1),z=Object(s.a)(E,2),_=z[0],T=z[1],B=Object(a.useState)(null),L=Object(s.a)(B,2),F=L[0],A=L[1],G=function(){var e=Object(M.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=11;break}return e.prev=1,e.next=4,Z("/api/comments",{commentIds:[t.parent]});case 4:(n=e.sent).error?console.log("Error getting comment parent: ".concat(n.error)):n.items&&A(n.items.map((function(e){return Object(v.jsx)(He,{comment:e,showRelatives:!1})}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error loading comment parent: ".concat(e.t0));case 11:T(!_);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(ge.a,{className:i.root,children:[d?Object(v.jsx)("div",{className:i.sentiment,style:{backgroundColor:"".concat(O)}}):null,Object(v.jsxs)("div",{className:i.details,style:{paddingLeft:"".concat(f)},children:[_?Object(v.jsxs)(v.Fragment,{children:[F,Object(v.jsx)("div",{style:{height:"20px"}})]}):null,Object(v.jsx)(m.a,{className:i.body1,children:Object(v.jsx)("b",{children:t.author})}),Object(v.jsx)(m.a,{dangerouslySetInnerHTML:{__html:t.text}}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[t.likes?Object(v.jsxs)(m.a,{className:i.body1,children:[Object(v.jsx)(Ee.a,{style:{fontSize:"1em",padding:"0px 10px"}}),$(t.likes)]}):null,t.n_children>0&&c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{width:"10px"}}),Object(v.jsxs)(m.a,{className:"".concat(i.body1," ").concat(i.relativeText),onClick:R,children:[t.n_children," ",t.n_children>1?"replies":"reply"]})]}):null,t.parent&&c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{width:"10px"}}),Object(v.jsx)(m.a,{className:"".concat(i.body1," ").concat(i.relativeText),onClick:G,children:"Replying to.."})]}):null]}),k?Object(v.jsxs)(v.Fragment,{children:[I,Object(v.jsx)("div",{style:{height:"5px"}})]}):null]})]})})},Pe=Object(j.a)(Me)(Ge),He=Object(j.a)(Me)(Ge),Ue=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"}})}))((function(e){var t=e.user,n=(e.channel,e.videoId,e.commentIds),c=void 0===n?[]:n,i=e.classes,r=Object(a.useState)({}),o=Object(s.a)(r,2),l=o[0],d=o[1];Object(a.useEffect)((function(){d({pageSize:10,search:"",sort:"top"})}),[]);var j={api:"/api/comments",data:{user:t,commentIds:c}},b=Object(a.useState)(null),u=Object(s.a)(b,2),O=u[0],h=(u[1],Object(a.useState)(null)),p=Object(s.a)(h,2),x=p[0],m=(p[1],Object(a.useState)("")),f=Object(s.a)(m,2),g=f[0],y=f[1];return Object(a.useEffect)((function(){y(O?Object(v.jsx)(pe,{}):x?Object(v.jsx)(xe,{}):"")}),[O,x]),Object(v.jsx)("div",{className:i.root,children:O||x?g:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ue,{type:"comments",control:l,setControl:d,sortOptions:["recent","oldest","top"]}),Object(v.jsx)(fe,{query:j,control:l,render:function(e){return Object(v.jsx)(Pe,{comment:e},e.id)}})]})})})),qe=Object(j.a)((function(e){var t;return Object(S.a)(Object(S.a)({},e.typography),{},{root:{width:"100%",borderRadius:"0",padding:"0",margin:"10px 0 0 0",boxSizing:"border-box"},accordian:(t={padding:0,margin:0,display:"flex",flexDirection:"column",width:"100%"},Object(r.a)(t,"padding","10px"),Object(r.a)(t,"boxSizing","border-box"),t),topicDetail:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},detail:{alignItems:"center",height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start"},comments:{maxHeight:"400px",overflow:"auto"}})}))((function(e){var t=e.videoId,n=void 0===t?null:t,c=e.topic,i=e.max,r=(e.sentimentOn,e.classes),o=Object(a.useState)(null),l=Object(s.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)(null),u=Object(s.a)(b,2),O=(u[0],u[1]),h=Object(a.useState)(null),p=Object(s.a)(h,2),x=p[0],f=p[1],g=Object(a.useState)(null),y=Object(s.a)(g,2),w=y[0],k=y[1];return Object(v.jsxs)(Le.a,{className:r.root,onChange:function(){if(!d){if(n)f(Object(v.jsx)(de,{type:"label",value:c.label})),j(c.comments);else{f(Object(v.jsx)(de,{type:"label",value:c.label})),O(c.videos.map((function(e){return e[0]})));var e=[];c.videos.forEach((function(t){e.push.apply(e,Object(Oe.a)(t[1]))})),j(e)}console.log(c),k(c.toks.map((function(e){return Object(v.jsx)(de,{type:"tok",value:e})})))}},children:[Object(v.jsx)(Fe.a,{className:r.summary,children:Object(v.jsx)(We,{token:c.token,score:c.score,max:i,sentiment:c.sentiment})}),Object(v.jsxs)(Ae.a,{className:r.accordian,children:[Object(v.jsxs)("div",{className:r.topicDetail,children:[Object(v.jsx)(m.a,{className:r.body1,children:"Label:"}),Object(v.jsx)("div",{className:r.detail,children:x}),Object(v.jsx)("div",{style:{width:"30px"}}),Object(v.jsx)(m.a,{className:r.body1,children:"Substitutes: "}),Object(v.jsx)("div",{className:r.detail,children:w})]}),d?Object(v.jsx)("div",{className:r.comments,children:Object(v.jsx)(Ue,{videoId:n,topic:c.token,commentIds:d})}):null]})]})})),Je=Object(a.createContext)(),Ye=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{position:"relative",width:"100%",height:"100%",margin:"0",padding:"0"},grayout:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1e3,backgroundColor:Object(Be.fade)(e.palette.primary.main,.5)}})}))((function(e){var t=e.user,n=e.page,c=e.channel,i=void 0===c?null:c,r=e.video,o=void 0===r?null:r,l=e.analyze,d=void 0===l?null:l,j=e.grayout,b=void 0===j?null:j,u=e.classes,O=Object(a.useState)(null),h=Object(s.a)(O,2),p=h[0],x=h[1],m=Object(a.useState)(null),f=Object(s.a)(m,2),g=f[0],y=f[1],w=Object(a.useState)(null),k=Object(s.a)(w,2),N=k[0],S=k[1],C=Object(a.useState)(null),I=Object(s.a)(C,2),D=I[0],R=I[1],E=Object(a.useState)(null),z=Object(s.a)(E,2),_=z[0],T=z[1],B=Object(a.useState)(null),L=Object(s.a)(B,2),F=L[0],A=L[1];Object(a.useEffect)((function(){i&&"channel"===n?(x(i.id),y(i.db_comments),S(i.total_videos?i.total_videos:"?"),A(i.labels?i.labels:null),T(i.last_refresh?X(i.last_refresh):"never")):o&&"video"===n&&(x(o.channel_id),y(o.db_comments),R(parseInt(o.total_comments)),A(o.labels?o.labels:null),T(o.last_refresh?X(o.last_refresh):"never"))}),[i,o]);var G=Object(a.useState)(null),P=Object(s.a)(G,2),H=P[0],U=P[1],q=Object(a.useState)(null),J=Object(s.a)(q,2),Y=J[0],Q=J[1];Object(a.useEffect)((function(){U({pageSize:25,search:""}),Q({sentimentEnabled:t.sentiment_on,sentimentOn:!1})}),[]);var V=Object(a.useState)(""),K=Object(s.a)(V,2),ee=K[0],te=K[1];Object(a.useEffect)((function(){"channel"===n?te("\n                ".concat($(g)," comments,\n                ").concat($(N)," videos\n            ")):"video"===n&&te("\n                ".concat($(g)," comments /\n                ").concat($(D)," total\n            "))}),[g,N,D]);var ne=Object(a.useState)(!1),ae=Object(s.a)(ne,2),ce=ae[0],ie=ae[1],se=Object(a.useState)(!1),re=Object(s.a)(se,2),oe=re[0],le=re[1],de=function(){var e=Object(M.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,e.next=4,Z("/api/refresh_".concat(n),{channelId:p,videoId:o?o.id:null});case 4:t=e.sent,y(t.db_comments),T(X(t.last_refresh)),ie(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),le(!0),ie(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),je={api:"/api/topics",data:{channelId:p,pageSize:25,videoId:o?o.id:null}},be=Object(a.useState)(""),Oe=Object(s.a)(be,2),he=Oe[0],me=Oe[1];return Object(a.useEffect)((function(){me(ce?Object(v.jsx)(pe,{}):oe?Object(v.jsx)(xe,{}):"")}),[ce,oe]),Object(v.jsxs)("div",{className:u.root,children:[H&&Y?Object(v.jsx)(ue,{type:"topics",control:H,setControl:U,display:Y,setDisplay:Q,actionMessage:ee,action:d,actionLabel:"ANALYZE",allLabels:F,refresh:de,lastRefresh:_}):null,ce||oe?he:Object(v.jsx)(Je.Provider,{value:{display:Y},children:Object(v.jsx)(fe,{query:je,control:H,render:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(v.jsx)(qe,{videoId:o?o.id:null,topic:e,max:t},e.token)}})}),b?Object(v.jsx)("div",{className:u.grayout}):null]})})),Qe=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{root:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"nowrap",margin:"0",paddingTop:"10px"}})}))((function(e){var t=e.user,n=e.channel,c=e.classes,i=Object(l.g)().videoId,r=Object(a.useState)(null),o=Object(s.a)(r,2),d=o[0],j=o[1],b=Object(a.useState)(null),u=Object(s.a)(b,2),O=u[0],h=u[1],p=Object(a.useState)(!1),x=Object(s.a)(p,2),m=x[0],f=x[1],g=Object(a.useState)(!1),y=Object(s.a)(g,2),w=y[0],k=y[1];Object(a.useEffect)((function(){j(n.id),f(!0);try{fetch("/api/video/".concat(i)).then((function(e){return e.json()})).then((function(e){e.video_data?(console.log("Video page initializing to ".concat(e.video_data.total_comments)),h(e.video_data)):console.log("No video data."),f(!1)}))}catch(e){console.log("Error fetching video: ".concat(e)),k(!0),f(!1)}}),[]);var N=Object(a.useState)(!1),C=Object(s.a)(N,2),I=C[0],D=C[1],R=function(){var e=Object(M.a)(W.a.mark((function e(){var t,n,a,c=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:100,n=c.length>1&&void 0!==c[1]&&c[1],D(!0),a={channelId:d,videoId:i,maxComments:t,resetToken:n},console.log(a),Z("/api/analyze_comments",a).then((function(e){e.error?(k(!0),D(!1),console.log("Error analyzing videos: ".concat(e.error))):e.video&&(console.log("Analyze function updating to ".concat(e.video.total_comments)),h(Object(S.a)(Object(S.a)({},O),e.video)),D(!1))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=Object(a.useState)(!1),z=Object(s.a)(E,2),_=z[0],T=z[1],B=Object(a.useState)(""),L=Object(s.a)(B,2),F=L[0],A=L[1];return Object(a.useEffect)((function(){A(m?Object(v.jsx)(pe,{}):w?Object(v.jsx)(xe,{}):"")}),[m,w]),Object(v.jsx)("div",{className:c.root,children:m||w?F:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Te,{video:O}),Object(v.jsx)(Ye,{user:t,page:"video",video:O,analyze:function(){return T(!0)},grayout:I}),Object(v.jsx)(ke,{isOpen:_,handleClose:function(){return T(!1)},actionTitle:"Analyze Comments",remaining:O?O.total_comments-O.db_comments:0,quota:t.quota,verb:"Analyze",actionLabel:"ANALYZE NOW",action:R})]})})})),Ze=Object(j.a)((function(e){return Object(S.a)(Object(S.a)({},e.typography),{},{row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"10px 0"},error:{color:e.palette.csRed.main},csRed:{color:"white",backgroundColor:e.palette.csRed.main}})}))((function(e){var t=e.classes,n=Object(b.b)().logout;return Object(v.jsxs)(I.a,{open:!0,children:[Object(v.jsx)(D.a,{id:"form-dialog-title",children:Object(v.jsx)(m.a,{className:t.h5,children:"Connect your YouTube Channel"})}),Object(v.jsx)(R.a,{}),Object(v.jsxs)(E.a,{children:[Object(v.jsx)(g.a,{onClick:function(){},children:"Sign In with Google"}),Object(v.jsx)(g.a,{onClick:n,children:"Logout"})]})]})})),$e={id:"DEMO",email:"DEMO",email_verified:!0,nickname:"CaseyNeistat",picture:"https://yt3.ggpht.com/ytc/AKedOLSlIk2U5RbHKVYAcjXjRHGI2vQGLH2g_ZzLxMDyvA=s240-c-k-c0x00ffffff-no-rj",channel_id:"UCtinbF-Q-fVthA0qrFQTgXQ",quota:1e4,sentiment_on:!0},Ve=Object(j.a)((function(e){var t;return Object(S.a)(Object(S.a)({},e.typography),{},{root:Object(r.a)({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",width:"100%",height:"100%",margin:0},e.breakpoints.up("md"),{alignItems:"flex-start"}),content:(t={width:"100%",padding:e.spacing(2)},Object(r.a)(t,e.breakpoints.up("sm"),{width:"80%"}),Object(r.a)(t,e.breakpoints.up("md"),{width:"calc(100% - 240px)",maxWidth:"800px",marginLeft:"240px"}),Object(r.a)(t,"boxSizing","border-box"),t),titleLine:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",width:"inherit"},menuButton:Object(r.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{marginRight:0,display:"none"})})}))((function(e){var t=e.auth0User,n=e.classes,c=Object(l.g)().tab,i=Object(a.useState)(!0),r=Object(s.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)(!1),b=Object(s.a)(j,2),u=b[0],O=b[1],h=Object(a.useState)(null),p=Object(s.a)(h,2),x=p[0],f=p[1],g=function(){var e=Object(M.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,Z("/api/user",{user:t});case 4:(n=e.sent).user?f(n.user):(d(!1),O(!0),n.error&&console.log("Error loading user from database: ".concat(n.error))),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),d(!1),O(!0),console.log("Error loading dashboard: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){g(t?{id:t.sub,email:t.email,email_verified:t.email_verified,nickname:t.nickname,picture:t.picture}:$e)}),[t]);var y=Object(a.useState)(!1),w=Object(s.a)(y,2),k=w[0],N=w[1],S=Object(a.useState)(null),C=Object(s.a)(S,2),I=C[0],D=C[1],R=function(){var e=Object(M.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x&&!u){e.next=2;break}return e.abrupt("return",null);case 2:if(!t||x.channel_id){e.next=6;break}return d(!1),N(!0),e.abrupt("return",null);case 6:return e.prev=6,d(!0),console.log("Getting channel for ".concat(x.channel_id)),e.next=11,Z("/api/channel",{channelId:x.channel_id});case 11:(n=e.sent).channel?(D(n.channel),d(!1)):(d(!1),O(!0),n.error&&console.log("Error loading channel from Dashboard: ".concat(n.error))),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),d(!1),O(!0),console.log("Error loading dashboard: ".concat(e.t0));case 20:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){R()}),[x]);var E=Object(a.useState)(""),z=Object(s.a)(E,2),_=z[0],T=z[1];Object(a.useEffect)((function(){T(o?Object(v.jsx)(pe,{}):u?Object(v.jsx)(xe,{}):k?Object(v.jsx)(Ze,{}):"")}),[o,u,k]);var B=Object(a.useState)(!1),L=Object(s.a)(B,2),F=L[0],A=L[1],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(e){case"open":A(!0);break;case"closed":A(!1);break;default:A(!F)}};return Object(v.jsxs)("div",{className:n.root,children:[Object(v.jsx)(ee,{drawerItems:["videos","topics","settings"],activePage:c,channel:I,mobileOpen:F,handleDrawerToggle:P}),Object(v.jsxs)("div",{className:n.content,children:[Object(v.jsxs)("div",{className:n.titleLine,children:[Object(v.jsx)(G.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:P,className:n.menuButton,children:Object(v.jsx)(H.a,{})}),Object(v.jsx)(m.a,{variant:"h3",noWrap:!0,children:V(c)})]}),o||u||k?_:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/dashboard/videos",children:Object(v.jsx)(Ne,{user:x,channel:I},"videos")}),Object(v.jsx)(l.b,{exact:!0,path:"/dashboard/topics",children:Object(v.jsx)(Ye,{user:x,channel:I,page:"channel"},"topics")}),Object(v.jsx)(l.b,{exact:!0,path:"/dashboard/video/:videoId",children:Object(v.jsx)(Qe,{user:x,channel:I},"video")}),Object(v.jsx)(l.b,{exact:!0,path:"/dashboard/settings",children:"Settings"})]})]})]})})),Ke=(Object(j.a)((function(e){var t;return{root:{padding:"30px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},paper:(t={width:"100%",padding:"5%",boxSizing:"border-box"},Object(r.a)(t,e.breakpoints.up("sm"),{width:"480px"}),Object(r.a)(t,e.breakpoints.up("md"),{width:"768px"}),Object(r.a)(t,"& div",{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}),t),inputEmail:{width:"200px",height:"auto"},inputMessage:{width:"100%",height:"100%"}}}))((function(e){var t=e.classes,n=Object(a.useState)(null),c=Object(s.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(null),l=Object(s.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)(!1),u=Object(s.a)(b,2),O=u[0],h=u[1],p=function(){var e=Object(M.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("/api/add_feedback",{email:i,message:d});case 2:t=e.sent,console.log(t),h(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:t.root,children:Object(v.jsx)(L.a,{className:t.paper,children:O?Object(v.jsx)("div",{children:Object(v.jsx)(m.a,{children:"Thanks for your message!"})}):Object(v.jsxs)("div",{children:[Object(v.jsx)(C.a,{label:"Message",multiline:!0,row:5,rowsMax:10,className:t.inputMessage,onChange:function(e){return j(e.target.value)}}),Object(v.jsx)("div",{style:{marginTop:"30px"}}),Object(v.jsx)(C.a,{label:"Email",className:t.inputEmail,onChange:function(e){return r(e.target.value)}}),Object(v.jsx)("div",{style:{marginTop:"30px"}}),Object(v.jsx)(g.a,{variant:"contained",onClick:p,children:"Submit"})]})})})})),Object(j.a)((function(e){return{root:{padding:"30px",minHeight:"400px",backgroundColor:e.palette.primary.main}}}))((function(e){var t=e.classes,n=Object(l.g)().page;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)(m.a,{variant:"h3",children:[n," placeholder"]})})}))),Xe=p();Xe.typography.h1=Object(r.a)({},Xe.breakpoints.up("sm"),{fontSize:"3.5em"});var et=Object(j.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh",margin:0,padding:0},body:{flexGrow:1},navBar:{zIndex:100},footer:{zIndex:100}}}))((function(e){var t=e.classes,n=Object(b.b)(),c=n.user,i=n.isAuthenticated,r=n.isLoading,j=Object(a.useState)(null),u=Object(s.a)(j,2),O=u[0],h=u[1];return Object(a.useEffect)((function(){h(r?Object(v.jsx)(pe,{}):Object(v.jsx)(Ve,{auth0User:c}))}),[r,i]),Object(v.jsx)(d.a,{theme:Xe,children:Object(v.jsx)("div",{className:t.root,style:{backgroundColor:Xe.palette.primary.main},children:Object(v.jsx)(o.a,{children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{path:"/dashboard/:tab",children:O}),Object(v.jsx)(l.b,{path:"/dashboard",children:Object(v.jsx)(l.a,{to:"/dashboard/videos"})}),Object(v.jsx)(l.b,{path:"/:page",children:Object(v.jsx)(Ke,{})}),Object(v.jsx)(l.b,{path:"/",children:Object(v.jsx)(F,{})})]})})})})}));i.a.render(Object(v.jsx)(b.a,{domain:"dev-o68rln01.us.auth0.com",clientId:"7YRTrvXYhEpZk2jQHyHm7HQmu4ukKhlD",redirectUri:"http://localhost/dashboard/videos",children:Object(v.jsx)(et,{})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.fc5bc7bf.chunk.js.map