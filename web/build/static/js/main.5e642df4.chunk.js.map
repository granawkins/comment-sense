{"version":3,"sources":["theme.js","components/landing/Navbar.jsx","components/landing/Footer.jsx","components/utils/helpers.js","components/utils/LoadingCircle.jsx","components/landing/Waitlist.jsx","assets/iphone-frame.png","assets/demo-gif.gif","components/landing/Splash.jsx","components/landing/Landing.jsx","components/landing/Pricing.jsx","components/dashboard/Drawer.jsx","components/dashboard/pages/feed/Attribute.jsx","components/utils/RedSwitch.js","components/dashboard/pages/Controller.jsx","components/utils/ErrorPage.js","components/utils/EndPage.js","components/dashboard/pages/feed/Feed.jsx","components/dashboard/pages/feed/VideoCard.jsx","components/utils/LoadingBar.jsx","components/dashboard/pages/ActionControl.jsx","components/dashboard/pages/Videos.jsx","components/dashboard/pages/VideoPlayer.jsx","components/dashboard/pages/feed/TopicBar.jsx","components/dashboard/pages/feed/CommentCard.jsx","components/dashboard/pages/Comments.jsx","components/dashboard/pages/feed/TopicCard.jsx","components/dashboard/pages/Topics.jsx","components/dashboard/pages/Video.jsx","components/dashboard/pages/ConnectChannel.jsx","components/dashboard/Dashboard.jsx","components/admin/pages/UsersAdmin.jsx","components/blog/BlogManager.jsx","components/blog/BlogEditor.jsx","components/dashboard/pages/feed/FeedCard.jsx","components/blog/BlogPost.jsx","components/blog/BlogAdmin.jsx","components/admin/Feedback.jsx","components/admin/Logs.jsx","components/admin/Admin.jsx","components/Placeholder.jsx","components/Login.jsx","App.js","index.js"],"names":["csRed","lightWeight","getTheme","createTheme","typography","fontFamily","h1","fontSize","fontWeight","lineHeight","h3","h4","color","h5","h6","body1","overrides","MuiCssBaseline","palette","primary","main","dark","secondary","error","faded","components","MuiButton","variants","withStyles","theme","root","position","top","left","width","backgroundColor","zIndex","container","margin","spacing","display","flexDirection","justifyContent","alignItems","logoText","enterButton","textTransform","padding","classes","loginWithRedirect","useAuth0","useState","showSignIn","setShowSignIn","useEffect","window","addEventListener","e","ctrlKey","key","className","Box","to","Link","component","underline","Typography","enter","Button","onClick","bottom","flexWrap","linksRow","linksCol","link","textDecoration","copyright","align","variant","postData","url","data","a","fetch","method","headers","body","JSON","stringify","response","json","thousands_separator","num","num_parts","toString","split","replace","join","parseInt","capitalize","text","charAt","toUpperCase","slice","numberWithCommas","x","formatTimestamp","timestamp","type","ms","Date","parse","date","toLocaleString","options","year","month","day","toLocaleDateString","undefined","textAlign","CircularProgress","isOpen","setIsOpen","submitted","setSubmitted","successful","setSuccessful","hasError","setHasError","submit","email","emailRef","current","setTimeout","invalid","setInvalid","handleActionSubmit","test","String","toLowerCase","validateEmail","handleActionClose","setEmail","useRef","listenEnter","removeEventListener","placeholder","setPlaceholder","Dialog","open","onClose","DialogTitle","id","DialogContent","TextField","helperText","autoFocus","onChange","target","value","DialogActions","height","content","marginTop","maxWidth","breakpoints","up","textBlock","red","benefit","checkGap","imageBlock","paddingRight","iPhoneFrame","demoGif","ctaDesktop","ctaMobile","ctaButton","ctaRed","ctaDark","showWaitlist","setShowWaitlist","ctaButtons","style","src","option","Paper","drawer","drawerPaper","logoBox","channelBox","avatar","borderRadius","initialCircle","initial","footer","section","drawerItems","activePage","mobileOpen","handleDrawerToggle","channel","logout","channelCard","setChannelCard","thumbnail","CardMedia","title","channel_title","List","map","index","ListItem","button","selected","returnTo","location","origin","Hidden","mdUp","implementation","Drawer","anchor","paper","ModalProps","keepMounted","smDown","default","alignContents","attribute","activeAttribute","active","err","setErr","setColor","size","dangerouslySetInnerHTML","__html","switchBase","checked","track","Switch","flexGrow","alignContent","row","actionButton","search","sortIcon","control","setControl","setDisplay","sortOptions","allLabels","actionMessage","action","actionLabel","refresh","lastRefresh","setSearch","sort","setSort","labels","setLabels","reduce","o","lab","debouncedSearch","useCallback","debounce","handleSort","currentTarget","dataset","handleSortClose","anchorEl","setAnchorEl","sortOpen","Boolean","sentimentEnabled","sentimentOn","Container","IconButton","inputProps","MenuItem","Object","entries","label","status","newLabels","handleLabel","RedSwitch","loading","query","render","feed","setFeed","maxScore","setMaxScore","addToFeed","items","length","score","item","pageNumber","setPageNumber","isLoading","setIsLoading","isEnd","setIsEnd","handleLoad","request_data","api","result","console","log","then","observing","setObserving","handleObserver","isIntersecting","p","loader","observer","IntersectionObserver","rootMargin","threshold","observe","ref","boxSizing","gridTemplateColumns","gridAutoRows","cover","gridColumn","marginBottom","details","actionArea","video","Card","CardActionArea","noWrap","published","db_comments","fade","barLoader","bar","loadTime","elapsed","setElapsed","timer","setInterval","prevElapsed","clearInterval","progress","setProgress","loadRatio","cleanRatio","Math","round","LinearProgress","head","bold","centered","handleClose","actionTitle","remaining","quota","verb","max","setMax","maxError","setMaxError","resetToken","setResetToken","cost","setCost","loadtime","setLoadtime","_maxResults","_perCall","_nCalls","ceil","min","marginLeft","user","setUser","channelId","setChannelId","dbVideos","setDBVideos","totalVideos","setTotalVideos","db_videos","total_videos","setActionMessage","grayout","setGrayout","scanVideos","maxVideos","publishedAfter","new_quota","actionOpen","setActionOpen","pageSize","border","videoBackground","line","down","pair","handleResize","background","player","offsetWidth","image","views","likes","dislikes","overflow","token","flex","minWidth","whiteSpace","textOverflow","sentiment","pos","neg","neu","context","useContext","TopicContext","setSentimentOn","xScore","setXScore","xPos","setXPos","xNeg","setXNeg","xNeu","setXNeu","fullWidth","posWidth","negWidth","neuWidth","displayToken","styles","relativeText","cursor","repliesBlock","paddingLeft","CommentCard","comment","showRelatives","leftPad","setLeftPad","repliesVisible","setRepliesVisible","replies","setReplies","handleReplies","parentId","all","c","SubComment","parentVisible","setParentVisible","parent","setParent","handleParent","commentIds","author","n_children","videoId","pageLoading","accordian","topicDetail","detail","comments","maxHeight","topic","setCommentIds","setVideoIds","toks","setToks","Accordion","videos","v","newCommentIds","forEach","push","tok","AccordionSummary","summary","AccordionDetails","createContext","page","analyze","dbComments","setDBComments","totalComments","setTotalComments","setLastRefresh","setAllLabels","last_refresh","channel_id","total_comments","sentiment_on","setPageLoading","Provider","paddingTop","useParams","setVideo","res","video_data","isAnalyzing","setIsAnalyzing","maxComments","DEFAULT_USER","email_verified","nickname","picture","titleLine","menuButton","marginRight","auth0User","tab","dashboardLoading","setDashboardLoading","getUser","getChannel","unlinked","setUnlinked","setChannel","sub","setMobileOpen","edge","exact","path","userData","users","setUsers","results","getUsers","activeOption","field","table","buttonBar","posts","blog","setBlog","newPost","removePost","setSelected","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","post","hover","confirm","handleClick","role","Checkbox","scope","created","excerpt","event","stopPropagation","handleRemove","Quill","register","ImageUploader","blogEditor","inputField","buttonContainer","publish","thumbnailSection","updateBlog","setId","setTitle","permalink","setPermalink","setThumbnail","setExcerpt","blogContent","setBlogContent","postActive","setPostActive","prevBlog","thumbnailLoading","setThumbnailLoading","handleThumbnail","file","files","formData","FormData","append","modules","setModules","formats","setFormats","fileName","document","createElement","rel","href","appendChild","addCss","toolbar","clipboard","matchVisual","imageUploader","upload","Promise","resolve","reject","catch","hidden","name","channelImage","inactive","pageUrl","setPageUrl","infoFields","setInfoFields","dbInfo","setDbInfo","channelTitle","description","keys","includes","n_analyzed","minHeight","setContent","TabPanel","props","children","other","a11yProps","tabBar","setPosts","maxId","setMaxId","getPosts","uploadPost","setActive","newBlog","Tabs","newValue","Tab","disabled","oldPosts","feedback","setFeedback","getFeedback","f","message","checkboxes","checkbox","APIs","logs","setLogs","allActive","params","newLogs","fields","unshift","time","calculateGoogleQuota","getLogs","newFeed","updateFeed","handleCheck","googleQuota","setGoogleQuota","prices","totalPrice","FormGroup","FormControlLabel","random","ADMIN_CHANNEL","val","routes","username","setUsername","inputUsername","setInputUsername","password","setPassword","rejected","setRejected","history","useHistory","handleLogin","localStorage","setItem","go","loginForm","navBar","setAuth0User","ThemeProvider","ReactDOM","domain","clientId","redirectUri","getElementById"],"mappings":"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","file":"static/js/main.5e642df4.chunk.js","sourcesContent":["import { createTheme } from '@material-ui/core/styles';\n\nconst csRed = '#B70000'\nconst lightWeight = '200'\nconst boldWeight = '600'\n\nconst getTheme = () => {\n    const theme = createTheme({\n        typography: {\n            fontFamily: ['Roboto'],\n            h1: {\n                fontSize: '2.5em',\n                fontWeight: '800',\n                lineHeight: '1',\n            },\n            h3: {\n                fontSize: '2em',\n                fontWeight: boldWeight,\n            },\n            h4: {\n                fontSize: '2em',\n                fontWeight: lightWeight,\n                color: csRed,\n            },\n            h5: {\n                fontSize: '1.2em',\n                fontWeight: boldWeight,\n            },\n            h6: {\n                fontSize: '1.2em',\n                fontWeight: lightWeight,\n            },\n            body1: {\n                fontSize: '1em',\n                fontWeight: lightWeight,\n            },\n        },\n        overrides: {\n            MuiCssBaseline: {\n                '@global': {\n                '@font-face': 'Roboto',\n                },\n            },\n        },\n        palette: {\n            primary: {\n                main: '#F5F5F5',\n                dark: '#1E1E1E',\n            },\n            secondary: {\n                main: '#FFFFFF',\n                dark: '#252526',\n            },\n            error: {\n                main: '#B70000',\n                dark: '#FFFFFF',\n            },\n            csRed: {\n                main: csRed,\n                dark: '#8B0000',\n            },\n            faded: {\n                main: '#7D7D7D',\n            },\n        },\n        components: {\n            MuiButton: {\n                variants: [\n\n                ]\n            }\n        }\n    })\n    return theme\n}\n\nexport default getTheme\n","import { useState, useEffect } from 'react';\nimport { withStyles } from '@material-ui/core/styles'\nimport * as Router from 'react-router-dom'\nimport { useAuth0 } from '@auth0/auth0-react'\n\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport Link from '@material-ui/core/Link'\nimport Button from '@material-ui/core/Button'\n\nconst styles = (theme) => ({\n  root: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    width: '100%',\n    backgroundColor: 'white',\n    zIndex: '100',\n  },\n  container: {\n    margin: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  logoText: {\n    fontSize: '24px',\n    fontWeight: '400',\n  },\n  csRed: {\n    color: theme.palette.csRed.main,\n  },\n  enterButton: {\n    textTransform: 'none',\n    fontSize: '1.1em',\n    fontWeight: '200',\n    padding: '2px',\n  },\n})\n\nconst Navbar = ({classes}) => {\n\n  const { loginWithRedirect } = useAuth0()\n\n  const [showSignIn, setShowSignIn] = useState(false)\n  useEffect(() => {\n    window.addEventListener('keydown', (e) => {\n      if (e.ctrlKey && e.key === 'l') {\n        setShowSignIn(true)\n      }\n    })\n  }, [])\n\n  return (\n    <div className={classes.root}>\n      <Box className={classes.container}>\n        <Router.Link  to={\"/\"}>\n          <Link component=\"button\" underline=\"none\" color=\"textPrimary\">\n            <Box display='flex' flexDirection='row'>\n              <Typography className={classes.logoText}>Comment</Typography>\n              <Typography className={`${classes.logoText} ${classes.csRed}`}>Sense</Typography>\n            </Box>\n          </Link>\n        </Router.Link>\n        <div className={classes.enter}>\n          {showSignIn\n            ? <Button className={classes.enterButton} onClick={loginWithRedirect}>\n              Login\n            </Button>\n            : null\n          }\n        </div>\n      </Box>\n    </div>\n  );\n}\n\nexport default withStyles(styles)(Navbar)\n","import { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { alpha, withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport * as Router from 'react-router-dom';\n\nconst styles = (theme) => ({\n    root: {\n        position: 'absolute',\n        width: '100%',\n        bottom: '0',\n        left: '0',\n        backgroundColor: theme.palette.secondary.main,\n        margin: '0',\n        zIndex: '100',\n    },\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-evenly',\n        alignItems: 'center',\n        flexWrap: 'nowrap',\n        margin: theme.spacing(2)\n    },\n    linksRow: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-evenly'\n    },\n    linksCol: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-start'\n    },\n    link: {\n        color: 'inherit',\n        textDecoration: 'none',\n        '&:hover': {\n            color: theme.palette.secondary.dark\n        }\n    },\n    copyright: {\n        color: theme.palette.faded.main\n    }\n})\n\nconst Footer = ({align='row', classes}) => {\n    return(\n        <div className={classes.root}>\n            <Box className={classes.container}>\n                <div className={align === 'row' ? classes.linksRow : classes.linksCol}>\n                    <Router.Link  to={\"/blog\"} className={classes.link}>\n                        <Typography variant='body1'>Blog</Typography>\n                    </Router.Link>\n                    <Router.Link  to={\"/contact\"} className={classes.link}>\n                        <Typography variant='body1'>Contact</Typography>\n                    </Router.Link>\n                    <Router.Link  to={\"/privacy\"} className={classes.link}>\n                        <Typography variant='body1'>Privacy</Typography>\n                    </Router.Link>\n                    <Router.Link  to={\"/terms\"} className={classes.link}>\n                        <Typography variant='body1'>Terms</Typography>\n                    </Router.Link>\n                </div>\n                <br></br>\n                <Typography variant='body1' className={classes.copyright}>&copy;2021 Comment Sense</Typography>\n            </Box>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Footer)\n","// ref: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst postData = async (url, data) => {\n    const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    })\n    // console.log(response)\n    return response.json()\n}\n\nconst thousands_separator = (num) => {\n    if (typeof(num) !== 'number') {\n        try {\n            return (thousands_separator(parseInt(num)))\n        } catch (e) {\n            return num\n        }\n    } else {\n        var num_parts = num.toString().split(\".\");\n        num_parts[0] = num_parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        return num_parts.join(\".\");\n    }\n}\n\nconst capitalize = (text) => {\n    return text.charAt(0).toUpperCase() + text.slice(1)\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nconst formatTimestamp = (timestamp, type='time') => {\n    const ms = Date.parse(timestamp)\n    const date = new Date(ms)\n    switch (type) {\n        case 'time': return date.toLocaleString()\n        case 'date': {\n            const options = { year: 'numeric', month: 'long', day: 'numeric' };\n            return date.toLocaleDateString(undefined, options)\n        }\n        default: return timestamp\n    }\n}\n\nexport {postData, thousands_separator, capitalize,\n        numberWithCommas, formatTimestamp}\n","import { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        textAlign: 'center',\n        width: '100%',\n    },\n    csRed: {\n        color: theme.palette.csRed.main,\n    },\n})\n\nconst LoadingCircle = ({classes}) => {\n    return (\n        <div className={classes.root}>\n            <CircularProgress className={classes.csRed} />\n        </div>\n    )\n}\n\nexport default withStyles(styles)(LoadingCircle)\n","import { useState, useEffect, useRef } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nimport { postData } from '../utils/helpers'\nimport LoadingCircle from '../utils/LoadingCircle'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    }\n})\n\n// Check if string is valid email address. ref: https://stackoverflow.com/a/46181\nconst validateEmail = (email) => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase())\n}\n\nconst Waitlist = ({isOpen, setIsOpen, classes}) => {\n\n    // What to do with a valid address\n    const [submitted, setSubmitted] = useState(false)\n    const [successful, setSuccessful] = useState(false)\n    const [hasError, setHasError] = useState(false)\n    const submit = async () => {\n        setSubmitted(true)\n        const response = await postData('/api/add_waitlist', {email: emailRef.current})\n        if (!response.error) {\n            setSuccessful(true)\n        } else {\n            setHasError(true)\n        }\n        window.setTimeout(() => {\n            setIsOpen(false)\n        }, 1000)\n    }\n\n    // Handle button clicks\n    const [invalid, setInvalid] = useState(false)\n    const handleActionSubmit = () => {\n        if (!validateEmail(emailRef.current)) {\n            setInvalid(true)\n        } else {\n            submit()\n        }\n    }\n    const handleActionClose = () => {\n        setIsOpen(false)\n    }\n\n    // Update email variable while you type\n    // useState to manage input field, useRef for listener (https://stackoverflow.com/a/55265764)\n    const [email, setEmail] = useState(\"\")\n    const emailRef = useRef(email)\n    const handleEmail = (e) => {\n        setEmail(e.target.value)\n        emailRef.current = e.target.value\n        // Turn off the error message after they've updated it\n        if (invalid) {\n            setInvalid(false)\n        }\n    }\n\n    // Pressing enter clicks 'submit'\n    const listenEnter = (e) => {\n        if (e.key === 'Enter') {\n            handleActionSubmit()\n        }\n    }\n    useEffect(() => {\n        if (isOpen) {\n            window.addEventListener('keydown', listenEnter)\n        } else {\n            window.removeEventListener('keydown', listenEnter)\n        }\n    }, [isOpen])\n\n    const [placeholder, setPlaceholder] = useState(null)\n    useEffect(() => {\n        if (submitted && !successful && !hasError) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (successful) {\n            setPlaceholder(\n                <Typography className={classes.body1}>\n                    Success! We'll be in touch.\n                </Typography>\n            )\n        } else if (hasError) {\n            setPlaceholder(\n                <Typography className={classes.body1}>\n                    Error. Please try again later.\n                </Typography>\n            )\n        } else {\n            setPlaceholder(null)\n        }\n    }, [submitted, successful, hasError])\n\n    return (\n        <Dialog open={isOpen} onClose={handleActionClose}>\n            <DialogTitle id=\"form-dialog-title\">\n                <Typography className={classes.h5}>Join Waitlist</Typography>\n            </DialogTitle>\n            <DialogContent>\n                {placeholder\n                    ? placeholder\n                    : <TextField\n                        error={invalid ? true : false}\n                        helperText={invalid ? \"Enter a valid email address\" : \"\"}\n                        autoFocus\n                        placeholder=\"Enter email address\"\n                        margin=\"none\"\n                        type=\"email\"\n                        onChange={handleEmail}\n                        value={email}\n                    />\n                }\n            </DialogContent>\n            <DialogActions>\n                {placeholder\n                    ? null\n                    : <>\n                        <Button onClick={handleActionClose} variant=\"contained\" color=\"primary\">\n                            CANCEL\n                        </Button>\n                        <Button type=\"submit\" onClick={handleActionSubmit} variant=\"contained\"\n                                className={classes.csRed}>\n                            SUBMIT\n                        </Button>\n                    </>\n                }\n            </DialogActions>\n        </Dialog>\n    )\n\n}\n\nexport default withStyles(styles)(Waitlist)\n","export default __webpack_public_path__ + \"static/media/iphone-frame.4b5704a0.png\";","export default __webpack_public_path__ + \"static/media/demo-gif.39369f0a.gif\";","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport * as Router from 'react-router-dom'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport Waitlist from './Waitlist'\n\nimport iPhoneFrame from '../../assets/iphone-frame.png'\nimport demoGif from '../../assets/demo-gif.gif'\n\n\nconst styles = (theme) => ({\n    root: {\n        height: '100vh',\n        width: '100%',\n        backgroundColor: 'white',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    content: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n        flexWrap: 'nowrap',\n        marginTop: theme.spacing(16),\n        margin: theme.spacing(2),\n        maxWidth: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '600px',\n        },\n    },\n    textBlock: {\n        width: '60%',\n    },\n    red: {\n        color: theme.palette.csRed.main,\n    },\n    benefit: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        padding: '2px',\n        fontSize: '1em',\n        fontWeight: '200',\n        [theme.breakpoints.up('sm')]: {\n            fontSize: '1.2em',\n            padding: '4px'\n        },\n    },\n    checkGap: {\n        width: '10px',\n    },\n    imageBlock: {\n        position: 'relative',\n        paddingRight: '10px',\n        width: '40%',\n    },\n    iPhoneFrame: {\n        position: 'relative',\n        zIndex: 20,\n        position: 'relative',\n        top: 0,\n        left: 0,\n        padding: '10px',\n        width: '100%',\n    },\n    demoGif: {\n        zIndex: 10,\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        padding: '15%',\n        width: '78%',\n        [theme.breakpoints.up('sm')]: {\n            padding: '10%',\n            width: '84%',\n        },\n    },\n    link: {\n        color: 'inherit',\n        textDecoration: 'none',\n    },\n    ctaDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            width: '100%',\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-evenly',\n            marginTop: theme.spacing(2)\n        }\n    },\n    ctaMobile: {\n        display: 'flex',\n        flexDirection: 'column',\n        [theme.breakpoints.up('sm')]: {\n            display: 'none',\n        },\n    },\n    ctaButton: {\n        fontSize: '1em',\n        width: '200px',\n        height: '50px',\n        margin: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            width: '160px',\n            height: '40px',\n            margin: '0',\n        },\n    },\n    ctaRed: {\n        backgroundColor: theme.palette.csRed.main,\n        color: 'white',\n        '&:hover': {\n            backgroundColor: theme.palette.csRed.dark,\n        },\n    },\n    ctaDark: {\n        backgroundColor: theme.palette.secondary.dark,\n        color: 'white',\n        '&:hover': {\n            backgroundColor: theme.palette.primary.dark,\n        },\n    },\n})\n\nconst Splash = ({classes}) => {\n\n    const [showWaitlist, setShowWaitlist] = useState(false)\n\n    const ctaButtons = (\n        <>\n            <Router.Link to={'/dashboard'} className={classes.link}>\n                <Button\n                    id=\"demo\"\n                    variant='contained'\n                    className={`${classes.ctaButton} ${classes.ctaRed}`}\n                    // onClick={() => {}}\n                >DEMO</Button>\n            </Router.Link>\n            <Button\n                id=\"freeTrial\"\n                variant='contained'\n                className={`${classes.ctaButton} ${classes.ctaDark}`}\n                onClick={() => setShowWaitlist(true)}\n            >JOIN WAIT LIST</Button>\n        </>\n    )\n\n    return(\n        <div className={classes.root}>\n            <Waitlist isOpen={showWaitlist} setIsOpen={setShowWaitlist} />\n            <div className={classes.content}>\n                <div className={classes.textBlock}>\n                    <Typography variant='h1' style={{fontFamily: 'Roboto'}}>\n                        Your{<br/>}YouTube{<br/>}comments,{<br/>}<span className={classes.red}>sorted.</span>\n                    </Typography>\n                    {<br/>}\n                    <Typography className={classes.benefit}>\n                        <CheckIcon style={{fontSize: '1.5em'}} />\n                        <div className={classes.checkGap}></div>\n                        Scan hundreds of comments in seconds\n                    </Typography>\n                    <Typography className={classes.benefit}>\n                        <CheckIcon style={{fontSize: '1.5em'}} />\n                        <div className={classes.checkGap}></div>\n                        Cluster by topic\n                    </Typography>\n                    <Typography className={classes.benefit}>\n                        <CheckIcon style={{fontSize: '1.5em'}} />\n                        <div className={classes.checkGap}></div>\n                        AI-powered sentiment analysis\n                    </Typography>\n                    <Typography className={classes.benefit} style={{fontWeight: '600'}}>\n                        <CheckIcon style={{fontSize: '1.5em'}} />\n                        <div className={classes.checkGap}></div>\n                        Get the full story\n                    </Typography>\n                    <div className={classes.ctaDesktop}>\n                        {ctaButtons}\n                    </div>\n                </div>\n                <div className={classes.imageBlock}>\n                    <img src={iPhoneFrame} className={classes.iPhoneFrame}></img>\n                    <img src={demoGif} className={classes.demoGif}></img>\n                </div>\n            </div>\n            <div className={classes.ctaMobile}>\n                {ctaButtons}\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Splash)\n\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Navbar from './Navbar'\nimport Footer from './Footer'\nimport Splash from './Splash'\nimport Pricing from './Pricing'\n\nconst styles = (theme) => ({\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n})\n\nconst Landing = ({classes}) => {\n\n    return(\n        <div className={classes.root}>\n            <Navbar />\n            <Splash />\n            {/* <Pricing />\n            <Footer /> */}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Landing)\n","import { withStyles } from '@material-ui/core/styles'\nimport * as Router from 'react-router-dom'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport Button from '@material-ui/core/Button'\nimport CheckIcon from '@material-ui/icons/Check';\nimport iPhoneFrame from '../../assets/iphone-frame.png'\nimport demoGif from '../../assets/demo-gif.gif'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        height: '100vh',\n        width: '100%',\n        backgroundColor: theme.palette.primary.main,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    content: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: '-50px',\n        [theme.breakpoints.up('sm')]: {\n            width: '600px',\n        },\n    },\n    options: {\n        width: '80%',\n        display: 'flex',\n        flexDirection: 'column',\n        marginTop: '30px',\n        [theme.breakpoints.up('sm')]: {\n            width: '100%',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n        },\n    },\n    option: {\n        height: '250px',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: theme.spacing(1),\n        padding: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            height: '300px',\n            margin: theme.spacing(2),\n            padding: theme.spacing(4),\n        },\n    },\n    ctaButton: {\n        fontSize: '1em',\n        width: '200px',\n        height: '50px',\n        margin: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            width: '160px',\n            height: '40px',\n            margin: '0',\n        },\n    },\n    ctaRed: {\n        backgroundColor: theme.palette.csRed.main,\n        color: 'white',\n        '&:hover': {\n            backgroundColor: theme.palette.csRed.dark,\n        },\n    },\n    ctaDark: {\n        backgroundColor: theme.palette.secondary.dark,\n        color: 'white',\n        '&:hover': {\n            backgroundColor: theme.palette.primary.dark,\n        },\n    },\n})\n\nconst Pricing = ({classes}) => {\n    return(\n        <div className={classes.root}>\n            <div className={classes.content}>\n                <Typography variant='h4'>\n                    Pricing\n                </Typography>\n                <div className={classes.options}>\n                    <Paper className={classes.option}>\n                        <Typography className={classes.h5}>\n                            Pay as you go\n                        </Typography>\n                        <Typography className={classes.body1}>\n                            <li>Livestream & Catalog</li>\n                            <li>Browse by video or topic</li>\n                            <li>User-defined libraries</li>\n                            <li>Comment Quota</li>\n                        </Typography>\n                        <Typography className={classes.h6}>\n                            $5 / 10,000 comments\n                        </Typography>\n                        <Button variant='contained' className={`${classes.ctaButton} ${classes.ctaDark}`}>\n                            BUY NOW\n                        </Button>\n                    </Paper>\n                    <Paper className={classes.option}>\n                        <Typography className={classes.h5}>\n                            Subscribe\n                        </Typography>\n                        <Typography  className={classes.body1}>\n                            <li>Livestream & Catalog</li>\n                            <li>Browse by video or topic</li>\n                            <li>User-defined libraries</li>\n                            <li style={{fontWeight: '600'}}>Unlimited comments</li>\n                        </Typography>\n                        <Typography  className={classes.h6}>\n                            $20/month\n                        </Typography>\n                        <Button variant='contained' className={`${classes.ctaButton} ${classes.ctaRed}`}>\n                            SUBSCRIBE\n                        </Button>\n                    </Paper>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Pricing)\n\n","import { useState, useEffect } from 'react'\nimport { Link, useParams, Switch, Route } from 'react-router-dom'\nimport { useAuth0 } from '@auth0/auth0-react'\n\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport CardMedia from '@material-ui/core/CardMedia'\n\nimport Footer from '../landing/Footer'\nimport { capitalize } from '../utils/helpers'\n\nconst drawerWidth = '240px'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    drawer: {\n        position: 'relative',\n        height: '100%',\n    },\n    drawerPaper: {\n        width: drawerWidth,\n    },\n    logoBox: {\n        display: 'flex',\n        flexDirection: 'row',\n        padding: theme.spacing(2),\n    },\n    logoText: {\n        fontSize: '24px',\n        fontWeight: '400',\n    },\n    channelBox: {\n        padding: theme.spacing(2),\n    },\n    avatar: {\n        borderRadius: '50%',\n        width: '100px',\n    },\n    initialCircle: {\n        width: '100px',\n        height: '100px',\n        borderRadius: '50%',\n        backgroundColor: 'darkGray',\n        color: 'white',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'canter',\n    },\n    initial: {\n        fontSize: '30pt',\n        width: '100%',\n        textAlign: 'center',\n    },\n    csRed: {\n        color: theme.palette.csRed.main,\n    },\n    link: {\n        color: 'inherit',\n        textDecoration: 'none',\n    },\n    footer: {\n        position: 'absolute',\n        left: 0,\n        bottom: 0,\n    }\n})\n\nconst ReactiveDrawer = ({section, drawerItems, activePage, mobileOpen,\n                         handleDrawerToggle, channel, classes}) => {\n\n    const { logout } = useAuth0()\n    const logoutWithRedirect = () => {\n        logout({\n            returnTo: window.location.origin\n        })\n    }\n\n    const [channelCard, setChannelCard] = useState(null)\n    useEffect(() => {\n        if (!channel) {\n            return\n        } else if (channel.thumbnail) {\n            setChannelCard(\n                <CardMedia\n                    className={classes.avatar}\n                    component='img'\n                    src={channel.thumbnail}\n                    title={channel.channel_title + 'Avatar'}\n                />\n            )\n        } else {\n            setChannelCard(\n                <div className={classes.initialCircle}>\n                    <Typography className={classes.initial}>\n                        {channel.channel_title.charAt(0)}\n                    </Typography>\n                </div>\n            )\n        }\n    }, [channel])\n\n    useEffect(() => {\n        handleDrawerToggle('closed')\n    }, [activePage])\n\n    if (!channel) {\n        return null\n    }\n\n    const drawer = (\n        <div className={classes.drawer}>\n            <Link to={`../../dashboard`} className={classes.link}>\n                <div className={classes.logoBox}>\n                    <Typography className={classes.logoText}>Comment</Typography>\n                    <Typography className={`${classes.logoText} ${classes.csRed}`}>Sense</Typography>\n                </div>\n            </Link>\n            <div className={classes.channelBox}>\n                {channelCard}\n                <Typography classes={{root: classes.h6}}>{channel.channel_title}</Typography>\n            </div>\n            <List>\n                {drawerItems.map((text, index) => (\n                    <Link to={`/${section}/${text}`} className={classes.link} key={text}>\n                        <ListItem button key={text} selected={text === activePage}>\n                            <Typography classes={{root: classes.h6}}>\n                                {capitalize(text)}\n                            </Typography>\n                        </ListItem>\n                    </Link>\n                ))}\n                <Link onClick={logoutWithRedirect} className={classes.link} key={'logout'}>\n                    <ListItem button key={'logout'}>\n                        <Typography classes={{root: classes.h6}}>\n                            Logout\n                        </Typography>\n                    </ListItem>\n                </Link>\n            </List>\n            <Footer align='col' />\n        </div>\n    )\n\n    return(\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\n            <Hidden mdUp implementation=\"css\">\n                <Drawer\n                    variant=\"temporary\"\n                    anchor={'left'}\n                    open={mobileOpen}\n                    onClose={handleDrawerToggle}\n                    classes={{paper: classes.drawerPaper}}\n                    ModalProps={{keepMounted: true}}\n                >\n                    {drawer}\n                </Drawer>\n            </Hidden>\n            <Hidden smDown implementation=\"css\">\n                <Drawer\n                    classes={{paper: classes.drawerPaper}}\n                    variant=\"permanent\"\n                    open\n                >\n                    {drawer}\n                </Drawer>\n            </Hidden>\n        </nav>\n    )\n}\n\nexport default withStyles(styles)(ReactiveDrawer)\n\n","import { useState, useEffect } from 'react'\nimport { Card, withStyles, Typography } from '@material-ui/core'\nimport Button from '@material-ui/core/Button';\n\nlet styles = (theme) => ({\n    default: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignContents: 'flex-start',\n        margin: '5px',\n        padding: '5px',\n        backgroundColor: '#f5f5f5',\n    },\n    attribute: {\n        borderRadius: '12px',\n        height: '24px',\n        margin: '3px 1px',\n    },\n    activeAttribute: {\n        borderRadius: '12px',\n        height: '24px',\n        backgroundColor: theme.palette.csRed.main,\n        color: 'white',\n        margin: '3px 1px',\n    },\n})\n\n\nconst Attribute = ({type, value, onClick, active, classes}) => {\n\n    const [err, setErr] = useState(null)\n    const [color, setColor] = useState(\"\")\n    useEffect(() => {\n        switch(type) {\n            case 'label': {\n                setColor('default')\n                break\n            }\n            case 'tok': {\n                setColor('link')\n                break\n            }\n            default: {\n                setErr('Unrecognized Type')\n            }\n        }\n    }, [])\n\n    return(\n        <>\n            {err\n                ? <div>{err}</div>\n                : <Button\n                    size='small'\n                    variant='contained'\n                    color={color}\n                    classes={{root: active ? classes.activeAttribute : classes.attribute}}\n                    onClick={onClick}\n                ><span dangerouslySetInnerHTML={{__html: value}}></span></Button>\n            }\n        </>\n    )\n}\n\nexport default withStyles(styles)(Attribute)\n","import { withStyles } from '@material-ui/core/styles'\nimport Switch from '@material-ui/core/Switch'\n\nconst switchStyles = (theme) => ({\n    switchBase: {\n        '&$checked': {\n          color: theme.palette.csRed.main,\n        },\n        '&$checked + $track': {\n          backgroundColor: theme.palette.csRed.main,\n        },\n      },\n      checked: {},\n      track: {},\n})\n\nexport default withStyles(switchStyles)(Switch)\n","import { useState, useEffect, useCallback } from 'react'\nimport debounce from 'lodash.debounce'\n\nimport { withStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport TextField from '@material-ui/core/TextField'\nimport SortIcon from '@material-ui/icons/Sort';\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\nimport Attribute from './feed/Attribute'\nimport { capitalize } from '../../utils/helpers'\nimport RedSwitch from '../../utils/RedSwitch'\n\n\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignContent: 'center',\n        textAlign: 'center',\n        width: '100%',\n        margin: '0',\n        padding: '0',\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        flexWrap: 'wrap',\n        width: '100%',\n        marginTop: theme.spacing(1),\n    },\n    actionButton: {\n        backgroundColor: theme.palette.csRed.main,\n        color: 'white',\n        top: '0',\n        margin: '0px 5px',\n    },\n    search: {\n        flexGrow: '1',\n    },\n    sortIcon: {\n        height: '100%',\n    },\n})\n\nconst Controller = ({type, control, setControl, display=null, setDisplay=null, sortOptions=null,\n                    allLabels=null, actionMessage=null, action=null, actionLabel=null,\n                    refresh=null, lastRefresh=null, classes}) => {\n\n    // Update control (in parent) when sort and local variables are changed\n    const [search, setSearch] = useState(\"\")\n    const [sort, setSort] = useState(null)\n    const [labels, setLabels] = useState(null)\n    useEffect(() => {\n        if (search !== control.search) {\n            setControl({...control, search})\n        }\n        if (sort !== control.sort) {\n            setControl({...control, sort})\n        }\n        if (JSON.stringify(labels) !== JSON.stringify(control.labels)) {\n            setControl({...control, labels})\n        }\n    }, [search, sort, labels])\n\n    // Set default values from parent on load.\n    useEffect(() => {\n        setSearch(control.search)\n        setSort(control.sort)\n        if (allLabels) {\n            setLabels(allLabels.reduce((o, lab) => ({ ...o, [lab]: false}), {}))\n        }\n    }, [sortOptions, allLabels])\n\n    // Debounce search by 1 second\n\tconst handleSearch = (e) => {\n        debouncedSearch(e.target.value)\n\t}\n    const debouncedSearch = useCallback(\n        debounce(key => setSearch(key), 1000)\n    )\n\n    // If sortOptions are provided, update sort on change\n    const handleSort = (e) => {\n        setSort(e.currentTarget.dataset.value)\n        handleSortClose()\n    }\n    const [anchorEl, setAnchorEl] = useState(null)\n    const handleSortClick = (e) => setAnchorEl(e.currentTarget)\n    const handleSortClose = () => setAnchorEl(null)\n    const sortOpen = Boolean(anchorEl)\n\n    // Labels are off by default. Click on label to toggle status.\n    const handleLabel = (label, status) => {\n        const newLabels = JSON.parse(JSON.stringify(labels))\n        newLabels[label] = status\n        setLabels(newLabels)\n    }\n\n    // If sentiment is enabled for user, show toggle and turn on by default\n    const toggleSentiment = () => {\n        setDisplay({...display, sentimentOn: !display.sentimentOn})\n    }\n    useEffect(() => {\n        if (display && display.sentimentEnabled) {\n            setDisplay({...display, sentimentOn: true})\n        }\n    }, [])\n\n    return(\n        <Container className={classes.root}>\n            <div className={classes.row}>\n                <Typography className={classes.body1}>{actionMessage}</Typography>\n                {actionLabel && action\n                    ? <Button\n                        onClick={action}\n                        className={classes.actionButton}\n                        variant='contained'\n                    >{actionLabel}</Button>\n                    : null\n                }\n                {lastRefresh && refresh\n                ? <div style={{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\n                    <Typography className={classes.body1}>Last updated {lastRefresh}</Typography>\n                    <IconButton onClick={refresh}>\n                        <RefreshIcon className={classes.sortIcon} />\n                    </IconButton>\n                </div>\n                : null\n                }\n            </div>\n            <div className={classes.row}>\n                <TextField\n                  placeholder=\"Search\"\n                  classes={{\n                      root: `${classes.h6} ${classes.search}`,\n                  }}\n                  inputProps={{ 'aria-label': 'search' }}\n                  onChange={handleSearch}\n                />\n                {sortOptions\n                    ? <>\n                        <IconButton onClick={handleSortClick}>\n                            <SortIcon className={classes.sortIcon} />\n                        </IconButton>\n                        <Menu keepMounted anchorEl={anchorEl} open={sortOpen} onClose={handleSortClose}>\n                            {sortOptions.map(option => (\n                                <MenuItem\n                                    key={option}\n                                    data-value={option}\n                                    onClick={handleSort}\n                                    selected={option === sort}\n                                >{capitalize(option)}</MenuItem>\n                            ))}\n                        </Menu>\n                    </>\n                    : null\n                }\n            </div>\n            <div className={classes.row}>\n                {control.labels\n                    ? <>\n                        {Object.entries(control.labels).map(([key, value]) => (\n                            <Attribute type='label' value={key} active={value}\n                                    onClick={() => handleLabel(key, !value)} />\n                        ))}\n                    </>\n                    : null\n                }\n                <div style={{flexGrow: 1}} />\n                {display && display.sentimentEnabled\n                    ? <div style={{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\n                        <RedSwitch\n                            checked={display.sentimentOn}\n                            onChange={toggleSentiment}\n                        />\n                        <Typography className={classes.body1}>Sentiment</Typography>\n                    </div>\n                    : null\n                }\n            </div>\n        </Container>\n    )\n}\n\nexport default withStyles(styles)(Controller)\n","import { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        textAlign: 'center',\n        width: 'inherit',\n    },\n    error: {\n        width: '100%',\n        textAlign: 'center',\n        color: 'gray',\n        fontWeight: '400',\n    },\n})\n\nconst ErrorPage = ({classes}) => {\n    return (\n        <div className={classes.root}>\n            <Typography className={classes.error}>ERROR</Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(ErrorPage)\n","import { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        textAlign: 'center',\n        width: 'inherit',\n    },\n    error: {\n        width: '100%',\n        textAlign: 'center',\n        color: 'gray',\n        fontWeight: '400',\n    },\n})\n\nconst EndPage = ({classes}) => {\n    return (\n        <div className={classes.root}>\n            <Typography className={classes.error}>END OF FEED</Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(EndPage)\n","import { useState, useEffect, useRef, useCallback } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\n\nimport LoadingCircle from '../../../utils/LoadingCircle'\nimport ErrorPage from '../../../utils/ErrorPage'\nimport EndPage from '../../../utils/EndPage'\nimport { postData } from '../../../utils/helpers'\n\nconst styles = (theme) => ({\n    root: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0',\n        padding: '10px 0',\n        alignItems: 'center',\n    },\n    loading: {\n        margin: '20px 0',\n    },\n    error: {\n        width: '100%',\n        textAlign: 'center',\n        color: 'gray',\n        padding: '20px',\n        fontWeight: '400',\n    }\n})\n\nconst Feed = ({query, control, render, classes}) => {\n\n    // Add new items to the bottom of the feed\n    const [feed, setFeed] = useState([])\n    const [maxScore, setMaxScore] = useState(null)\n    const addToFeed = async (items) => {\n        if (feed.length === 0) {\n            if ('score' in items[0]) {\n                setMaxScore(items[0].score)\n            }\n        }\n        setFeed(feed => [...feed, items.map(item => render(item, maxScore ? maxScore : items[0].score))])\n    }\n\n    // Load content from api\n    const [pageNumber, setPageNumber] = useState(0)\n    const [isLoading, setIsLoading] = useState(false)\n    const [isEnd, setIsEnd] = useState(false)\n    const [hasError, setHasError] = useState(false)\n    const handleLoad = async () => {\n        setIsLoading(true)\n        try {\n            let request_data = {\n                ...query.data,\n                ...control,\n                pageNumber,\n            }\n            let result = await postData(query.api, request_data)\n            if ('error' in result) {\n                setIsLoading(false)\n                setHasError(true)\n                console.log(`Error with post results: ${result['error']}`)\n            } else if (result.items.length === 0) {\n                setIsEnd(true)\n                setIsLoading(false)\n            } else {\n                addToFeed(result.items).then(() => setIsLoading(false))\n            }\n        }\n        catch (err) {\n            console.log(`Error loading new items: ${err}`)\n            setIsLoading(false)\n            setHasError(true)\n        }\n    }\n\n    // Trigger load when page number is updated\n    useEffect(() => {\n        if (pageNumber > 0) {\n            handleLoad()\n        }\n    }, [pageNumber])\n\n    // Update pageNumber when bottom of screen visible\n    const [observing, setObserving] = useState(false)\n    const handleObserver = (entries) => {\n        const target = entries[0];\n        setObserving(target.isIntersecting)\n        if (target.isIntersecting && !isLoading && !hasError && !isEnd) {\n            setPageNumber((p) => p + 1)\n        }\n    }\n\n    // Hookup the observer element\n    const loader = useRef(null)\n    useEffect(() => {\n        const option = {\n            root: null,\n            rootMargin: \"20px\",\n            threshold: 0\n        };\n        const observer = new IntersectionObserver(handleObserver, option)\n        if (loader.current) observer.observe(loader.current)\n    }, [])\n\n    // Reset feed when control changes\n    useEffect(() => {\n        if (observing) {\n            if (pageNumber === 1) {\n                handleLoad()\n            } else {\n                setPageNumber(1)\n            }\n        } else {\n            setPageNumber(0)\n        }\n        setFeed([])\n        setMaxScore(0)\n    }, [control])\n\n    return (\n        <div className={classes.root}>\n            {feed}\n            <div ref={loader} />\n            {isLoading ? <LoadingCircle /> : null}\n            {hasError ? <ErrorPage /> : null}\n            {isEnd && !hasError ? <EndPage /> : null}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Feed)\n","import { useState, useEffect } from 'react'\nimport { Link, withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/styles';\nimport { postData, formatTimestamp, thousands_separator } from '../../../utils/helpers';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        height: '100%',\n        padding: '0',\n        margin: '10px 0 0 0',\n        boxSizing: 'border-box',\n        width: '100%',\n    },\n    link: {\n        width: '100%',\n        height: '100%',\n        color: 'inherit',\n        textDecoration: 'none',\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr 1fr 1fr 1fr',\n        gridAutoRows: '1fr',\n        [theme.breakpoints.up('md')]: {\n            gridTemplateColumns: '1fr 1fr 1fr',\n            gridAutoRows: '1fr',\n        },\n    },\n    cover: {\n        gridColumn: '1 / span 2',\n        height: 'auto',\n        marginBottom: '0',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n        [theme.breakpoints.up('md')]: {\n            gridColumn: '1 / span 1'\n        },\n\n    },\n    details: {\n        height: '100%',\n        gridColumn: '3 / span 3',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        padding: '2px 8px',\n        boxSizing: 'border-box',\n        fontSize: '90%',\n        [theme.breakpoints.up('md')]: {\n            gridColumn: '2 / span 2',\n            padding: '8px 16px',\n            fontSize: '100%',\n        },\n    },\n    actionArea: {\n        alignItems: 'flex-start',\n        fontSize: '1em',\n        margin: '0',\n        padding: '0',\n        height: '100%',\n        flexGrow: 1,\n        flexDirection: 'column',\n        alignItems: 'stretch',\n    },\n    csRed: {\n        color: theme.palette.csRed.main\n    },\n})\n\nconst VideoCard = ({video, classes}) => {\n\n    return (\n        <Card className={classes.root}>\n            <CardActionArea className={classes.actionArea}>\n                <Link to={\"../dashboard/video/\" + video.id} className={classes.link}>\n                    <div className={classes.cover}>\n                        {video.thumbnail\n                            ? <CardMedia\n                                component='img'\n                                src={video.thumbnail}\n                                title={video.title}\n                            />\n                            : null\n                        }\n                    </div>\n                    <div className={classes.details}>\n                        <Typography noWrap className={classes.h6} dangerouslySetInnerHTML={{__html: video.title}}></Typography>\n                        <Typography className={classes.body1}>{formatTimestamp(video.published, 'date')}</Typography>\n                        {video.db_comments > 0\n                            ? <Typography className={`${classes.body1} ${classes.csRed}`}>\n                                {thousands_separator(video.db_comments)} comments analyzed\n                            </Typography>\n                            : null\n                        }\n                    </div>\n                </Link>\n            </CardActionArea>\n        </Card>\n    )\n}\n\nexport default withStyles(styles)(VideoCard)\n","import { useEffect, useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { fade } from '@material-ui/core/styles/colorManipulator'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 1000,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        backgroundColor: fade(theme.palette.primary.main, 0.5),\n    },\n    barLoader: {\n        height: '5px',\n        width: '100%',\n    },\n    bar: {\n        backgroundColor: theme.palette.csRed.main\n    },\n})\n\nconst LoadingBar = ({loadTime=null, classes}) => {\n\n    const TIME_STEP = 500 // ms\n    const [elapsed, setElapsed] = useState(0)\n    useEffect(() => {\n        const timer = setInterval(() => {\n            setElapsed(prevElapsed => prevElapsed + TIME_STEP)\n        }, TIME_STEP);\n        return () => {\n              clearInterval(timer);\n        }\n    }, [])\n\n    const [progress, setProgress] = useState(0)\n    useEffect(() => {\n        const targetTime = loadTime ? loadTime : 5\n        const loadRatio = elapsed / (targetTime * 1000)\n        const cleanRatio = Math.round(loadRatio * 100)\n        if (cleanRatio >= 99) {\n            setProgress(99)\n        } else {\n            setProgress(cleanRatio)\n        }\n    }, [elapsed])\n\n    return (\n        <div className={classes.root}>\n            <LinearProgress\n                className={classes.barLoader}\n                classes={{bar: classes.bar}}\n                variant='determinate'\n                value={progress}\n            />\n        </div>\n    )\n}\n\nexport default withStyles(styles)(LoadingBar)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nimport RedSwitch from '../../utils/RedSwitch'\nimport { thousands_separator } from '../../utils/helpers'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        width: '100%',\n        margin: '5px 0',\n    },\n    head: {\n        margin: '0',\n    },\n    bold: {\n        fontWeight: '600',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    },\n    centered: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n})\n\nconst ActionControl = ({isOpen, handleClose, actionTitle, remaining, quota, verb,\n                        actionLabel, action, classes}) => {\n\n    const [max, setMax] = useState(100)\n    const [maxError, setMaxError] = useState(null)\n    const [resetToken, setResetToken] = useState(false)\n    const handleMax = (e) => {\n        let target = e.target.value\n        if (target > remaining && !resetToken) {\n            target = remaining\n            setMaxError(\"Target must be less than remaining\")\n        } else if (target > quota) {\n            target = quota\n            setMaxError(\"Target must be less than quota\")\n        } else {\n            setMaxError(null)\n        }\n        setMax(target)\n    }\n\n    const [cost, setCost] = useState(0) // how much user's quota will be reduced (estimate)\n    const [loadtime, setLoadtime] = useState(0) // how many seconds will it take\n    useEffect(() => {\n        let _maxResults // how many results per youtube api call\n        let _perCall // the api quota for one call\n        if (verb === 'Analyze') {\n            _maxResults = 100\n            _perCall = 1\n        } else if (verb === 'Scan') {\n            _maxResults = 50\n            _perCall = 100\n        }\n        const _nCalls = Math.ceil(max / _maxResults) // est number of calls\n        setCost(_nCalls * _perCall)\n        setLoadtime(Math.round(5 + _nCalls * 0.9))\n    }, [max])\n\n    // Create a popup menu with details/options for analyze\n    const handleActionConfirm = () => {\n        action(max, resetToken, loadtime)\n        handleClose()\n    }\n    const handleActionClose = () => {\n        handleClose()\n    }\n\n    return (\n        <Dialog open={isOpen} onClose={handleActionClose}>\n            <DialogTitle className={classes.centered}>{actionTitle}</DialogTitle>\n            <DialogContent>\n                <div className={`${classes.row} ${classes.head}`}>\n                    <Typography className={classes.body1}>{verb}</Typography>\n                    <TextField\n                        error\n                        autoFocus\n                        margin=\"none\"\n                        id=\"actionText\"\n                        type=\"tel\"\n                        inputProps={{min: 0,style: {width: '50px', textAlign: 'right'}}}\n                        className={classes.body1}\n                        onChange={handleMax}\n                        value={max}\n                    />\n                    <Typography className={classes.body1} style={{marginLeft: '5px'}}>\n                        / {thousands_separator(remaining)} remaining\n                    </Typography>\n                </div>\n                {maxError\n                    ? <Typography className={classes.error}>{maxError}</Typography>\n                    : null\n                }\n                <div className={classes.row}>\n                    <Typography className={classes.body1}>\n                        Restart from {verb === 'Scan' ? 'Newest' : 'Oldest'}:\n                    </Typography>\n                    <RedSwitch\n                        size='small'\n                        checked={resetToken}\n                        onChange={() => setResetToken(!resetToken)}\n                    />\n                </div>\n                <div className={classes.row}>\n                    <Typography className={classes.body1}>\n                        Est. time:\n                    </Typography>\n                    <Typography className={`${classes.body1} ${classes.bold}`}>\n                        {thousands_separator(loadtime)} seconds\n                    </Typography>\n                </div>\n                <div className={classes.row}>\n                    <Typography className={classes.body1}>\n                        Quota Cost:\n                    </Typography>\n                    <Typography className={`${classes.body1} ${classes.bold}`}>\n                        {thousands_separator(cost)} / {thousands_separator(quota)}\n                    </Typography>\n                </div>\n            </DialogContent>\n            <DialogActions className={classes.centered}>\n                <Button onClick={handleActionClose} variant=\"contained\" color=\"secondary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleActionConfirm} variant=\"contained\" className={classes.csRed}>\n                    GO\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n\n}\n\nexport default withStyles(styles)(ActionControl)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Controller from './Controller'\nimport Feed from './feed/Feed'\nimport VideoCard from './feed/VideoCard'\nimport { postData, thousands_separator } from '../../utils/helpers'\nimport LoadingCircle from '../../utils/LoadingCircle'\nimport LoadingBar from '../../utils/LoadingBar'\nimport ErrorPage from '../../utils/ErrorPage'\nimport ActionControl from './ActionControl'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: '10px 0',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    }\n})\n\n// Rendered only after dashboard has a valid channel object\nconst Videos = ({user, setUser, channel, classes}) => {\n\n    // const videoId = useParams().videoId\n    const [channelId, setChannelId] = useState(null)\n    const [dbVideos, setDBVideos] = useState(null)\n    const [totalVideos, setTotalVideos] = useState(null)\n    useEffect(() => {\n        if (channel) {\n            setChannelId(channel.id)\n            setDBVideos(channel.db_videos)\n            setTotalVideos(channel.total_videos ? channel.total_videos : \"?\")\n        }\n    }, [channel])\n\n    // Action Messaage is displayed on top of the controller, next to action button\n    const [actionMessage, setActionMessage] = useState(\"\")\n    useEffect(() => {\n        setActionMessage(`\n            ${thousands_separator(dbVideos)} scanned /\n            ${thousands_separator(totalVideos)} videos`\n        )\n    }, [dbVideos, totalVideos])\n\n    // ScanVideos is the primary action for the videos page.\n    const [grayout, setGrayout] = useState(null)\n    const [hasError, setHasError] = useState(false)\n    const scanVideos = async (maxVideos=100, resetToken=false, loadtime=5) => {\n        setGrayout(loadtime)\n        try {\n            const response = await postData('/api/scan_videos', {\n                user,\n                channelId,\n                maxVideos: maxVideos, // target number of videos to add\n                resetToken: resetToken, // start the next scan over from the beginning\n                publishedAfter: null,\n            })\n            /*\n            const response = {\n                db_videos: Integer,\n                next_page_token: String,\n                total_videos: Integer,\n                end: String,\n                error: String,\n            }\n            */\n            setDBVideos(response.db_videos)\n            setTotalVideos(response.total_videos)\n            setUser({...user, quota: response.new_quota})\n            setGrayout(false)\n        }\n        catch {\n            setHasError(true)\n            setGrayout(false)\n        }\n    }\n\n    // Handle ActionControl popup menu\n    const [actionOpen, setActionOpen] = useState(false)\n\n    // Contains controller settings. Controller updates, Feed adds to api call.\n    const [control, setControl] = useState(null)\n    useEffect(() => {\n        setControl({search: \"\", sort: \"recent\"})\n    }, [])\n\n    // Tells the Feed where to get items, and how to render them.\n    const query = {\n        api: '/api/videos',\n        data: {channelId, pageSize: 10},\n    }\n    const render = (video) => {\n        return <VideoCard video={video} key={video.id} />\n    }\n\n    return(\n        <div className={classes.root}>\n            {!control\n                ? null\n                : <Controller\n                    type='videos'\n                    control={control}\n                    setControl={setControl}\n                    actionMessage={actionMessage}\n                    action={() => setActionOpen(true)}\n                    actionLabel=\"SCAN NOW\"\n                    sortOptions={['recent', 'oldest', 'top']}\n                />}\n            {hasError\n                ? <ErrorPage />\n                : <Feed\n                    query={query}\n                    control={control}\n                    render={render}\n                />}\n            <ActionControl\n                // isOpen, handleClose, actionTitle, remaining, quota, verb, actionLabel, action\n                isOpen={actionOpen}\n                handleClose={() => setActionOpen(false)}\n                actionTitle=\"Scan Videos\"\n                remaining={totalVideos - dbVideos}\n                quota={user ? user.quota : null}\n                verb=\"Scan\"\n                actionLabel=\"SCAN NOW\"\n                action={scanVideos}\n            />\n            {grayout && <LoadingBar loadTime={grayout} />}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Videos)\n","import { useEffect, useState, useRef, useCallback } from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport debounce from 'lodash.debounce'\n\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport ThumbDownAltIcon from '@material-ui/icons/ThumbDownAlt';\n\nimport LoadingCircle from '../../utils/LoadingCircle';\nimport { numberWithCommas, formatTimestamp } from '../../utils/helpers';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        borderRadius: '0',\n    },\n    video: {\n        width: '100%',\n        border: 'none',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    videoBackground: {\n        width: '100%',\n        backgroundColor: 'black',\n    },\n    details: {\n        padding: '10px',\n        boxSizing: 'border-box',\n        height: 'auto',\n        width: '100%',\n    },\n    line: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n        },\n    },\n    pair: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n    },\n})\n\nconst VideoPlayer = ({video, classes}) => {\n\n    useEffect(() => {\n        window.addEventListener('resize', handleResize)\n    }, [])\n\n    const background = useRef(null)\n    const player = useRef(null)\n    const handleResize = useCallback(\n        debounce(() => {\n            if (background.current) {\n                const width = background.current.offsetWidth\n                background.current.style.height = Math.ceil(width / 16 * 9) + \"px\"\n                if (player) {\n                    player.current.style.height = Math.ceil(width / 16 * 9) + \"px\"\n                }\n            }\n        }, 200)\n    )\n    useEffect(() => {\n        handleResize()\n    }, [player, background])\n\n    return(\n        <Paper className={classes.root}>\n            <div ref={background} className={`${classes.video} ${classes.videoBackground}`}>\n                {!video\n                    ? <LoadingCircle />\n                    :  <CardMedia\n                        ref={player}\n                        component=\"iframe\"\n                        className={classes.video}\n                        image={\"http://youtube.com/embed/\" + video.id}\n                    />\n                }\n            </div>\n            {video\n            ? <div className={classes.details} >\n                <Typography className={classes.h6} style={{lineHeight: '1.1', marginBottom: '10px'}}>{video ? video.title : \"\"}</Typography>\n                <div className={classes.line}>\n                    <div className={classes.pair}>\n                        <VisibilityIcon style={{paddingRight: '10px'}}/>\n                        <Typography noWrap={true} className={classes.body1}>\n                            {numberWithCommas(video.views)}\n                        </Typography>\n                    </div>\n                    <div className={classes.pair}>\n                        <ScheduleIcon style={{paddingRight: '10px'}}/>\n                        <Typography className={classes.body1} noWrap={true}>\n                            {formatTimestamp(video.published, 'date')}\n                        </Typography>\n                    </div>\n                    <div className={classes.pair}>\n                        <ThumbUpAltIcon style={{paddingRight: '10px'}}/>\n                        <Typography className={classes.body1} >\n                            {numberWithCommas(video.likes)}\n                        </Typography>\n                        <ThumbDownAltIcon style={{padding: '0px 10px'}}/>\n                        <Typography className={classes.body1} >\n                            {numberWithCommas(video.dislikes)}\n                        </Typography>\n                    </div>\n                </div>\n            </div>\n            : null\n            }\n        </Paper>\n    )\n    // }\n}\n\nexport default withStyles(styles)(VideoPlayer)\n","import { useContext, useState, useEffect } from 'react'\nimport { Box, withStyles, Typography } from '@material-ui/core'\nimport { TopicContext } from '../Topics'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    bar: {\n        height: '100%',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        backgroundColor: '#8EC9FF',\n        zIndex: 0,\n    },\n    label: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        width: 'inherit',\n        overflow: 'hidden',\n    },\n    token: {\n        zIndex: 1,\n        flex: 1,\n        minWidth: 0,\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n    score: {\n        zIndex: 1,\n    },\n    sentiment: {\n        position: 'absolute',\n        bottom: '0',\n        left: '0',\n        height: '5px',\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n    },\n    pos: {\n        height: '100%',\n        backgroundColor: 'green',\n    },\n    neg: {\n        height: '100%',\n        backgroundColor: 'red',\n    },\n    neu: {\n        height: '100%',\n        backgroundColor: 'dodgerblue',\n    },\n})\n\nconst TopicBar = ({token, score, max, sentiment, classes}) => {\n\n    const context = useContext(TopicContext)\n    const [sentimentOn, setSentimentOn] = useState(true)\n    useEffect(() => {\n        setSentimentOn(context.display.sentimentOn)\n    }, [context])\n\n    const [xScore, setXScore] = useState(0)\n    const [xPos, setXPos] = useState(0)\n    const [xNeg, setXNeg] = useState(0)\n    const [xNeu, setXNeu] = useState(0)\n    useState(() => {\n        if (!sentiment) {\n            return\n        }\n        let fullWidth = Math.round((score/max)*100)\n        let posWidth = Math.round((sentiment.pos/max)*100)\n        let negWidth = Math.round(((sentiment.pos + sentiment.neg)/max)*100) - posWidth\n        let neuWidth = fullWidth - negWidth - posWidth\n        setXScore(fullWidth)\n        setXPos(posWidth)\n        setXNeg(negWidth)\n        setXNeu(neuWidth)\n    }, [score, max, sentiment])\n\n    let displayToken = (token.length > 25) ? token.slice(0, 25) + \"...\" : token\n\n    return(\n        <div style={{width: \"100%\"}}>\n            <Box className={classes.bar} width={xScore + \"%\"}/>\n            {sentimentOn\n                ? <div className={classes.sentiment}>\n                    <Box className={classes.pos} width={xPos + \"%\"}/>\n                    <Box className={classes.neg} width={xNeg + \"%\"}/>\n                    <Box className={classes.neu} width={xNeu + \"%\"}/>\n                </div>\n                : null\n            }\n            <div className={classes.label}>\n                <Typography variant='h6' className={classes.token} dangerouslySetInnerHTML={{__html: displayToken}}></Typography>\n                <Typography variant='h6' className={classes.score}>{score}</Typography>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(TopicBar)\n","import { useState, useEffect, useContext } from 'react';\nimport { Card, withStyles, Typography } from '@material-ui/core'\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport { TopicContext } from '../Topics'\n\nimport { thousands_separator, postData } from '../../../utils/helpers'\n\nlet styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        width: '100%',\n        position: 'relative',\n        display: 'flex',\n        flexDirection: 'row',\n        alignContents: 'flex-start',\n        padding: '0',\n        marginBottom: theme.spacing(1),\n        height: '100%',\n    },\n    sentiment: {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        width: '10px',\n        height: '100%',\n        backgroundColor: 'blue',\n        zIndex: '10',\n    },\n    details: {\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignContents: 'flex-start',\n        margin: '0',\n        padding: '5px',\n    },\n    relativeText: {\n        textDecoration: 'underline',\n        cursor: 'pointer',\n    },\n    repliesBlock: {\n        width: '100%',\n        paddingLeft: '50px',\n        boxSizing: 'border-box',\n    },\n})\n\n\nconst CommentCard = ({comment, showRelatives=true, classes}) => {\n\n    const context = useContext(TopicContext)\n    const [sentimentOn, setSentimentOn] = useState(true)\n    useEffect(() => {\n        setSentimentOn(context.display.sentimentOn)\n    }, [context])\n\n    const [color, setColor] = useState(\"\")\n    const [leftPad, setLeftPad] = useState('5px')\n    useEffect(() => {\n        if (sentimentOn) {\n            setLeftPad('20px')\n            if (comment.sentiment > 0) {\n                setColor('green')\n            } else if (comment.sentiment < 0) {\n                setColor('red')\n            } else {\n                setColor('dodgerBlue')\n            }\n        } else {\n            setLeftPad('5px')\n        }\n    }, [sentimentOn])\n\n    const [repliesVisible, setRepliesVisible] = useState(false)\n    const [replies, setReplies] = useState(null)\n    const handleReplies = async () => {\n        if (!replies) {\n            try {\n                const response = await postData('/api/comments', {parentId: comment.id, all: true})\n                if (response.error) {\n                    console.log(`Error getting comment replies: ${response.error}`)\n                } else if (response.items) {\n                    setReplies(response.items.map(c => <SubComment comment={c} showRelatives={false} />))\n                }\n            }\n            catch(e) {\n                console.log(`Error loading comment replies: ${e}`)\n            }\n        }\n        setRepliesVisible(!repliesVisible)\n    }\n\n    const [parentVisible, setParentVisible] = useState(false)\n    const [parent, setParent] = useState(null)\n    const handleParent = async () => {\n        if (!parent) {\n            try {\n                const response = await postData('/api/comments', {commentIds: [comment.parent]})\n                if (response.error) {\n                    console.log(`Error getting comment parent: ${response.error}`)\n                } else if (response.items) {\n                    setParent(response.items.map(c => <SubComment comment={c} showRelatives={false} />))\n                }\n            }\n            catch(e) {\n                console.log(`Error loading comment parent: ${e}`)\n            }\n        }\n        setParentVisible(!parentVisible)\n    }\n\n    return(\n        <>\n        <Card className={classes.root} >\n            {sentimentOn\n                ? <div className={classes.sentiment} style={{backgroundColor: `${color}`}}></div>\n                : null\n            }\n            <div className={classes.details} style={{paddingLeft: `${leftPad}`}}>\n\n                {parentVisible\n                    ? <>{parent}<div style={{height: '20px'}} /></>\n                    : null\n                }\n                <Typography className={classes.body1}><b>{comment.author}</b></Typography>\n                <Typography dangerouslySetInnerHTML={{__html: comment.text}}></Typography>\n                <div style={{display: 'flex', flexDirection: 'row'}}>\n                    {comment.likes\n                        ? <Typography className={classes.body1}>\n                            <ThumbUpAltIcon style={{fontSize: '1em', padding: '0px 10px'}}/>\n                            {thousands_separator(comment.likes)}\n                        </Typography>\n                        : null\n                    }\n                    {comment.n_children > 0 && showRelatives\n                        ? <>\n                            <div style={{width: '10px'}} />\n                            <Typography className={`${classes.body1} ${classes.relativeText}`} onClick={handleReplies}>\n                                {comment.n_children} {comment.n_children > 1 ? 'replies' : 'reply'}\n                            </Typography>\n                        </>\n                        : null\n                    }\n                    {comment.parent && showRelatives\n                        ? <>\n                            <div style={{width: '10px'}} />\n                            <Typography className={`${classes.body1} ${classes.relativeText}`} onClick={handleParent}>\n                                Replying to..\n                            </Typography>\n                        </>\n                        : null\n                    }\n                </div>\n                {repliesVisible\n                    ? <>{replies}<div style={{height: '5px'}} /></>\n                    : null\n                }\n            </div>\n        </Card>\n        </>\n    )\n}\n\nexport default withStyles(styles)(CommentCard)\n\nconst SubComment = withStyles(styles)(CommentCard)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Controller from './Controller'\nimport Feed from './feed/Feed'\nimport CommentCard from './feed/CommentCard'\n\nimport { postData } from '../../utils/helpers'\nimport LoadingCircle from '../../utils/LoadingCircle'\nimport ErrorPage from '../../utils/ErrorPage'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n})\n\n// Rendered only after dashboard has a valid channel object\nconst Comments = ({user, channel, videoId=null, commentIds=[], classes}) => {\n\n    const [control, setControl] = useState({})\n    useEffect(() => {\n        setControl({pageSize: 10, search: \"\", sort: 'top'})\n    }, [])\n\n    // Tells the Feed where to get items, and how to render them.\n    const query = {\n        api: '/api/comments',\n        data: {user, commentIds},\n    }\n    const render = (comment) => {\n        return <CommentCard comment={comment} key={comment.id} />\n    }\n\n    const [pageLoading, setPageLoading] = useState(null)\n    const [hasError, setHasError] = useState(null)\n    const [placeholder, setPlaceholder] = useState(\"\")\n    useEffect(() => {\n        if (pageLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else {\n            setPlaceholder(\"\")\n        }\n    }, [pageLoading, hasError])\n\n    return(\n        <div className={classes.root}>\n            {pageLoading || hasError\n                ? placeholder\n                : <>\n                    <Controller\n                        type='comments'\n                        control={control}\n                        setControl={setControl}\n                        sortOptions={['recent', 'oldest', 'top']}\n                    />\n                    <Feed\n                        query={query}\n                        control={control}\n                        render={render}\n                    />\n                </>\n            }\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Comments)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Typography from '@material-ui/core/Typography';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\n\nimport TopicBar from './TopicBar'\nimport Comments from '../Comments'\nimport Attribute from './Attribute'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        width: '100%',\n        borderRadius: '0',\n        padding: '0',\n        margin: '10px 0 0 0',\n        boxSizing: 'border-box',\n    },\n    accordian: {\n        padding: 0,\n        margin: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n        padding: '10px',\n        boxSizing: 'border-box',\n    },\n    topicDetail: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    detail: {\n        alignItems: 'center',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n    },\n    comments: {\n        maxHeight: '400px',\n        overflow: 'auto',\n    }\n})\n\nconst TopicCard = ({videoId=null, topic, max, sentimentOn=false, classes}) => {\n\n    const [commentIds, setCommentIds] = useState(null)\n    const [videoIds, setVideoIds] = useState(null)\n    const [labels, setLabels] = useState(null)\n    const [toks, setToks] = useState(null)\n    const getComments = () => {\n        if (!commentIds) {\n            if (videoId) {\n                setLabels(<Attribute type='label' value={topic.label} />)\n                setCommentIds(topic.comments)\n            } else {\n                setLabels(<Attribute type='label' value={topic.label} />)\n                setVideoIds(topic.videos.map(v => v[0]))\n                let newCommentIds = []\n                topic.videos.forEach(v => {\n                    newCommentIds.push(...v[1])\n                })\n                setCommentIds(newCommentIds)\n            }\n            setToks(topic.toks.map(tok => <Attribute type='tok' value={tok} />))\n        }\n    }\n\n    return (\n        <Accordion className={classes.root} onChange={getComments}>\n            <AccordionSummary className={classes.summary}>\n                <TopicBar\n                    token={topic.token}\n                    score={topic.score}\n                    max={max}\n                    sentiment={topic.sentiment}\n                />\n            </AccordionSummary>\n            <AccordionDetails className={classes.accordian}>\n                <div className={classes.topicDetail}>\n                    <Typography className={classes.body1}>Label:</Typography>\n                    <div className={classes.detail}>{labels}</div>\n                    <div style={{width: '30px'}} />\n                    <Typography className={classes.body1}>Substitutes: </Typography>\n                    <div className={classes.detail}>{toks}</div>\n                </div>\n                {commentIds\n                    ? <div className={classes.comments}>\n                        <Comments videoId={videoId} topic={topic.token} commentIds={commentIds} />\n                    </div>\n                    : null\n                }\n            </AccordionDetails>\n        </Accordion>\n    )\n}\n\nexport default withStyles(styles)(TopicCard)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\n\nimport Controller from './Controller'\nimport Feed from './feed/Feed'\nimport TopicCard from './feed/TopicCard'\n\nimport { postData, thousands_separator, formatTimestamp } from '../../utils/helpers'\nimport LoadingCircle from '../../utils/LoadingCircle'\nimport LoadingBar from '../../utils/LoadingBar'\nimport ErrorPage from '../../utils/ErrorPage'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n    grayout: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 1000,\n        backgroundColor: fade(theme.palette.primary.main, 0.5),\n    },\n})\n\nconst TopicContext = createContext()\n\n// Rendered only after dashboard has a valid channel object\nconst Topics = ({user, page, channel=null, video=null, analyze=null,\n                 grayout=null, classes}) => {\n\n    const [channelId, setChannelId] = useState(null)\n    const [dbComments, setDBComments] = useState(null)\n    const [dbVideos, setDBVideos] = useState(null)\n    const [totalComments, setTotalComments] = useState(null)\n    const [lastRefresh, setLastRefresh] = useState(null)\n    const [allLabels, setAllLabels] = useState(null)\n    useEffect(() => {\n        if (channel && page === 'channel') {\n            setChannelId(channel.id)\n            setDBComments(channel.db_comments)\n            setDBVideos(channel.total_videos ? channel.total_videos : \"?\")\n            setAllLabels(channel.labels ? channel.labels : null)\n            setLastRefresh(channel.last_refresh ? formatTimestamp(channel.last_refresh) : 'never')\n        } else if (video && page === 'video') {\n            setChannelId(video.channel_id)\n            setDBComments(video.db_comments)\n            setTotalComments(parseInt(video.total_comments))\n            setAllLabels(video.labels ? video.labels : null)\n            setLastRefresh(video.last_refresh ? formatTimestamp(video.last_refresh) : 'never')\n        }\n    }, [channel, video])\n\n\n    // Contains controller settings. Controller updates, Feed adds to api call.\n    const [control, setControl] = useState(null)\n    const [display, setDisplay] = useState(null)\n    useEffect(() => {\n        setControl({pageSize: 25, search: \"\"})\n        setDisplay({sentimentEnabled: user.sentiment_on, sentimentOn: false})\n    }, [])\n\n\n    // Action Messaage is displayed on top of the controller, next to action button\n    const [actionMessage, setActionMessage] = useState(\"\")\n    useEffect(() => {\n        if (page === 'channel') {\n            setActionMessage(`\n                ${thousands_separator(dbComments)} comments,\n                ${thousands_separator(dbVideos)} videos\n            `)\n        } else if (page === 'video') {\n            setActionMessage(`\n                ${thousands_separator(dbComments)} comments /\n                ${thousands_separator(totalComments)} total\n            `)\n        }\n    }, [dbComments, dbVideos, totalComments])\n\n    // Refresh (channel or video) is a secondary action for the videos and channel page.\n    // Recalculate the entity's topics list and reset dbComments.\n    const [pageLoading, setPageLoading] = useState(false)\n    const [hasError, setHasError] = useState(false)\n    const refresh = async () => {\n        setPageLoading(true)\n        try {\n            const response = await postData(`/api/refresh_${page}`, {\n                channelId, // must contain valid channelId\n                videoId: video ? video.id : null,\n            })\n            /*\n            const response = {\n                status: String,\n                error: String,\n                db_comments: Integer,\n                last_refresh: String,\n            }\n            */\n            setDBComments(response.db_comments)\n            setLastRefresh(formatTimestamp(response.last_refresh))\n            setPageLoading(false)\n        }\n        catch {\n            setHasError(true)\n            setPageLoading(false)\n        }\n    }\n\n    // Tells the Feed where to get items, and how to render them.\n    const query = {\n        api: '/api/topics',\n        data: {\n            channelId,\n            pageSize: 25,\n            videoId: video ? video.id : null,\n        },\n    }\n    const render = (topic, maxScore=0) => {\n        return <TopicCard\n            videoId={video ? video.id : null}\n            topic={topic}\n            max={maxScore}\n            key={topic.token}\n        />\n    }\n\n    const [placeholder, setPlaceholder] = useState(\"\")\n    useEffect(() => {\n        if (pageLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else {\n            setPlaceholder(\"\")\n        }\n    }, [pageLoading, hasError])\n\n    return(\n        <div className={classes.root}>\n            {!control || !display\n                ? null\n                : <Controller\n                    type='topics'\n                    control={control}\n                    setControl={setControl}\n                    display={display}\n                    setDisplay={setDisplay}\n                    actionMessage={actionMessage}\n                    action={analyze}\n                    actionLabel={'ANALYZE'}\n                    allLabels={allLabels}\n                    refresh={refresh}\n                    lastRefresh={lastRefresh}\n                />}\n            {pageLoading || hasError\n                ? placeholder\n                : <TopicContext.Provider value={{display}}>\n                    <Feed\n                        query={query}\n                        control={control}\n                        render={render}\n                    />\n                </TopicContext.Provider>\n                }\n            {grayout\n                ? <LoadingBar loadTime={grayout} />\n                : null\n            }\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Topics)\nexport {TopicContext}\n","import { useState, useEffect, createContext } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport { postData, thousands_separator } from '../../utils/helpers'\nimport VideoPlayer from \"./VideoPlayer\"\nimport Topics from \"./Topics\"\nimport LoadingCircle from '../../utils/LoadingCircle'\nimport ErrorPage from '../../utils/ErrorPage'\nimport ActionControl from './ActionControl'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        flexWrap: 'nowrap',\n        margin: '0',\n        paddingTop: '10px',\n    },\n})\n\nconst Video = ({user, setUser, channel, classes}) => {\n\n    const { videoId } = useParams()\n    const [channelId, setChannelId] = useState(null)\n    const [video, setVideo] = useState(null)\n    const [isLoading, setIsLoading] = useState(false)\n    const [hasError, setHasError] = useState(false)\n\n    // On load, get video data from database and youtube\n    useEffect(() => {\n        setChannelId(channel.id)\n        setIsLoading(true)\n        try {\n            fetch(`/api/video/${videoId}`)\n                // const data = {\n                //   error: String,\n                //   videoData: {\n                //     channel_id: \"UCtinbF-Q-fVthA0qrFQTgXQ\"\n                //     channel_title: \"CaseyNeistat\"\n                //     created: \"Fri, 06 Aug 2021 18:57:48 GMT\"\n                //     db_comments: 441\n                //     dislikes: \"1301\"\n                //     id: \"TXLUafBNjnc\"\n                //     labels: null\n                //     last_refresh: \"2021-08-07 20:01:39.093248\"\n                //     last_scan: \"2021-08-07 15:40:25.671196\"\n                //     likes: \"60557\"\n                //     next_page_token: \"QURTSl9pME0yLU54V1RkWm1KVXd5ZXJGYnk0OGp6cDVHSnpLbWt4Rmw0VU1HQ0NjM0haVThteXZraEZZTk4ydXZfX0Y2SnhOQzg3RXhyY2QyaFVheGM0S3JQSWJVdHhTMFh6SE8xOTdmckpOMGVUWW5zVTZQR0pPaXllQ1FQclMxem5rQnMzMk1kRnpVa19CWHV6SzhMSHMwSWlxU3JfWFc4Mmpoclc2SUZGZjNTY01WdzktVmY0dl9VNnVwdlNFV21FZXdzekVMbVFDVDJneEQtUENycG1oc0V0SlRKMHc2VWRhNWJKdjR5TjFqN1lKMzROMlgwcmdGazA2NU9UN3VmSzNqbEdSRTFsZm1OQndIM2ViNnVvaU4zZ0pkN1JxaGVWQWRRbF9vWFFWNzFOZ0M0V3VWeHlyUHJCR2Z2dkNpX0V5NGhrRmNpdDJTSDlCVmlnbDd6YTc4eUp6cVVGNXFiMDFWM1lsRTRpVld4bUZ3N2ZVX0JHZU5wLUtNcFBmU3VuLXUtbmFOZVBwMFVxcEhyQ1ZvbXF2akJKRWU5anpGdV9tVHhuaGNJTnprNUhpY1dYbGtzTENVV0cyNjE5S0NCVV9CWTQtMGJzZ05BdWZ4QnpBUGJOSDJZN1ZoeGh5WGhjTS1rdFkwZkNXVEtON1AtNWZaM0hXNDF1OWN3Y2QwQ2J0ZkhwbFpiTjJJMVB4bkk4V0NrTjNrV1lvanJtbWpxWmZ5bEdxcFoybXBqR2VDZWd6Q19EOVRSbmJqM1kwaUlYU0s5Rl91ZXBRV0dMVVg1VzZEVkhJSjRaTkRfRFpUNFd3WjNkM2dIaGRMdHB0YjVRU3RFYldqVnhrcVZELWNNTXpBNVVpbXdUNUhKbTl5SkdsYTdFZzd5LThpbkQ2VUd4MjRkY0p0NmVlVzFwQV93Qjlkb0tIaGVZSmJwM3FaRmhxS0hBS1p4OHh1YW5QSGtRRkhINXFkZVNZWDZQUWJrQ21uWFRUU01rdVFKdk8zcEFXb3p1bzU5UkNvWkVYbm0wNUV1Qy1UbUkxcHNTMGtrNERvbFNJamx1eXpwcEcxaVV5QmJ1eHVsWTZFSkpOX2J3ZVdEdTFsT3Ftbm9lOWxFNTA4UXQwRmdOakJRZ2RQZjM3UWdWU0RmdU1vMlRPUXZGdnFPbjVtaWdUVEtuSXdBVFZlQmtUdmZwOUxlejh0TTkxcThwcmNNLVotN3J0N3ktVWVuM3QyeXoxdFpHWnoyV2VjQUVlcDBzdFNrZDdRWnBPdnNkMk9sclRKbTlLTHpyUE9WT09UVVowaTlIX2xuUFlxU2VtY20tNkxYM3Z6RnpkYlVzVk14QWdaR0JXdjhsZFFBZE1TTklOdTZwZV9JZE5NTkkzRXFkYmlETTg4SldFaU1HRmpmVzZsRnJuQURtLTROYnhtbi1iRVc1VDhHRHM5R2szTy1ybk85T0JWRFJ6U2VrSUNybXhGTVlielZZVzRtdndmc1NtVXFjemprWGhTRHp1YjJxVEs0elpTZjNlVzNGU2V1OUQ2eGRxY2ZlcUFZTkVqcTdwU3gxM19FNndTTTBOejBPam1DRkNpQzMtMUt2OGUwb1ZKZzZHemZuTmY2MjZOS05TZ2xJWXlSZDdYdw==\"\n                //     published: \"26 October, 2020\"\n                //     thumbnail: \"https://i.ytimg.com/vi/TXLUafBNjnc/mqdefault.jpg\"\n                //     title: \"the SURPRISE of her life!!!\"\n                //     total_comments: \"2875\"\n                // }}\n                .then(res => res.json())\n                .then(data => {\n                    if (!data.video_data) {\n                        console.log(\"No video data.\")\n                    } else {\n                        setVideo(data.video_data)\n                    }\n                    setIsLoading(false)\n                })\n        }\n        catch(e) {\n            console.log(`Error fetching video: ${e}`)\n            setHasError(true)\n            setIsLoading(false)\n        }\n    }, [])\n\n    // Get new comments from youtube, analyze all, then re-cluster\n    const [isAnalyzing, setIsAnalyzing] = useState(false)\n    const analyze = async (maxComments=100, resetToken=false, loadtime=5) => {\n        setIsAnalyzing(loadtime)\n        const request_data = {\n            user,\n            channelId,\n            videoId,\n            maxComments,\n            resetToken,\n        }\n        postData('/api/analyze_comments', request_data).then(data => {\n            if (data.error) {\n                setHasError(true)\n                setIsAnalyzing(false)\n                console.log(`Error analyzing videos: ${data.error}`)\n            } else if (data.video) {\n                setVideo({...video, ...data.video})\n                setUser({...user, quota: data.new_quota})\n                setIsAnalyzing(false)\n            }\n        })\n    }\n\n    // Create a popup menu with details/options for analyze\n    const [actionOpen, setActionOpen] = useState(false)\n\n    const [placeholder, setPlaceholder] = useState(\"\")\n    useEffect(() => {\n        if (isLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else {\n            setPlaceholder(\"\")\n        }\n    }, [isLoading, hasError])\n\n    return(\n        <div className={classes.root}>\n            {isLoading || hasError\n                ? placeholder\n                : <>\n                    <VideoPlayer video={video} />\n                    <Topics\n                        user={user}\n                        page='video'\n                        video={video}\n                        analyze={() => setActionOpen(true)}\n                        grayout={isAnalyzing}\n                    />\n                    <ActionControl\n                        // isOpen, handleClose, actionTitle, remaining, quota, verb, actionLabel, action\n                        isOpen={actionOpen}\n                        handleClose={() => setActionOpen(false)}\n                        actionTitle=\"Analyze Comments\"\n                        remaining={video ? video.total_comments - video.db_comments : 0}\n                        quota={user.quota}\n                        verb=\"Analyze\"\n                        actionLabel=\"ANALYZE NOW\"\n                        action={analyze}\n                    />\n                </>\n            }\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Video)\n","import { useState, useEffect } from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogActions from '@material-ui/core/DialogActions'\n\n// import { gapi, loadAuth2 } from 'gapi-script'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: '10px 0',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    }\n})\n\nconst ConnectChannel = ({classes}) => {\n\n    const { logout } = useAuth0()\n\n    const CLIENT_ID = '116695775417-h8su8m4k9u9vvkfrssor92st63q0ui3k.apps.googleusercontent.com'\n\n    // const signIn = async() => {\n    //     await window.gapi.auth2.getAuthInstance()\n    //             .signIn({scope: \"https://www.googleapis.com/auth/youtube.readonly\"})\n    //     await window.gapi.client.setAPiKey(CLIENT_ID)\n    //     const response = await window.gapi.client.youtube.channels.list({\n    //         \"part\": [\n    //           \"snippet, contentDetails, id, statistics\"\n    //         ],\n    //         \"mine\": true\n    //       })\n    //     console.log(response)\n    // }\n\n    // // ref: https://github.com/LucasAndrad/gapi-script-live-example/blob/master/src/components/GoogleLogin.js\n    // const signIn = async () => {\n    //     const auth2 = await loadAuth2(gapi, CLIENT_ID)\n    //     if (!auth2.isSignedIn.get()) {\n    //         console.log(`auth2 is not signed in`)\n    //     }\n\n    //     const authenticate = async () => {\n    //         return gapi.auth2.getAuthInstance()\n    //             .signIn({scope: \"https://www.googleapis.com/auth/youtube.readonly\"})\n    //             .then(function() { console.log(\"Sign-in successful\"); },\n    //                   function(err) { console.error(\"Error signing in\", err); });\n    //     }\n\n    //     const loadClient = async () => {\n    //         gapi.client.setApiKey(\"YOUR_API_KEY\");\n    //         return gapi.client.load(\"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\")\n    //             .then(function() { console.log(\"GAPI client loaded for API\"); },\n    //                 function(err) { console.error(\"Error loading GAPI client for API\", err); });\n    //     }\n\n    //     // Make sure the client is loaded and sign-in is complete before calling this method.\n    //     function execute() {\n    //         return gapi.client.youtube.channels.list({\n    //             \"part\": [\n    //                 \"snippet, contentDetails, id, statistics\"\n    //             ],\n    //             \"mine\": true\n    //         })\n    //             .then(function(response) {\n    //                 // Handle the results here (response.result has the parsed body).\n    //                 console.log(response);\n    //             },\n    //             function(err) { console.error(\"Execute error\", err); });\n    //       }\n    //       authenticate().then(loadClient).then(execute)\n    // }\n\n    // const responseGoogle = (response) => {\n    //     console.log(response);\n    // }\n\n    // const {signIn} = useGoogleLogin({\n    //     onSuccess: responseGoogle,\n    //     onFailure: responseGoogle,\n    //     clientId: CLIENT_ID,\n    //     isSignedIn: true,\n    // })\n\n    return (\n        <Dialog open={true}>\n            <DialogTitle id=\"form-dialog-title\">\n                <Typography className={classes.h5}>Connect your YouTube Channel</Typography>\n            </DialogTitle>\n            <DialogContent>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => {}}>Sign In with Google</Button>\n                <Button onClick={logout}>Logout</Button>\n            </DialogActions>\n        </Dialog>\n    )\n\n}\n\nexport default withStyles(styles)(ConnectChannel)\n","import { useState, useEffect } from 'react'\nimport { useParams, Switch, Route } from 'react-router-dom';\n\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport ReactiveDrawer from './Drawer'\nimport Videos from './pages/Videos'\nimport Video from './pages/Video'\nimport Topics from './pages/Topics'\nimport ConnectChannel from './pages/ConnectChannel'\nimport { postData, capitalize } from '../utils/helpers'\nimport LoadingCircle from '../utils/LoadingCircle';\nimport ErrorPage from '../utils/ErrorPage';\n\nconst drawerWidth = '240px'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        [theme.breakpoints.up('md')]: {\n            alignItems: 'flex-start',\n        },\n    },\n    content: {\n        width: '100%',\n        padding: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            width: '80%',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: `calc(100% - 240px)`,\n            maxWidth: '800px',\n            marginLeft: drawerWidth,\n        },\n        boxSizing: 'border-box',\n    },\n    titleLine: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        width: 'inherit',\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up('md')]: {\n            marginRight: 0,\n            display: 'none',\n        },\n    },\n})\n\nconst DEFAULT_USER = {\n    id: 'DEMO',\n    email: 'DEMO',\n    email_verified: true,\n    nickname: 'CaseyNeistat',\n    picture: 'https://yt3.ggpht.com/ytc/AKedOLSlIk2U5RbHKVYAcjXjRHGI2vQGLH2g_ZzLxMDyvA=s240-c-k-c0x00ffffff-no-rj',\n    channel_id: 'UCtinbF-Q-fVthA0qrFQTgXQ',\n    quota: 10000,\n    sentiment_on: true,\n}\n\nconst Dashboard = ({auth0User, classes}) => {\n\n    const params = useParams()\n    const activePage = params.tab\n    const [dashboardLoading, setDashboardLoading] = useState(true)\n    const [hasError, setHasError] = useState(false)\n\n    const [user, setUser] = useState(null)\n    const getUser = async (user) => {\n        setDashboardLoading(true)\n        try {\n            const response = await postData('/api/user', {user})\n            if (!response.user) {\n                setDashboardLoading(false)\n                setHasError(true)\n                if (response.error) {\n                    console.log(`Error loading user from database: ${response.error}`)\n                }\n            } else {\n                setUser(response.user)\n                getChannel(response.user)\n            }\n        }\n        catch(e) {\n            setDashboardLoading(false)\n            setHasError(true)\n            console.log(`Error loading dashboard: ${e}`)\n        }\n    }\n\n    const [unlinked, setUnlinked] = useState(false)\n    const [channel, setChannel] = useState(null)\n    const getChannel = async (user) => {\n        if (!user || hasError) {\n            return null\n        }\n        if (auth0User && !user.channel_id) {\n            setDashboardLoading(false)\n            setUnlinked(true)\n            return null\n        }\n        try {\n            setDashboardLoading(true)\n            const response = await postData('/api/channel', {channelId: user.channel_id})\n            /*\n            const response = {channel: {\n                created: \"Fri, 06 Aug 2021 18:52:49 GMT\"\n                db_comments: 633\n                db_videos: 50\n                id: \"UCtinbF-Q-fVthA0qrFQTgXQ\"\n                ignore_list: null\n                labels_list: null\n                last_refresh: \"2021-08-07 20:28:37.211097\"\n                last_scan: \"2021-08-07 08:08:15.470295\"\n                next_page_token: \"CDIQAA\"\n                subs_list: null\n                thumbnail: \"https://...\"\n                title: \"CaseyNeistat\"\n                topics: (361) [{…}, …]\n                labels: ['PERSON'...]\n                total_videos: null\n            }}\n            */\n            if (!response.channel) {\n                setDashboardLoading(false)\n                setHasError(true)\n                if (response.error) {\n                    console.log(`Error loading channel from Dashboard: ${response.error}`)\n                }\n            } else {\n                setChannel(response.channel)\n                setDashboardLoading(false)\n            }\n        }\n        catch(e) {\n            setDashboardLoading(false)\n            setHasError(true)\n            console.log(`Error loading dashboard: ${e}`)\n        }\n    }\n\n\n    useEffect(() => {\n        if (auth0User) {\n            getUser({\n                id: auth0User.sub,\n                email: auth0User.email,\n                email_verified: auth0User.email_verified,\n                nickname: auth0User.nickname,\n                picture: auth0User.picture,\n            })\n        } else {\n            getUser(DEFAULT_USER)\n        }\n    }, [auth0User])\n\n    const [placeholder, setPlaceholder] = useState(\"\")\n    useEffect(() => {\n        if (dashboardLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else if (unlinked) {\n            setPlaceholder(<ConnectChannel />)\n        } else {\n            setPlaceholder(\"\")\n        }\n    }, [dashboardLoading, hasError, unlinked])\n\n    const drawerItems = ['videos', 'topics', 'settings']\n    const [mobileOpen, setMobileOpen] = useState(false)\n    const handleDrawerToggle = (target=null) => {\n        switch (target) {\n            case 'open':\n                setMobileOpen(true)\n                break\n            case 'closed':\n                setMobileOpen(false)\n                break\n            default:\n                setMobileOpen(!mobileOpen)\n        }\n    }\n\n    return(\n        <div className={classes.root}>\n\n            {/* Navigation menu on the left. Fixed xl lg, Hidden md sm xs. */}\n            <ReactiveDrawer\n                section={'dashboard'}\n                drawerItems={drawerItems}\n                activePage={activePage}\n                channel={channel}\n                mobileOpen={mobileOpen}\n                handleDrawerToggle={handleDrawerToggle}\n            />\n\n            {/* Page title */}\n            <div className={classes.content}>\n                <div className={classes.titleLine}>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        edge=\"start\"\n                        onClick={handleDrawerToggle}\n                        className={classes.menuButton}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h3\" noWrap>\n                        {capitalize(activePage)}\n                    </Typography>\n                </div>\n\n                {/* Page content */}\n                {dashboardLoading || hasError || unlinked\n                    ? placeholder\n                    : <Switch>\n                        <Route exact path={`/dashboard/videos`}>\n                            <Videos user={user} setUser={setUser} channel={channel} key='videos'/>\n                        </Route>\n                        <Route exact path={`/dashboard/topics`}>\n                            <Topics user={user} channel={channel} page='channel' key='topics' />\n                        </Route>\n                        <Route exact path={`/dashboard/video/:videoId`}>\n                            <Video user={user} setUser={setUser} channel={channel} key='video' />\n                        </Route>\n                        <Route exact path={`/dashboard/settings`}>\n                            Settings\n                        </Route>\n                    </Switch>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Dashboard)\n","import { useState, useEffect } from \"react\"\nimport { withStyles } from '@material-ui/core/styles'\nimport { postData } from \"../../utils/helpers\"\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: '10px 0',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    }\n})\n\nconst UsersAdmin = ({userData, classes}) => {\n\n    // Fetch the list of users\n    const [users, setUsers] = useState(null)\n    const [isLoading, setIsLoading] = useState(true)\n    const [hasError, setHasError] = useState(false)\n    useEffect(() => {\n        const getUsers = async () => {\n            const token = null\n            const results = await postData('/api/get_users', {token})\n            /*\n            const users = [{\n                id:\n                username:\n                password:\n                email:\n                email_verified:\n                quota:\n                sentiment_on:\n                channel_id:\n            }]\n            */\n            if (!results.users) {\n                setHasError(true)\n                setIsLoading(false)\n            }\n            setUsers(results.users)\n            setIsLoading(false)\n        }\n        getUsers()\n    }, [])\n\n    useEffect(() => {\n        console.log(users)\n    }, [users])\n\n    // Display relevant info in a table\n\n    // User editor overlay\n\n    // Add / Edit user button\n\n    // Reset password workflow\n\n    return (<></>)\n}\n\nexport default withStyles(styles)(UsersAdmin)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport LoadingCircle from '../utils/LoadingCircle'\nimport { Tab } from '@material-ui/core'\n\nconst styles = (theme) => ({\n    root: {\n\n    },\n    activeOption: {\n        backgroundColor: 'lightgray'\n    },\n    field: {\n        padding: '0 5px',\n    },\n    table: {\n        minWidth: 650,\n    },\n    buttonBar: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: '30px'\n    }\n})\n\nconst BlogManager = ({posts, blog, setBlog, newPost, removePost, classes}) => {\n\n    const [selected, setSelected] = useState(null)\n    const handleClick = (post) => {\n        if (selected) {\n            let confirmed = window.confirm('All unsaved data will be lost. Would you like to continue?')\n            if (!confirmed) {\n                return null\n            }\n        }\n        if (post.id === selected) {\n            setSelected(null)\n            setBlog(null)\n        } else {\n            setSelected(post.id)\n            setBlog(post)\n        }\n    }\n\n    const handleRemove = (event, post) => {\n        removePost(post)\n        event.stopPropagation()\n    }\n\n    useEffect(() => {\n        // Set the selected Post\n        if (blog) {\n            setSelected(blog.id)\n        }\n    }, [])\n\n    return(\n        <div id=\"root\">\n            <Typography variant='h5'>Blog Posts</Typography>\n            {posts\n                ? <TableContainer component={Paper}>\n                    <Table className={classes.table}>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell></TableCell>\n                                <TableCell>ID</TableCell>\n                                <TableCell>Created</TableCell>\n                                <TableCell>Title</TableCell>\n                                <TableCell>Excerpt</TableCell>\n                                <TableCell>Active</TableCell>\n                                <TableCell>Delete</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {posts.map(post => {\n                                return (<TableRow hover key={post.id} onClick={() => handleClick(post)}\n                                                  role='checkbox' selected={selected === post.id}>\n                                    <TableCell><Checkbox checked={selected === post.id} /></TableCell>\n                                    <TableCell component=\"th\" scope=\"row\">{post.id}</TableCell>\n                                    <TableCell align=\"right\">{post.created ? post.created.slice(5,22) : null}</TableCell>\n                                    <TableCell align=\"right\">{post.title}</TableCell>\n                                    <TableCell align=\"right\">{post.excerpt}</TableCell>\n                                    <TableCell align=\"right\">{post.active}</TableCell>\n                                    <TableCell align=\"right\"><DeleteIcon onClick={(e) => handleRemove(e, post)} /></TableCell>\n                                </TableRow>)\n                            })}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                : <LoadingCircle />\n            }\n            <div className={classes.buttonBar}>\n                <Button onClick={newPost} variant='contained' color='secondary'>New Post</Button>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(BlogManager)\n","import { useState, useEffect, useRef } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport _ from 'lodash'\n\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport Switch from '@material-ui/core/Switch'\n\nimport ReactQuill, { Quill } from 'react-quill'\nimport ImageUploader from \"quill-image-uploader\"\n\nimport LoadingCircle from '../utils/LoadingCircle'\n\nQuill.register(\"modules/imageUploader\", ImageUploader)\n\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'left',\n        margin: '0',\n        paddingTop: '10px',\n        maxWidth: '768px',\n    },\n    blogEditor: {\n        marginTop: '20px',\n        backgroundColor: 'white',\n    },\n    inputField: {\n        marginTop: '10px',\n    },\n    buttonContainer: {\n        marginTop: '30px',\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n    publish: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    thumbnailSection: {\n        // border: '1px solid gray',\n        padding: '10px',\n        marginTop: '15px',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'left',\n        \"& img\": {\n            width: '300px',\n            height: 'auto',\n        }\n    }\n})\n\nconst BlogEditor = ({blog, setBlog, updateBlog, classes}) => {\n\n    // Manage active post data\n    const [id, setId] = useState(\"\")\n    const [title, setTitle] = useState(\"\")\n    const [permalink, setPermalink] = useState(\"\")\n    const [thumbnail, setThumbnail] = useState(null)\n    const [excerpt, setExcerpt] = useState(\"\")\n    const [blogContent, setBlogContent] = useState(\"\")\n    const [postActive, setPostActive] = useState(\"\")\n\n    useEffect(() => {\n        setId(blog.id)\n        setTitle(blog.title)\n        setPermalink(blog.permalink)\n        setThumbnail(blog.thumbnail)\n        setExcerpt(blog.excerpt)\n        setBlogContent(blog.content)\n        setPostActive(blog.active)\n    }, [])\n\n    useEffect(() => {\n        setBlog(prevBlog => ({\n            ...prevBlog,\n            title: title,\n            permalink: permalink,\n            thumbnail: thumbnail,\n            excerpt: excerpt,\n            content: blogContent,\n            postActive: postActive\n        }))\n    }, [title, permalink, thumbnail, excerpt, blogContent, postActive])\n\n    const saveChanges = () => {\n        updateBlog({\n            id: id,\n            title: title,\n            permalink: permalink,\n            thumbnail: thumbnail,\n            excerpt: excerpt,\n            content: blogContent,\n            active: postActive,\n        })\n    }\n\n    const [thumbnailLoading, setThumbnailLoading] = useState(null)\n    const handleThumbnail = async (e) => {\n        setThumbnailLoading(true)\n        setThumbnail(null)\n        let file = e.target.files[0];\n        const formData = new FormData()\n        formData.append(\"image\", file)\n\n        fetch(\"https://api.imgbb.com/1/upload?key=d36eb6591370ae7f9089d85875e56b22\",\n              {method: \"POST\", body: formData})\n            .then(response => response.json())\n            .then(result => {\n                setThumbnailLoading(null)\n                setThumbnail(result.data.url)\n            })\n    }\n\n    // Setup Quill Editor\n    function addCss(fileName) {\n        var head = document.head;\n        var link = document.createElement(\"link\");\n        link.type = \"text/css\";\n        link.rel = \"stylesheet\";\n        link.href = fileName;\n        head.appendChild(link);\n    }\n    const [modules, setModules] = useState(null)\n    const [formats, setFormats] = useState(null)\n    useEffect(() => {\n        addCss('//cdn.quilljs.com/1.3.6/quill.snow.css')\n        setModules({\n            toolbar: [\n              [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\n              [{size: []}],\n              ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n              [{'list': 'ordered'}, {'list': 'bullet'},\n               {'indent': '-1'}, {'indent': '+1'}],\n              ['link', 'image', 'video'],\n              ['clean']\n            ],\n            clipboard: {\n              // toggle to add extra line breaks when pasting HTML:\n              matchVisual: false,\n            },\n            // ref: https://codesandbox.io/s/react-quill-demo-qr8xd?file=/src/editor.js:517-1216\n            imageUploader: {\n                upload: file => {\n                    return new Promise((resolve, reject) => {\n                        const formData = new FormData()\n                        formData.append(\"image\", file)\n\n                        fetch(\"https://api.imgbb.com/1/upload?key=d36eb6591370ae7f9089d85875e56b22\",\n                              {method: \"POST\", body: formData})\n                            .then(response => response.json())\n                            .then(result => {\n                                console.log(formData)\n                                resolve(result.data.url)\n                            })\n                        .catch(error => {\n                            reject(\"Upload failed\")\n                            console.error(\"Error:\", error)\n                        })\n                    })\n                }\n            }\n        })\n        setFormats([\n            'header', 'font', 'size',\n            'bold', 'italic', 'underline', 'strike', 'blockquote',\n            'list', 'bullet', 'indent',\n            'link', 'image', 'video',\n        ])\n    }, [])\n\n    return(\n        <div className={classes.root}>\n            <Typography>Post ID: {blog.id}</Typography>\n            <TextField\n                id=\"title\"\n                className={classes.inputField}\n                label=\"Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                helperText=\"The title of the blog post.\"\n            />\n            <TextField\n                id=\"permalink\"\n                className={classes.inputField}\n                label=\"Permalink\"\n                value={permalink}\n                onChange={(e) => setPermalink(e.target.value)}\n                helperText=\"The url suffix\"\n            />\n            <div className={classes.thumbnailSection}>\n                <Button variant='contained' component='label'>\n                    Upload Thumbnail\n                    <input type=\"file\" hidden onChange={e => handleThumbnail(e)}/>\n                </Button>\n                {thumbnailLoading ? <LoadingCircle /> : null}\n                {thumbnail ? <img src={thumbnail}></img> : null}\n            </div>\n            <div id='blog-editor' className={classes.blogEditor}>\n                {(modules && formats)\n                    ? <ReactQuill\n                        theme='snow'\n                        onChange={setBlogContent}\n                        value={blogContent}\n                        modules={modules}\n                        formats={formats}\n                        placeholder='Write a blog'\n                    />\n                    : null\n                }\n\n            </div>\n            <TextField\n                id=\"excerpt\"\n                className={classes.inputField}\n                label=\"Excerpt\"\n                value={excerpt}\n                onChange={(e) => setExcerpt(e.target.value)}\n                helperText=\"Information that will be displayed in search results\"\n            />\n            <div className={classes.publish}>\n                <Typography>Published: </Typography>\n                <Switch\n                    checked={postActive}\n                    onChange={(e) => setPostActive(e.target.checked)}\n                    name=\"Published\"\n                />\n            </div>\n            <div className={classes.buttonContainer}>\n                <Button variant='contained' color='secondary' onClick={saveChanges}>Save Changes</Button>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(BlogEditor)\n","import { useState, useEffect } from 'react'\nimport { Link, withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/styles';\nimport { postData } from '../../../utils/helpers';\n\nconst styles = (theme) => ({\n    root: {\n        height: '100%',\n        padding: '0',\n        margin: '10px 0 0 0',\n        boxSizing: 'border-box',\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    link: {\n        width: '100%',\n        height: '100%',\n        color: 'inherit',\n        textDecoration: 'none',\n        // flexDirection: 'row',\n        // justifyContent: 'center',\n        // alignItems: 'center',\n        // display: 'flex',\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr 1fr',\n        gridAutoRows: '1fr',\n    },\n    cover: {\n        gridColumn: '1',\n        height: 'auto',\n        marginBottom: '0',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    details: {\n        height: '100%',\n        gridColumn: '2 / span 2',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        padding: '8px 16px',\n        boxSizing: 'border-box',\n    },\n    actionArea: {\n        alignItems: 'flex-start',\n        fontSize: '1em',\n        margin: '0',\n        padding: '0',\n        height: '100%',\n        flexGrow: 1,\n        flexDirection: 'column',\n        alignItems: 'stretch',\n    },\n    channelImage: {\n        borderRadius: '50%',\n        maxHeight: '90px',\n        margin: '5%',\n        width: 'auto',\n    }\n})\n\nconst FeedCard = ({type, data, inactive, classes}) => {\n\n    const [pageUrl, setPageUrl] = useState(\"#\")\n    const [title, setTitle] = useState(\"\")\n    const [infoFields, setInfoFields] = useState([])\n    const [dbInfo, setDbInfo] = useState(\"\")\n    useEffect(() => {\n        switch (type) {\n            case 'channel': {\n                setTitle(data.channelTitle)\n                setInfoFields([`${data.description}`])\n                break\n            }\n            case 'video': {\n                setTitle(data.title)\n                setInfoFields([`${data.channelTitle} | ${data.published}`, data.description])\n                setPageUrl(\"../dashboard/video/\" + data.id)\n                break\n            }\n            case 'blog': {\n                setTitle(data.title)\n                setInfoFields([`${data.created}`, `${data.excerpt}`])\n                setPageUrl(\"../blog/\" + data.permalink)\n            }\n            default: break\n        }\n        if (Object.keys(data).includes(\"n_analyzed\")) {\n            setDbInfo(<Typography variant='body1' color='secondary'>{data.n_analyzed} comments analyzed</Typography>)\n        }\n    }, [])\n    // Compile data fields into flexbox\n\n    // Get info from database\n\n    return (\n        <Card className={classes.root}>\n            <CardActionArea className={classes.actionArea}>\n                <Link to={inactive ? '#' : pageUrl} className={classes.link}>\n                    <div className={classes.cover}>\n                        {data.thumbnail\n                            ? <CardMedia\n                                className={type === 'channel' ? classes.channelImage : \"\"}\n                                component='img'\n                                src={data.thumbnail}\n                                title={title}\n                            />\n                            : null\n                        }\n                    </div>\n                    <div className={classes.details}>\n                        <Typography variant='body1' style={{fontWeight: '400', fontSize: '1.2em'}}>{title}</Typography>\n                        {infoFields.map(field => <Typography variant='caption' key={field}>{field}</Typography>)}\n                        {dbInfo}\n                    </div>\n                </Link>\n            </CardActionArea>\n        </Card>\n    )\n}\n\nexport default withStyles(styles)(FeedCard)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\nimport { useParams } from 'react-router'\n\nconst styles = (theme) => ({\n    root: {\n        width: '100%',\n        minHeight: '100%',\n        display: 'flex',\n        flexGrow: 1,\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        padding: '0',\n        margin: '30px 0',\n        boxSizing: 'border-box',\n    },\n    paper: {\n        width: '100%',\n        padding: '5%',\n        boxSizing: 'border-box',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    title: {\n        fontSize: '1.5em',\n        fontWeight: '400',\n    },\n    content: {\n        \"& img\": {\n            width: '100%',\n        }\n    }\n})\n\nconst BlogPost = ({blog, classes}) => {\n\n    const [content, setContent] = useState(\"Content\")\n    useEffect(() => {\n        if (blog.content !== '') {\n            setContent(blog.content)\n        } else {\n            setContent('<p>Content</p>')\n        }\n    }, [blog])\n\n    return(\n        <div className={classes.root}>\n            <Paper className={classes.paper}>\n                <Typography>\n                    <div className={classes.title}>{blog.title ? blog.title : 'Title'}</div>\n                    <div className={classes.content} dangerouslySetInnerHTML={{ __html: content}}></div>\n                </Typography>\n            </Paper>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(BlogPost)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Box from '@material-ui/core/Box'\nimport Divider from '@material-ui/core/Divider';\n\nimport { postData } from '../utils/helpers'\nimport BlogManager from './BlogManager'\nimport BlogEditor from './BlogEditor'\nimport FeedCard from '../dashboard/pages/feed/FeedCard'\nimport BlogPost from './BlogPost'\n\n// This component is based on the first example ('Simple tabs') here:\n// https://material-ui.com/components/tabs/\n\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'left',\n        margin: '0',\n        paddingTop: '10px',\n        maxWidth: '768px',\n    },\n    tabBar: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center'\n    }\n})\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n            <Box p={3}>\n                {children}\n            </Box>\n            )}\n        </div>\n    );\n}\n\nconst a11yProps = (index) => {\n    return {\n      id: `simple-tab-${index}`,\n      'aria-controls': `simple-tabpanel-${index}`,\n    };\n  }\n\nconst blankPost = (id) => {\n    return {\n        id: id,\n        title: \"\",\n        permalink: \"\",\n        thumbnail: null,\n        excerpt: \"\",\n        content: \"\",\n        active: false,\n        created: null,\n    }\n}\n\nconst BlogAdmin = ({classes}) => {\n\n    const [posts, setPosts] = useState(null)\n    const [maxId, setMaxId] = useState(0)\n    const getPosts = async() => {\n        setPosts(null)\n        fetch(`/api/blogs`)\n            .then(res => res.json())\n            .then(data => {\n                data.posts.forEach(post => {\n                    if (post.id > maxId) {\n                        setMaxId(post.id)\n                    }\n                })\n                setPosts(data.posts)\n            })\n    }\n\n    const uploadPost = async (post) => {\n        console.log(post)\n        const result = await postData('/api/add_blog', post)\n        console.log(result)\n        return result.successful\n    }\n\n    const removePost = async (post) => {\n        const result = await postData('/api/remove_blog', post)\n        if (result.successful) {\n            getPosts()\n        }\n        return result.successful\n    }\n\n    useEffect(() => {\n        getPosts()\n    }, [])\n\n    const [active, setActive] = useState(0)\n    const handleChange = (event, newValue) => {\n        setActive(newValue);\n    };\n\n    const newPost = () => {\n        let newPost = blankPost(maxId + 1)\n        setMaxId(id => id + 1)\n        setPosts(oldPosts => [...oldPosts, newPost])\n        setBlog(newPost)\n        setActive(1)\n    }\n\n    const [blog, setBlog] = useState(null)\n    const updateBlog = async (newBlog) => {\n        setBlog(newBlog)\n        let uploadSuccessful = await uploadPost(newBlog)\n        if (uploadSuccessful) {\n            getPosts()\n        } else {\n            console.log(\"upload unsuccessful\")\n        }\n    }\n\n    return(\n        <div className={classes.root}>\n            <div className={classes.tabBar}>\n                <Tabs value={active} onChange={handleChange}>\n                    <Tab label=\"Manager\" {...a11yProps(0)} />\n                    <Tab label=\"Editor\" {...a11yProps(1)} disabled={!blog} />\n                    <Tab label=\"Preview\" {...a11yProps(2)} disabled={!blog} />\n                </Tabs>\n            </div>\n            <TabPanel value={active} index={0}>\n                <BlogManager posts={posts} blog={blog} setBlog={setBlog}\n                             newPost={newPost} removePost={removePost} />\n            </TabPanel>\n            <TabPanel value={active} index={1}>\n                <BlogEditor blog={blog} setBlog={setBlog} updateBlog={updateBlog} />\n            </TabPanel>\n            <TabPanel value={active} index={2}>\n                <FeedCard type=\"blog\" data={blog} inactive={true}/>\n                <BlogPost blog={blog} />\n            </TabPanel>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(BlogAdmin)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport { postData } from '../utils/helpers'\nimport LoadingCircle from '../utils/LoadingCircle'\n\nconst styles = (theme) => ({\n    root: {\n        height: '100%',\n        width: '100%',\n        margin: 0,\n        padding: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    paper: {\n        marginTop: '20px',\n        width: '100%',\n        padding: '2%',\n        boxSizing: 'border-box',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    }\n})\n\nconst Feedback = ({classes}) => {\n\n    const [feedback, setFeedback] = useState([])\n    useEffect(() => {\n        const getFeedback = async () => {\n            fetch('/api/get_feedback')\n                .then(res => res.json())\n                .then(data => {\n                    console.log(data.feedback)\n                    setFeedback(data.feedback)\n                })\n        }\n        getFeedback()\n    }, [])\n\n    return(\n        <div className={classes.root}>\n            {feedback.map(f => {\n                return (\n                    <Paper className={classes.paper}>\n                        <Typography>{f.created}</Typography>\n                        <Typography>{f.email}</Typography>\n                        <hr style={{margin: '10px 0'}}/>\n                        <Typography>{f.message}</Typography>\n                    </Paper>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Feedback)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nimport { postData } from '../utils/helpers'\nimport LoadingCircle from '../utils/LoadingCircle'\n\nconst styles = (theme) => ({\n    root: {\n        position: 'relative',\n        height: '100%',\n        width: '100%',\n        margin: 0,\n        padding: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    paper: {\n        marginTop: '20px',\n        width: '100%',\n        padding: '2%',\n        boxSizing: 'border-box',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    checkboxes: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        flexWrap: 'wrap',\n    },\n    checkbox: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n})\n\nconst Logs = ({classes}) => {\n\n    const APIs = ['recent', 'top', 'search', 'video', 'topics', 'comments',\n                  'youtube_comments', 'analyze', 'cluster', 'blog']\n\n    const [logs, setLogs] = useState([])\n    const [active, setActive] = useState(null)\n    useEffect(() => {\n        let allActive = {}\n        APIs.forEach(api => allActive[api] = true)\n        setActive(allActive)\n\n        const getLogs = async() => {\n            // Get logs\n            const url = '/api/get_logs'\n            const params = APIs\n            const results = await postData(url, params)\n            const newLogs = []\n            results.logs.forEach(item => {\n                let fields = item.split(\" - \")\n                if (fields.length === 5) {\n                    newLogs.unshift({time: fields[0].slice(5, 19), api: fields[3], details: fields[4]})\n                }\n            })\n            setLogs(newLogs)\n            calculateGoogleQuota(newLogs)\n        }\n        getLogs()\n    }, [])\n\n    const [feed, setFeed] = useState([])\n    const updateFeed = () => {\n        if (!logs) {\n            return\n        }\n        let newFeed = []\n        logs.forEach(log => {\n            if (active[log.api]) {\n                newFeed.push(log)\n            }\n        })\n        console.log(logs[0])\n        setFeed(newFeed)\n    }\n\n    useEffect(() => {\n        updateFeed()\n    }, [logs, active])\n\n    const handleCheck = (e) => {\n        setActive({ ...active, [e.target.name]: e.target.checked})\n    }\n\n    const [googleQuota, setGoogleQuota] = useState(0)\n    const calculateGoogleQuota = (logs) => {\n        const prices = {\n            'search': 100,\n            'video': 10,\n            'youtube_comments': 100\n        }\n        let totalPrice = 0\n        logs.forEach(log => {\n            if (prices[log.api]) {\n                totalPrice += prices[log.api]\n            }\n        })\n        setGoogleQuota(totalPrice)\n    }\n\n    return(\n        <div className={classes.root}>\n            <Paper className={classes.paper}>\n                <Typography variant='h6'>Overview</Typography>\n                <Typography>Total logs: {logs.length}</Typography>\n                <Typography>Google Quota: {googleQuota}</Typography>\n            </Paper>\n            <hr style={{margin: '10px 0'}} />\n            <Paper className={classes.paper}>\n                <FormGroup row className={classes.checkboxes}>\n                    {active ? APIs.map(api => {\n                        return(\n                            <FormControlLabel className={classes.checkbox}\n                                control={<Checkbox checked={active[api]} onChange={handleCheck} name={api} key={api}/>}\n                                label={api}\n                            />\n                        )\n                    }) : null}\n                </FormGroup>\n            </Paper>\n            <hr style={{margin: '10px 0'}} />\n            <TableContainer>\n                <Table size='small' className={classes.table}>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>Time</TableCell>\n                            <TableCell>Api</TableCell>\n                            <TableCell>Detail</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {feed.map(item => {\n                            return (<TableRow key={Math.random()}>\n                                <TableCell align=\"left\">{item.time}</TableCell>\n                                <TableCell align=\"left\">{item.api}</TableCell>\n                                <TableCell align=\"left\">{item.details}</TableCell>\n                            </TableRow>)\n                        })}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Logs)\n","import { useState, useEffect } from 'react';\n\nimport { Link, useRouteMatch, useParams, Switch, Route } from 'react-router-dom';\n\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport UsersAdmin from './pages/UsersAdmin';\nimport BlogAdmin from '../blog/BlogAdmin'\nimport Feedback from './Feedback'\nimport Logs from './Logs'\nimport ReactiveDrawer from '../dashboard/Drawer'\nimport LoadingCircle from '../utils/LoadingCircle';\nimport ErrorPage from '../utils/ErrorPage';\nimport { postData, capitalize } from '../utils/helpers';\n\nconst drawerWidth = '240px'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        [theme.breakpoints.up('md')]: {\n            alignItems: 'flex-start',\n        },\n    },\n    content: {\n        width: '100%',\n        padding: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            width: '80%',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: `calc(100% - 240px)`,\n            maxWidth: '800px',\n            marginLeft: drawerWidth,\n        },\n        boxSizing: 'border-box',\n    },\n    titleLine: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        width: 'inherit',\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up('md')]: {\n            marginRight: 0,\n            display: 'none',\n        },\n    },\n})\n\nconst ADMIN_CHANNEL = {\n    thumbnail: null,\n    channel_title: 'Admin',\n}\n\nconst Admin = ({auth0User, classes}) => {\n\n    const params = useParams()\n    const activePage = params.tab\n\n    const drawerItems = ['users', 'logs', 'blog', 'contact', 'waitlist']\n    const [mobileOpen, setMobileOpen] = useState(false)\n    const handleDrawerToggle = (val=null) => {\n        if (val === 'open') {\n            setMobileOpen(true)\n        } else if (val === 'closed') {\n            setMobileOpen(false)\n        } else {\n            setMobileOpen(!mobileOpen)\n        }\n    }\n\n    const [isLoading, setIsLoading] = useState(true)\n    const [hasError, setHasError] = useState(false)\n    const [invalid, setInvalid] = useState(false)\n    const [userData, setUserData] = useState(null)\n    const getUser = async () => {\n        try {\n            const response = await postData('/api/user', {auth0User})\n            if (!response.user) {\n                setIsLoading(false)\n                setHasError(true)\n                if (response.error) {\n                    console.log(`Error loading user from database: ${response.error}`)\n                }\n            } else {\n                setUserData(response.user)\n                validateUser(response.user)\n            }\n        }\n        catch(e) {\n            setIsLoading(false)\n            setHasError(true)\n            console.log(`Error loading dashboard: ${e}`)\n        }\n    }\n    const validateUser = (user) => {\n        const ADMIN_USERS = ['google-oauth2|102946505160688760338']\n        if (ADMIN_USERS.includes(user.id)) {\n            setInvalid(true)\n            setIsLoading(false)\n        } else {\n            // TODO: Redirect\n            setIsLoading(false)\n            setInvalid(true)\n        }\n    }\n\n    const routes = (\n        <Switch>\n            <Route exact path='/admin'>\n                <Typography>Please select a section.</Typography>\n            </Route>\n            <Route exact path={`/admin/users`}>\n                <UsersAdmin userData={userData} />\n            </Route>\n            <Route exact path={`/admin/logs`}>\n                <Logs />\n            </Route>\n            <Route exact path={`/admin/blog`}>\n                <BlogAdmin />\n            </Route>\n            <Route exact path={`/admin/contact`}>\n                <Feedback />\n            </Route>\n            <Route exact path={`/admin/waitlist`}>\n                {/* <WaitlistAdmin /> */}\n            </Route>\n        </Switch>\n    )\n\n    const [placeholder, setPlaceholder] = useState([])\n    useEffect(() => {\n        if (isLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else if (invalid) {\n            setPlaceholder(<Typography>Active user is not Admin</Typography>)\n        }\n    }, [isLoading, hasError, invalid])\n\n    return(\n        <div className={classes.root}>\n\n            {/* Navigation menu on the left. Fixed xl lg, Hidden md sm xs. */}\n            <ReactiveDrawer\n                section={'admin'}\n                drawerItems={drawerItems}\n                activePage={activePage}\n                channel={ADMIN_CHANNEL}\n                mobileOpen={mobileOpen}\n                handleDrawerToggle={handleDrawerToggle}\n            />\n\n            {/* Page title */}\n            <main className={classes.content}>\n                <div className={classes.titleLine}>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        edge=\"start\"\n                        onClick={handleDrawerToggle}\n                        className={classes.menuButton}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h3\" noWrap>\n                        {capitalize(activePage)}\n                    </Typography>\n                </div>\n\n            </main>\n\n            {isLoading || hasError || invalid\n                ? {placeholder}\n                : {routes}\n            }\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Admin)\n","import { useParams } from 'react-router'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme) => ({\n    root: {\n        padding: '30px',\n        minHeight: '400px',\n        backgroundColor: theme.palette.primary.main,\n    },\n})\n\nconst Placeholder = ({classes}) => {\n    const params = useParams()\n    const activePage = params.page\n\n\n    return(\n        <div className={classes.root}>\n           <Typography variant='h3'>\n               {activePage} placeholder\n           </Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Placeholder)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport { useHistory, useParams } from 'react-router'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nimport LoadingCircle from './utils/LoadingCircle'\nimport { postData } from './utils/helpers'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        width: '100%',\n        margin: '5px 0',\n    },\n    head: {\n        margin: '0',\n    },\n    bold: {\n        fontWeight: '600',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    },\n    centered: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n})\n\nconst Login = ({page=null, classes}) => {\n    const params = useParams()\n    const [username, setUsername] = useState(\"\")\n    const [inputUsername, setInputUsername] = useState(true)\n    const [title, setTitle] = useState(\"\")\n    const handleUsername = (e) => {\n        setUsername(e.target.value)\n    }\n    useEffect(() => {\n        if (page) {\n            setUsername(page)\n            setInputUsername(false)\n            setTitle(\"Login to \" + page)\n        } else if (params.username) {\n            setUsername(params.username)\n            setInputUsername(false)\n            setTitle(\"Login to \" + params.username)\n        } else {\n            setTitle(\"Login\")\n        }\n    }, [])\n\n    const [password, setPassword] = useState(\"\")\n    const [isLoading, setIsLoading] = useState(false)\n    const [rejected, setRejected] = useState(false)\n    const handlePassword = (e) => {\n        setPassword(e.target.value)\n        if (rejected) {\n            setRejected(false)\n        }\n    }\n\n    const history = useHistory()\n    const handleLogin = async () => {\n        setIsLoading(true)\n\n        // Send to backend for verification\n        const response = await postData('/api/login', {username, password})\n\n        if (!response.user) {\n            // If incorrect, show rejected\n            setRejected(true)\n            setIsLoading(false)\n        } else {\n            // If correct, add userData to localStorage and go to page\n            localStorage.setItem('userData', JSON.stringify(response.user))\n            if (page) {\n                history.go(0) // /admin just refreshes\n            } else {\n                history.push('../dashboard') // /u pages redirect to dashboard\n            }\n        }\n    }\n\n    const loginForm = (\n        <>\n            {!inputUsername ? null :\n                <div className={`${classes.row} ${classes.head}`}>\n                    <Typography className={classes.body1}>Username:</Typography>\n                    <TextField\n                        autoFocus\n                        margin=\"none\"\n                        type=\"text\"\n                        inputProps={{min: 0,style: {width: '100px', textAlign: 'right'}}}\n                        className={classes.body1}\n                        onChange={handleUsername}\n                        value={username}\n                    />\n                </div>\n            }\n            <div className={`${classes.row} ${classes.head}`}>\n                <Typography className={classes.body1}>Password:</Typography>\n                <TextField\n                    autoFocus\n                    margin=\"none\"\n                    type=\"password\"\n                    inputProps={{min: 0,style: {width: '100px', textAlign: 'right'}}}\n                    className={classes.body1}\n                    onChange={handlePassword}\n                    value={password}\n                />\n            </div>\n            <div className={classes.row}>\n                {rejected\n                    ? <Typography className={classes.error}>\n                        Incorrect password. Please try again.\n                    </Typography>\n                    : null\n                }\n            </div>\n        </>\n    )\n\n    return (\n        <Dialog open>\n            <DialogTitle className={classes.centered}>{title}</DialogTitle>\n            <DialogContent>\n                {isLoading\n                    ? <LoadingCircle />\n                    : loginForm\n                }\n            </DialogContent>\n            <DialogActions className={classes.centered}>\n                <Button onClick={handleLogin} variant=\"contained\" className={classes.csRed}>\n                    LOGIN\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n\n}\n\nexport default withStyles(styles)(Login)\n","import { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Redirect, Switch, useHistory } from 'react-router-dom'\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { withStyles } from '@material-ui/core/styles'\nimport { useAuth0 } from '@auth0/auth0-react'\n\nimport getTheme from './theme.js'\nimport Landing from \"./components/landing/Landing.jsx\"\nimport Dashboard from \"./components/dashboard/Dashboard.jsx\"\nimport Admin from \"./components/admin/Admin.jsx\"\nimport Placeholder from \"./components/Placeholder.jsx\"\nimport Login from './components/Login.jsx';\nimport { postData } from './components/utils/helpers.js';\n\nconst theme = getTheme()\n\ntheme.typography.h1 = {\n  [theme.breakpoints.up('sm')]: {\n    fontSize: '3.5em',\n  },\n}\n\nconst styles = (theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    margin: 0,\n    padding: 0,\n  },\n  body: {\n    flexGrow: 1,\n  },\n  navBar: {\n    zIndex: 100\n  },\n  footer: {\n    zIndex: 100\n  },\n})\n\n  // AUTH0 GOOGLE USER STRUCTURE:\n  // const user = {\n  //   email: \"granthawkins88@gmail.com\",\n  //   email_verified: true,\n  //   family_name: \"Hawkins\",\n  //   given_name: \"Grant\",\n  //   locale: \"en\",\n  //   name: \"Grant Hawkins\",\n  //   nickname: \"granthawkins88\",\n  //   picture: \"https://lh3.googleusercontent.com/a-/AOh14Ggx_la7EufYVuwYhxbtTs9j3OJDpW5N3Wo2YeBXPLA=s96-c\",\n  //   sub: \"google-oauth2|102946505160688760338\",\n  //   updated_at: \"2021-08-24T02:01:47.992\",\n  // }\n\nconst App = ({classes}) => {\n\n  let { user } = useAuth0()\n  const [auth0User, setAuth0User] = useState(null)\n  useEffect(() => {\n      if (user) {\n        setAuth0User(user)\n      }\n  }, [user])\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className={classes.root} style={{backgroundColor: theme.palette.primary.main}}>\n        <Router>\n          <Switch>\n            <Route path='/dashboard/:tab'>\n              <Dashboard auth0User={auth0User} />\n            </Route>\n            <Route path='/dashboard'>\n              <Redirect to='/dashboard/videos' />\n            </Route>\n\n            <Route path='/admin/:tab'>\n              <Admin auth0User={auth0User} />\n            </Route>\n            <Route path='/admin'>\n              <Redirect to='/admin/users' />\n            </Route>\n\n            <Route path='/u/:username'>\n              <Login />\n            </Route>\n\n            <Route path='/:page'>\n              <Placeholder />\n            </Route>\n\n            <Route path='/'>\n              <Landing />\n            </Route>\n\n          </Switch>\n        </Router>\n      </div>\n    </ThemeProvider>\n  )\n}\n\nexport default withStyles(styles)(App)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Auth0Provider } from \"@auth0/auth0-react\"\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\n\nReactDOM.render(\n  <Auth0Provider\n    domain=\"dev-o68rln01.us.auth0.com\"\n    clientId=\"7YRTrvXYhEpZk2jQHyHm7HQmu4ukKhlD\"\n    redirectUri='http://localhost:3000/dashboard/videos'\n  >\n    <App />\n  </Auth0Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}